{"version":3,"sources":["pages/Trade/TradeInfo/TradeInfo.js","lib/charting_library/charting_library.esm.js","pages/Trade/Tradingview/Tradingview.js","pages/Trade/MyInfo/Position/Position.js","pages/Trade/MyInfo/History/History.js","pages/Trade/MyInfo/MyInfo.js","pages/Trade/ContractInfo/ContractInfo.js","components/MarginPanel/MarginPanel.js","components/Gauge/Gauge.js","pages/Trade/Sidebar/TradeWarnning.js","pages/Trade/Account/AccountInfo.js","components/Slider/Slider.js","pages/Trade/Sidebar/Confirmation.js","pages/Trade/Sidebar/LeverageBar.js","pages/Trade/Sidebar/OrderBar.js","pages/Trade/Sidebar/SymbolArea/SymbolPanel.js","pages/Trade/Sidebar/SymbolArea/SymbolInfo.js","pages/Trade/Trade.js","utils/DeriNumberFormat.js","components/UnderlineText/UnderlineText.js","components/ButtonGroup/ButtonGroup.js","components/Tab/Tab.js","components/Input/Input.js","components/Toggle/Toggle.js","components/Checkbox/Checkbox.js","components/TransactionButton/TransactionButton.js","components/RemoveHint/RemoveHint.js","components/Search/Search.js"],"names":["getLang","key","Intl","get","fileds","text","value","decimal","type","tip","suffix","inject","observer","trading","useState","columns","setColumns","useEffect","fundingRate","cols","Type","isFuture","markPrice","index","UnderlineText","fundingFeeValueTip","multiline","className","DeriNumberFormat","fundingFee","decimalScale","rateTip","fundingFeeRate","fundingFeeTip","symbolInfo","volumn24h","tradersNetVolume","unit","underlier","volatility","contract","initialMarginRatio","maintenanceMarginRatio","feeDisplay","payoff","fee","marginReqs","dailyFunding","Icon","token","width","height","class","map","col","id","tipWidth","classNames","prefix","t","Object","assign","e","o","arguments","n","i","length","r","prototype","hasOwnProperty","call","apply","this","Array","isArray","mobile","disabled_features","enabled_features","interval","timezone","container_id","library_path","locale","widgetbar","details","watchlist","watchlist_settings","default_symbols","overrides","studies_overrides","trading_customization","position","order","brokerConfig","configFlags","fullscreen","autosize","debug","logo","time_frames","resolution","client_id","user_id","charts_storage_api_version","favorites","intervals","chartTypes","_id","Math","random","toString","substring","_ready","_readyHandlers","_onWindowResize","_autoResizeChart","bind","datafeed","Error","_options","preset","concat","console","warn","theme","loading_screen","backgroundColor","_create","onChartReady","push","headerReady","_innerWindowLoaded","then","_innerWindow","onGrayedObjectClicked","_innerAPI","onShortcut","createShortcutAction","subscribe","unsubscribe","chart","getLanguage","setSymbol","changeSymbol","remove","window","removeEventListener","splice","_iFrame","parentNode","removeChild","closePopupsAndDialogs","selectLineTool","selectedLineTool","save","saveChart","load","loadChart","json","extendedData","getSavedCharts","loadChartFromServer","saveChartToServer","removeChartFromServer","onContextMenu","createButton","showNoticeDialog","showConfirmDialog","showLoadChartDialog","showSaveAsChartDialog","symbolInterval","getSymbolInterval","mainSeriesPriceFormatter","getIntervals","getStudiesList","addCustomCSSFile","applyOverrides","applyStudiesOverrides","watchList","activeChart","chartsCount","layout","setLayout","layoutName","changeTheme","getTheme","takeScreenshot","lockAllDrawingTools","hideAllDrawingTools","drawOnAllCharts","magnetEnabled","magnetMode","undoRedoState","setIntervalLinkingEnabled","setTimeFrame","symbolSync","intervalSync","crosshairSync","timeSync","getAllFeatures","clearUndoHistory","undo","redo","startFullscreen","exitFullscreen","takeClientScreenshot","tradingViewApi","contentWindow","style","innerHeight","_render","document","getElementById","innerHTML","querySelector","addEventListener","Promise","widgetReady","error","initializationFinished","customFormatters","custom_formatters","brokerFactory","broker_factory","studiesOverrides","tradingCustomization","disabledFeatures","enabledFeatures","broker_config","restConfig","numeric_formatting","rss_news_feed","newsProvider","news_provider","loadLastChart","load_last_chart","saveLoadAdapter","save_load_adapter","settingsAdapter","settings_adapter","getCustomIndicators","custom_indicators_getter","saved_data","chartContent","saved_data_meta_info","chartContentExtendedData","symbol","encodeURIComponent","timeframe","toolbar_bg","replace","studies_access","JSON","stringify","drawings_access","String","charts_storage_url","custom_css_url","auto_save_delay","snapshot_url","study_count_limit","symbol_search_request_delay","compare_symbols","TradingView","version","supported_resolutions","GET_KLINE_URL","process","subscribes","intl","widgetRef","useRef","lastDataRef","datafeedRef","onReady","callback","setTimeout","getBars","from","to","onHistoryCallback","onErrorCallback","firstDataRequest","resolveSymbol","symbolName","onSymbolResolvedCallback","subscribeBars","onRealtimeCallback","subscribeUID","onResetCacheNeededCallback","unsubscribeBars","subscriberUID","a","pos","name","indexOf","markpriceSymbolFormat","axios","params","getFormatSymbol","time_type","intervalRange","res","status","data","klineData","current","noData","webSocket","time","subscriptUID","description","Version","isOpen","ticker","pricescale","decimals","minmov","has_intraday","intraday_multipliers","has_weekly_and_monthly","has_no_volume","has_daily","session","initialize","DateTimeFormat","resolvedOptions","timeZone","tvConfig","rest","widgetOptions","widget","isOption","priceScale","underline","split","createStudy","addReconnectEvent","Date","getTime","removeReconnectEvent","LiqText","styled","div","positions","lang","ele","numPositions","price1","price2","LiqPriceDisplay","tatal","reduce","total","p","findIndex","item","detail","liquidationPrice","formatNumber","number","HeaderDisplay","keys","PositionList","loaded","colClass","onClick","wallet","alert","useAlert","direction","directionColor","minTradeScaleDecimal","symbolUnit","averageEntryPrice","marginHeldBySymbol","unrealizedPnl","action","closeButton","closePosition","symbolParam","ApiProxy","request","chainId","pool","address","account","includeResponse","success","refresh","label","isAllV3","symbolId","Button","bgColor","defaultBorderColor","outline","outlineColor","HistoryList","history","colums","h","format","clazz","target","rel","href","blockExploreUrl","transactionHash","dateFormat","asString","parseInt","Wrapper","MyInfo","tabSet","content","Tab","activeBgColor","TokenWrapper","span","basetokenDisplay","bTokenSymbol","html","bTokenMultiplier","join","rows","labelDes","toExponential","valueTip","fundingCoefficientTip","bg","times","toFixed","TransactionFeeTip","row","block","ListBody","baseTokens","selectBToken","selectedBToken","bToken","selected","toUpperCase","supplyApy","plus","xvsApy","allowZero","walletBalance","availableBalance","isV3","isV3Lite","discount","BalanceDisplay","DEPOSIT","MarginPanel","setSelectedBToken","setDiscount","setBaseTokens","amount","setAmount","defaultPercent","setDefaultPercent","marginChangedSummary","setMarginChangedSummary","setLoaded","tradeInfo","setTradeInfo","isMax","setIsMax","marginChangeDescClass","show","click","method","WITHDRAW","gt","isNaN","bTokenId","clean","response","loadBToken","selectedSymbol","bTokens","sort","t1","t2","bal1","bal2","loadBTokenDiscount","loadTradeInfo","accountInfo","dynEffMargin","marginUsage","availableMargin","changed","bTokenDiscount","find","d","bTokenPrice","toNumber","abs","marginUsagePercent","b0Penalty","toLowerCase","src","closeModalIcon","alt","hide","Search","list","onChange","Input","inputWidth","RemoveHint","baseToken","isB0Staked","penalty","ButtonGroup","groups","selectedBorderColor","defaultValue","balance","result","percentTimesAmount","onSelect","TransactionButton","fontSize","fontWeight","CustomTooltip","Gauge","setData","coordinate","setCoordinate","setColorPercent","endColor","setEndColor","fill","setFill","startPointTip","Precent100","Precent200","minus","x1","y1","x2","y2","diff","overRange","PieChart","offset","stopColor","Pie","cy","cx","startAngle","endAngle","innerRadius","outerRadius","dataKey","labelLine","cornerRadius","stroke","isAnimationActive","Cell","fillOpacity","padding","TradeWarnning","dangerouslySetInnerHTML","__html","DynEffectiveBalanceDisplay","isShowCollect","setIsShowCollect","showClass","closeCollect","stopPropagation","claimVenusReward","close","tradeBToken","closeShowLoadingEffectAfterLoaded","venusEarned","disabled","isShowWarn","setIsShowWarn","warnContent","setWarnContent","showWarnClass","showMarginPanel","fading","background","zIndex","SECONDARY","icon","isReady","isAccountReady","Slider","min","step","max","onSlide","trackStyle","railStyle","handleStyle","Confirmation","skipConfirmation","buttonText","BUY","doTransaction","storeSkipConfirmation","Label","directionChanged","before","volumeChanged","now","totalVolume","impactPreview","tradePrice","marginUsageAfter","availableMarginAfter","liqPrice","liqPriceAfter","fontColor","modalOptions","setSkipConfirmation","setPosition","inputTipRef","btnRef","closeOnlyClazz","volume","SELL","transSummaryClazz","inputTipClass","orderSliderBarClass","closeOnly","positionTradingStatus","TRADING_CLOSE_POSITION_STATUS","tradeWarnClass","tradeWarn","clear","setInputPercentageValue","setInputDollarValue","setInputSliderValue","setVolume","setCloseOnly","onCheckboxChanged","checked","skipTradeConfirmation","setDirection","inputTipVisible","isElementInViewport","btnRefVisible","isMobile","handler","isScrollBottom","volumeValue","minTradeVolume","minEntryVolume","maxEntryVolume","curTradeUnit","dollarValue","maxDollarValue","dollar","maxAvailableMargin","sliderStyle","sliderValue","inputPercentageValue","Toggle","ref","inputHelpText","Checkbox","isTradingReady","TabWrapper","Orderbar","borderColor","size","inactiveBgColor","borderTop","borderBottom","divider","FuturePanel","symbols","SymbolList","VERSION_V3","zone","VERSION_V3_LITE","VERSION_V2_LITE","VERSION_V2_OPEN","OptionPanel","allowMultipleExpanded","allowZeroExpanded","preExpanded","uuid","marginRight","info","symbolDisplay","filterSymbols","s1","s2","filter","s","includes","Open","onClose","onSymbolChange","onGirdLayoutChange","isShow","setIsShow","toolTipRef","isShowKline","setIsShowKline","rateClass","closeTooltip","onLayoutChange","closeKline","data-for","data-event","data-tip","firstLetterUppercase","Tooltip","afterHide","afterShow","place","overridePosition","currentEvent","currentTarget","refNode","desiredPlace","effect","rect","parentElement","getBoundingClientRect","top","offsetTop","left","resizeHide","eventOff","scrollHide","globalEventOff","clickable","symbolInfos","tooltipRef","ReactTooltip","loading","setloaded","isMobileLayout","setIsMobileLayout","layoutClass","init","NumberFormat","props","LoadLine","test","renderablity","setRenderablity","firstTime","setFirstTime","isValidate","undefined","others","countDecimal","toPlainString","displayType","fixedDecimalScale","thousandSeparator","timeout","clearTimeout","MD5","children","tiggerEvent","data-html","tooltipNodeRect","x","y","originLeft","originTop","documentElement","clientWidth","clientHeight","borderRadius","setValue","isSelected","borderR","borderL","borderB","activeFontColor","borderT","arr","setSelected","styles","select","inicon","unitPadding","focus","readOnly","inputRef","setCustomValidity","regStr","reg","RegExp","integerValue","icons","CheckboxContainer","svg","HiddenCheckbox","input","attrs","StyledCheckbox","viewBox","points","restProps","enabled","setEnabled","btnText","setBtnText","image","setImage","isConnected","connect","isApproved","approve","setAddress","setBToken","setBTokenId","setText","searchName","search","setSearch","setLength","origin","toLocaleUpperCase","el","placeholder","searchChange","searchLogo"],"mappings":"yaAWMA,EAAU,SAAAC,GACd,OAAOC,IAAKC,IAAI,QAASF,IAErBG,EAAS,CACb,aAAe,CAACC,KAAOL,EAAQ,cAAcM,MAAQ,GAAGC,QAAU,EAAEC,KAAO,UAC3E,cAAgB,CAACH,KAAOL,EAAQ,eAAeM,MAAQ,GAAGC,QAAU,EAAEC,KAAO,UAC7E,KAAS,CAACH,KAAOL,EAAQ,QAAQS,IAAMT,EAAQ,YAAYM,MAAQ,GAAGI,OAAS,IAAIH,QAAU,GAC7F,gBAAkB,CAACF,KAAOL,EAAQ,iBAAiBM,MAAQ,GAAGI,OAAS,IAAIH,QAAU,GACrF,aAAe,CAACF,KAAOL,EAAQ,cAAcM,MAAQ,GAAGE,KAAO,SAASE,OAAS,KACjF,qBAAuB,CAACL,KAAOL,EAAQ,sBAAsBS,IAAMT,EAAQ,0BAA0BM,MAAQ,GAAGC,QAAU,EAAEC,KAAO,UACnI,aAAc,CAACH,KAAOL,EAAQ,cAAcM,MAAQ,GAAGG,IAAMT,EAAQ,mBACrE,IAAQ,CAACK,KAAOL,EAAQ,OAAOM,MAAQ,IACvC,OAAW,CAACD,KAAOL,EAAQ,UAAUM,MAAQ,GAAGG,IAAMT,EAAQ,gBAgEjDW,kBAAO,UAAPA,CAAkBC,aA9DjC,YAA8B,IAAVC,EAAS,EAATA,QAAS,EACGC,mBAAS,IADZ,mBACpBC,EADoB,KACXC,EADW,KAyC3B,OAvCAC,qBAAU,WACR,GAAGJ,EAAQK,YAAY,CACrB,IAAIC,EAAO,GAETA,EADCC,IAAKC,SACC,CAAC,2BACFjB,EAAO,eADN,IACoBE,MAAQO,EAAQS,YADpC,2BAEDlB,EAAO,gBAFN,IAEqBE,MAAQO,EAAQU,QAFrC,2BAGDnB,EAAO,kBAHN,IAGuBE,MAAQ,WAClC,OACA,qCACE,eAACkB,EAAA,EAAD,CAAef,IAAKI,EAAQY,mBAAoBC,WAAS,EAACC,UAAU,eAApE,UACE,cAACC,EAAA,EAAD,CAAkBtB,MAAK,UAAKO,EAAQgB,YAAcC,aAAa,MADjE,cADF,IAIG,eAACN,EAAA,EAAD,CAAef,IAAKI,EAAQkB,QAASL,WAAS,EAACC,UAAU,eAAzD,UACC,cAACC,EAAA,EAAD,CAAkBE,aAAa,IAAIxB,MAAOO,EAAQmB,iBADnD,OAJH,QASDvB,IAAMI,EAAQoB,gBAdV,2BAeD7B,EAAO,eAfN,IAeoBE,MAAwC,IAA/BO,EAAQqB,WAAWC,UAAgBR,UAAYd,EAAQqB,WAAWC,YAActB,EAAQqB,WAAWC,UAAY,EAAI,KAAO,UAfvJ,2BAgBD/B,EAAO,uBAhBN,IAgB4BE,MAAQ,kBAAM,cAACsB,EAAA,EAAD,CAAkBtB,MAAOO,EAAQK,YAAYkB,iBAAkB1B,OAAM,WAAMG,EAAQqB,WAAWG,YAGxI,CAAC,2BACFjC,EAAO,eADN,IACoBE,MAAQO,EAAQS,YADpC,2BAEDlB,EAAM,MAFL,IAEcC,KAAOQ,EAAQqB,WAAWI,UAAUhC,MAAQ,kBAAM,qCAAE,cAACsB,EAAA,EAAD,CAAkBtB,MAAOO,EAAQU,MAAOO,aAAc,IAAxD,aAAsE,cAACF,EAAA,EAAD,CAAkBtB,MAAOO,EAAQ0B,WAAYT,aAAc,EAAGpB,OAAO,YAF3M,2BAGDN,EAAO,kBAHN,IAGuBE,MAAQ,kBACjC,cAACkB,EAAA,EAAD,CAAef,IAAKI,EAAQY,mBAAoBC,WAAS,EAAzD,SAA0D,cAACE,EAAA,EAAD,CAAkBtB,MAAOO,EAAQgB,WAAYC,aAAa,SACtHrB,IAAMI,EAAQoB,gBALV,2BAMD7B,EAAO,eANN,IAMoBE,MAAuC,IAA/BO,EAAQqB,WAAWC,UAAgBR,UAAYd,EAAQqB,WAAWC,YAActB,EAAQqB,WAAWC,UAAY,EAAI,KAAO,UANtJ,2BAOD/B,EAAO,uBAPN,IAO4BE,MAAQ,kBAAM,cAACsB,EAAA,EAAD,CAAkBtB,MAAOO,EAAQK,YAAYkB,iBAAkB1B,OAAM,WAAMG,EAAQqB,WAAWG,WAPxI,2BAQDjC,EAAO,eARN,IAQoBE,MAAQ,kBAAM,qCAAE,cAACsB,EAAA,EAAD,CAAkBtB,MAA2C,IAApCO,EAAQ2B,SAASC,mBAAwB/B,OAAO,IAAIoB,aAAa,MAA5F,MAAoG,cAACF,EAAA,EAAD,CAAkBtB,MAAiD,IAA1CO,EAAQ2B,SAASE,uBAA8BhC,OAAO,IAAIoB,aAAa,YARtO,2BASD1B,EAAM,KATL,IASaE,MAAQ,kBAAM,qCAAGO,EAAQ8B,WAAW,GAAtB,MAA4B,cAACf,EAAA,EAAD,CAAkBtB,MAAOO,EAAQ8B,WAAW,GAAIjC,OAAO,YAT9G,2BAUDN,EAAM,QAVL,IAUgBE,MAAQ,kBAAM,cAACsB,EAAA,EAAD,CAAkBtB,MAAOO,EAAQK,YAAY0B,aAGpF5B,EAAWG,MAEZ,CAACN,EAAQK,YAAYL,EAAQ0B,WAAW1B,EAAQgC,IAAIhC,EAAQiC,WAAWjC,EAAQkC,aAAalC,EAAQqB,WAAWZ,YAEhH,sBAAKK,UAAU,qBAAf,UACA,qBAAKA,UAAU,kBAAf,SAAiC,cAACqB,EAAA,EAAD,CAAMC,MAAM,aAAaC,MAAM,KAAKC,OAAO,SAC1E,qBAAKC,MAAM,SAAX,SACGrC,EAAQsC,KAAI,SAACC,EAAI/B,GAAL,OACX,sBAAKI,UAAU,QAAf,UACE,qBAAKA,UAAU,aAAf,SACG2B,EAAI7C,IAAM,cAACe,EAAA,EAAD,CAAe+B,GAAID,EAAIC,GAAIlD,KAAMiD,EAAIjD,KAAMI,IAAK6C,EAAI7C,IAAKyC,MAAOI,EAAIE,SAAU9B,WAAS,IAAK4B,EAAIjD,OAE7G,qBAAKsB,UAAW8B,IAAW,YAAYH,EAAI3B,WAA3C,SACyB,oBAAd2B,EAAIhD,MACXgD,EAAIhD,MAAMgD,GACT,cAAC1B,EAAA,EAAD,CAAmBtB,MAASgD,EAAIhD,MAAOoD,OAAQJ,EAAII,OAAQhD,OAAQ4C,EAAI5C,OAAQoB,aAAcwB,EAAI/C,SAAW,QAPvFgB,QAYhC,qBAAKI,UAAU,mBAAf,SAAmC,cAACqB,EAAA,EAAD,CAAMC,MAAM,cAAcC,MAAM,KAAKC,OAAO,gB,gCCnFjFQ,EAAE,WAAW,OAAOA,EAAEC,OAAOC,QAAQ,SAASF,GAAG,IAAI,IAAIG,EAAEC,EAAEC,UAAUC,EAAE,EAAEC,EAAEF,UAAUG,OAAOF,EAAEC,EAAED,IAAI,IAAI,IAAIG,KAAKN,EAAEC,EAAEE,GAAGL,OAAOS,UAAUC,eAAeC,KAAKT,EAAEM,KAAKT,EAAES,GAAGN,EAAEM,IAAI,OAAOT,IAAIa,MAAMC,KAAKT,YAAY,SAASF,EAAEC,EAAEE,GAAG,IAAIC,EAAEP,EAAE,GAAGI,GAAG,IAAI,IAAIK,KAAKH,EAAE,iBAAiBF,EAAEK,IAAI,OAAOL,EAAEK,IAAIM,MAAMC,QAAQZ,EAAEK,SAAI,IAASH,EAAEG,KAAKF,EAAEE,GAAGH,EAAEG,IAAIF,EAAEE,GAAGN,EAAEC,EAAEK,GAAGH,EAAEG,IAAI,OAAOF,EAAE,IAAIH,EAAE,CAACa,OAAO,CAACC,kBAAkB,CAAC,eAAe,gBAAgB,qBAAqB,yBAAyB,gBAAgB,cAAc,2BAA2BC,iBAAiB,KAAKb,EAAE,CAACf,MAAM,IAAIC,OAAO,IAAI4B,SAAS,KAAKC,SAAS,UAAUC,aAAa,GAAGC,aAAa,GAAGC,OAAO,KAAKC,UAAU,CAACC,SAAQ,EAAGC,WAAU,EAAGC,mBAAmB,CAACC,gBAAgB,KAAKC,UAAU,CAAC,sCAAqC,GAAIC,kBAAkB,GAAGC,sBAAsB,CAACC,SAAS,GAAGC,MAAM,IAAIC,aAAa,CAACC,YAAY,IAAIC,YAAW,EAAGC,UAAS,EAAGpB,kBAAkB,GAAGC,iBAAiB,GAAGoB,OAAM,EAAGC,KAAK,GAAGC,YAAY,CAAC,CAAC/F,KAAK,KAAKgG,WAAW,MAAM,CAAChG,KAAK,KAAKgG,WAAW,MAAM,CAAChG,KAAK,KAAKgG,WAAW,OAAO,CAAChG,KAAK,KAAKgG,WAAW,MAAM,CAAChG,KAAK,KAAKgG,WAAW,MAAM,CAAChG,KAAK,KAAKgG,WAAW,KAAK,CAAChG,KAAK,KAAKgG,WAAW,MAAMC,UAAU,IAAIC,QAAQ,IAAIC,2BAA2B,MAAMC,UAAU,CAACC,UAAU,GAAGC,WAAW,KAAuF,IAAIvC,EAAE,WAAW,SAAST,EAAEA,GAAG,GAAGc,KAAKmC,IAAI,gBAAgB,SAAS,EAAEC,KAAKC,UAAU,GAAGC,SAAS,IAAIC,UAAU,GAAGvC,KAAKwC,QAAO,EAAGxC,KAAKyC,eAAe,GAAGzC,KAAK0C,gBAAgB1C,KAAK2C,iBAAiBC,KAAK5C,OAAOd,EAAE2D,SAAS,MAAM,IAAIC,MAAM,2BAA2B,GAAG9C,KAAK+C,SAAS1D,EAAEG,EAAEN,GAAGA,EAAE8D,OAAO,CAAC,IAAIvD,EAAEH,EAAEJ,EAAE8D,QAAQvD,QAAG,IAASO,KAAK+C,SAAS3C,kBAAkBJ,KAAK+C,SAAS3C,kBAAkBJ,KAAK+C,SAAS3C,kBAAkB6C,OAAOxD,EAAEW,mBAAmBJ,KAAK+C,SAAS3C,kBAAkBX,EAAEW,uBAAkB,IAASJ,KAAK+C,SAAS1C,iBAAiBL,KAAK+C,SAAS1C,iBAAiBL,KAAK+C,SAAS1C,iBAAiB4C,OAAOxD,EAAEY,kBAAkBL,KAAK+C,SAAS1C,iBAAiBZ,EAAEY,kBAAkB6C,QAAQC,KAAK,oBAAoBjE,EAAE8D,OAAO,KAAK,SAAShD,KAAK+C,SAASK,YAAO,IAASpD,KAAK+C,SAASM,iBAAiBrD,KAAK+C,SAASM,eAAe,CAACC,gBAAgB,YAAYtD,KAAKuD,UAAU,OAAOrE,EAAEU,UAAU4D,aAAa,SAAStE,GAAGc,KAAKwC,OAAOtD,EAAEY,KAAKE,MAAMA,KAAKyC,eAAegB,KAAKvE,IAAIA,EAAEU,UAAU8D,YAAY,WAAW,IAAIxE,EAAEc,KAAK,OAAOA,KAAK2D,mBAAmBC,MAAM,WAAW,OAAO1E,EAAE2E,eAAeH,kBAAkBxE,EAAEU,UAAUkE,sBAAsB,SAAS5E,GAAGc,KAAK+D,YAAYD,sBAAsB5E,IAAIA,EAAEU,UAAUoE,WAAW,SAAS9E,EAAEG,GAAGW,KAAK6D,eAAeI,qBAAqB/E,EAAEG,IAAIH,EAAEU,UAAUsE,UAAU,SAAShF,EAAEG,GAAGW,KAAK+D,YAAYG,UAAUhF,EAAEG,IAAIH,EAAEU,UAAUuE,YAAY,SAASjF,EAAEG,GAAGW,KAAK+D,YAAYI,YAAYjF,EAAEG,IAAIH,EAAEU,UAAUwE,MAAM,SAASlF,GAAG,OAAOc,KAAK+D,YAAYK,MAAMlF,IAAIA,EAAEU,UAAUyE,YAAY,WAAW,OAAOrE,KAAK+C,SAASrC,QAAQxB,EAAEU,UAAU0E,UAAU,SAASpF,EAAEG,EAAEC,GAAGU,KAAK+D,YAAYQ,aAAarF,EAAEG,EAAEC,IAAIJ,EAAEU,UAAU4E,OAAO,WAAWC,OAAOC,oBAAoB,SAAS1E,KAAK0C,iBAAiB1C,KAAKyC,eAAekC,OAAO,EAAE3E,KAAKyC,eAAe/C,eAAe+E,OAAOzE,KAAKmC,KAAKnC,KAAK4E,QAAQC,YAAY7E,KAAK4E,QAAQC,WAAWC,YAAY9E,KAAK4E,UAAU1F,EAAEU,UAAUmF,sBAAsB,WAAW/E,KAAK+D,YAAYgB,yBAAyB7F,EAAEU,UAAUoF,eAAe,SAAS9F,GAAGc,KAAK+D,YAAYiB,eAAe9F,IAAIA,EAAEU,UAAUqF,iBAAiB,WAAW,OAAOjF,KAAK+D,YAAYkB,oBAAoB/F,EAAEU,UAAUsF,KAAK,SAAShG,GAAGc,KAAK+D,YAAYoB,UAAUjG,IAAIA,EAAEU,UAAUwF,KAAK,SAASlG,EAAEG,GAAGW,KAAK+D,YAAYsB,UAAU,CAACC,KAAKpG,EAAEqG,aAAalG,KAAKH,EAAEU,UAAU4F,eAAe,SAAStG,GAAGc,KAAK+D,YAAYyB,eAAetG,IAAIA,EAAEU,UAAU6F,oBAAoB,SAASvG,GAAGc,KAAK+D,YAAY0B,oBAAoBvG,IAAIA,EAAEU,UAAU8F,kBAAkB,SAASxG,EAAEG,EAAEC,GAAGU,KAAK+D,YAAY2B,kBAAkBxG,EAAEG,EAAEC,IAAIJ,EAAEU,UAAU+F,sBAAsB,SAASzG,EAAEG,GAAGW,KAAK+D,YAAY4B,sBAAsBzG,EAAEG,IAAIH,EAAEU,UAAUgG,cAAc,SAAS1G,GAAGc,KAAK+D,YAAY6B,cAAc1G,IAAIA,EAAEU,UAAUiG,aAAa,SAAS3G,GAAG,OAAOc,KAAK6D,eAAegC,aAAa3G,IAAIA,EAAEU,UAAUkG,iBAAiB,SAAS5G,GAAGc,KAAK+D,YAAY+B,iBAAiB5G,IAAIA,EAAEU,UAAUmG,kBAAkB,SAAS7G,GAAGc,KAAK+D,YAAYgC,kBAAkB7G,IAAIA,EAAEU,UAAUoG,oBAAoB,WAAWhG,KAAK+D,YAAYiC,uBAAuB9G,EAAEU,UAAUqG,sBAAsB,WAAWjG,KAAK+D,YAAYkC,yBAAyB/G,EAAEU,UAAUsG,eAAe,WAAW,OAAOlG,KAAK+D,YAAYoC,qBAAqBjH,EAAEU,UAAUwG,yBAAyB,WAAW,OAAOpG,KAAK+D,YAAYqC,4BAA4BlH,EAAEU,UAAUyG,aAAa,WAAW,OAAOrG,KAAK+D,YAAYsC,gBAAgBnH,EAAEU,UAAU0G,eAAe,WAAW,OAAOtG,KAAK+D,YAAYuC,kBAAkBpH,EAAEU,UAAU2G,iBAAiB,SAASrH,GAAGc,KAAK6D,eAAe0C,iBAAiBrH,IAAIA,EAAEU,UAAU4G,eAAe,SAAStH,GAAGc,KAAK+C,SAAS1D,EAAEW,KAAK+C,SAAS,CAAC/B,UAAU9B,IAAIc,KAAK6D,eAAe2C,eAAetH,IAAIA,EAAEU,UAAU6G,sBAAsB,SAASvH,GAAGc,KAAK6D,eAAe4C,sBAAsBvH,IAAIA,EAAEU,UAAU8G,UAAU,WAAW,OAAO1G,KAAK+D,YAAYlD,aAAa3B,EAAEU,UAAU+G,YAAY,WAAW,OAAO3G,KAAK+D,YAAY4C,eAAezH,EAAEU,UAAUgH,YAAY,WAAW,OAAO5G,KAAK+D,YAAY6C,eAAe1H,EAAEU,UAAUiH,OAAO,WAAW,OAAO7G,KAAK+D,YAAY8C,UAAU3H,EAAEU,UAAUkH,UAAU,SAAS5H,GAAGc,KAAK+D,YAAY+C,UAAU5H,IAAIA,EAAEU,UAAUmH,WAAW,WAAW,OAAO/G,KAAK+D,YAAYgD,cAAc7H,EAAEU,UAAUoH,YAAY,SAAS9H,EAAEG,GAAGW,KAAK6D,eAAemD,YAAY9H,EAAEG,IAAIH,EAAEU,UAAUqH,SAAS,WAAW,OAAOjH,KAAK6D,eAAeoD,YAAY/H,EAAEU,UAAUsH,eAAe,WAAWlH,KAAK+D,YAAYmD,kBAAkBhI,EAAEU,UAAUuH,oBAAoB,WAAW,OAAOnH,KAAK+D,YAAYoD,uBAAuBjI,EAAEU,UAAUwH,oBAAoB,WAAW,OAAOpH,KAAK+D,YAAYqD,uBAAuBlI,EAAEU,UAAUyH,gBAAgB,SAASnI,GAAGc,KAAK+D,YAAYsD,gBAAgBnI,IAAIA,EAAEU,UAAU0H,cAAc,WAAW,OAAOtH,KAAK+D,YAAYuD,iBAAiBpI,EAAEU,UAAU2H,WAAW,WAAW,OAAOvH,KAAK+D,YAAYwD,cAAcrI,EAAEU,UAAU4H,cAAc,WAAW,OAAOxH,KAAK+D,YAAYyD,iBAAiBtI,EAAEU,UAAU6H,0BAA0B,SAASvI,GAAGc,KAAK+D,YAAY0D,0BAA0BvI,IAAIA,EAAEU,UAAU8H,aAAa,SAASxI,GAAGc,KAAK+D,YAAY2D,aAAaxI,IAAIA,EAAEU,UAAU+H,WAAW,WAAW,OAAO3H,KAAK+D,YAAY4D,cAAczI,EAAEU,UAAUgI,aAAa,WAAW,OAAO5H,KAAK+D,YAAY6D,gBAAgB1I,EAAEU,UAAUiI,cAAc,WAAW,OAAO7H,KAAK+D,YAAY8D,iBAAiB3I,EAAEU,UAAUkI,SAAS,WAAW,OAAO9H,KAAK+D,YAAY+D,YAAY5I,EAAEU,UAAUmI,eAAe,WAAW,OAAO/H,KAAK6D,eAAekE,kBAAkB7I,EAAEU,UAAUoI,iBAAiB,WAAW,OAAOhI,KAAK+D,YAAYiE,oBAAoB9I,EAAEU,UAAUqI,KAAK,WAAW,OAAOjI,KAAK+D,YAAYkE,QAAQ/I,EAAEU,UAAUsI,KAAK,WAAW,OAAOlI,KAAK+D,YAAYmE,QAAQhJ,EAAEU,UAAUuI,gBAAgB,WAAWnI,KAAK+D,YAAYoE,mBAAmBjJ,EAAEU,UAAUwI,eAAe,WAAWpI,KAAK+D,YAAYqE,kBAAkBlJ,EAAEU,UAAUyI,qBAAqB,SAASnJ,GAAG,OAAOc,KAAK+D,YAAYsE,qBAAqBnJ,IAAIA,EAAEU,UAAUmE,UAAU,WAAW,OAAO/D,KAAK6D,eAAeyE,gBAAgBpJ,EAAEU,UAAUiE,aAAa,WAAW,OAAO7D,KAAK4E,QAAQ2D,eAAerJ,EAAEU,UAAU+C,iBAAiB,WAAW3C,KAAK+C,SAASxB,aAAavB,KAAK4E,QAAQ4D,MAAM9J,OAAO+F,OAAOgE,YAAY,OAAOvJ,EAAEU,UAAU2D,QAAQ,WAAW,IAAIrE,EAAEc,KAAKX,EAAEW,KAAK0I,UAAUpJ,EAAEqJ,SAASC,eAAe5I,KAAK+C,SAASvC,cAAc,GAAG,OAAOlB,EAAE,MAAM,IAAIwD,MAAM,+BAA+B9C,KAAK+C,SAASvC,cAAclB,EAAEuJ,UAAUxJ,EAAEW,KAAK4E,QAAQtF,EAAEwJ,cAAc,IAAI9I,KAAKmC,KAAK,IAAI3C,EAAEQ,KAAK4E,SAAS5E,KAAK+C,SAASvB,UAAUxB,KAAK+C,SAASxB,cAAc/B,EAAEgJ,MAAM/J,MAAM,OAAOuB,KAAK+C,SAASxB,aAAa/B,EAAEgJ,MAAM9J,OAAO,SAAS+F,OAAOsE,iBAAiB,SAAS/I,KAAK0C,iBAAiB1C,KAAK0C,kBAAkB1C,KAAK2D,mBAAmB,IAAIqF,SAAS,SAAS9J,GAA4DM,EAAEuJ,iBAAiB,QAAtE,SAAF1J,IAAaG,EAAEkF,oBAAoB,OAAOrF,GAAE,GAAIH,OAAiC,MAAOc,KAAK2D,mBAAmBC,MAAM,WAAW1E,EAAE2E,eAAeoF,aAAa,WAAW/J,EAAEsD,QAAO,EAAG,IAAI,IAAInD,EAAE,EAAEC,EAAEJ,EAAEuD,eAAepD,EAAEC,EAAEI,OAAOL,IAAI,CAAC,IAAIG,EAAEF,EAAED,GAAG,IAAIG,EAAEM,KAAKZ,GAAG,MAAMO,GAAGyD,QAAQgG,MAAMzJ,IAAIP,EAAE2E,eAAesF,gCAAgCjK,EAAEU,UAAU8I,QAAQ,WAAW,IAAIxJ,EAAEuF,OAAO,GAAGvF,EAAEc,KAAKmC,KAAK,CAACU,SAAS7C,KAAK+C,SAASF,SAASuG,iBAAiBpJ,KAAK+C,SAASsG,mBAAmBrJ,KAAK+C,SAASqG,iBAAiBE,cAActJ,KAAK+C,SAASwG,gBAAgBvJ,KAAK+C,SAASuG,cAActI,UAAUhB,KAAK+C,SAAS/B,UAAUwI,iBAAiBxJ,KAAK+C,SAAS9B,kBAAkBwI,qBAAqBzJ,KAAK+C,SAAS7B,sBAAsBwI,iBAAiB1J,KAAK+C,SAAS3C,kBAAkBuJ,gBAAgB3J,KAAK+C,SAAS1C,iBAAiBgB,aAAarB,KAAK+C,SAAS6G,eAAe5J,KAAK+C,SAAS1B,aAAawI,WAAW7J,KAAK+C,SAAS8G,WAAW7H,UAAUhC,KAAK+C,SAASf,UAAUN,KAAK1B,KAAK+C,SAASrB,KAAKoI,mBAAmB9J,KAAK+C,SAAS+G,mBAAmBC,cAAc/J,KAAK+C,SAASgH,cAAcC,aAAahK,KAAK+C,SAASkH,cAAcC,cAAclK,KAAK+C,SAASoH,gBAAgBC,gBAAgBpK,KAAK+C,SAASsH,kBAAkBhH,eAAerD,KAAK+C,SAASM,eAAeiH,gBAAgBtK,KAAK+C,SAASwH,iBAAiBC,oBAAoBxK,KAAK+C,SAAS0H,0BAA0BzK,KAAK+C,SAAS2H,WAAWxL,EAAEc,KAAKmC,KAAKwI,aAAa,CAACrF,KAAKtF,KAAK+C,SAAS2H,YAAY1K,KAAK+C,SAAS6H,uBAAuB1L,EAAEc,KAAKmC,KAAK0I,yBAAyB7K,KAAK+C,SAAS6H,2BAA2B,IAAI5K,KAAK+C,SAASoH,kBAAkBnK,KAAK+C,SAAS+H,OAAO,MAAM,IAAIhI,MAAM,kFAAkF,IAAIzD,GAAGW,KAAK+C,SAAStC,cAAc,KAAKsK,mBAAmB/K,KAAK+C,SAASrC,QAAQ,mCAAmCqK,mBAAmB/K,KAAK+C,SAAS+H,QAAQ,IAAI,aAAaC,mBAAmB/K,KAAK+C,SAASzC,WAAWN,KAAK+C,SAASiI,UAAU,cAAcD,mBAAmB/K,KAAK+C,SAASiI,WAAW,KAAKhL,KAAK+C,SAASkI,WAAW,cAAcF,mBAAmB/K,KAAK+C,SAASkI,WAAWC,QAAQ,IAAI,KAAK,KAAKlL,KAAK+C,SAASoI,eAAe,kBAAkBJ,mBAAmBK,KAAKC,UAAUrL,KAAK+C,SAASoI,iBAAiB,IAAI,cAAcJ,mBAAmBK,KAAKC,UAAUrL,KAAK+C,SAASpC,aAAaX,KAAK+C,SAASuI,gBAAgB,mBAAmBP,mBAAmBK,KAAKC,UAAUrL,KAAK+C,SAASuI,kBAAkB,IAAI,eAAeP,mBAAmBK,KAAKC,UAAUrL,KAAK+C,SAASpB,cAAc,WAAWoJ,mBAAmB/K,KAAK+C,SAASrC,QAAQ,QAAQqK,mBAAmB/K,KAAKmC,KAAK,aAAa4I,mBAAmBQ,OAAOvL,KAAK+C,SAASlB,YAAY,WAAWkJ,mBAAmBQ,OAAOvL,KAAK+C,SAASjB,WAAW9B,KAAK+C,SAASyI,mBAAmB,qBAAqBT,mBAAmB/K,KAAK+C,SAASyI,oBAAoB,KAAKxL,KAAK+C,SAAShB,2BAA2B,qBAAqBgJ,mBAAmB/K,KAAK+C,SAAShB,4BAA4B,KAAK/B,KAAK+C,SAAS0I,eAAe,cAAcV,mBAAmB/K,KAAK+C,SAAS0I,gBAAgB,KAAKzL,KAAK+C,SAAS2I,gBAAgB,kBAAkBX,mBAAmBQ,OAAOvL,KAAK+C,SAAS2I,kBAAkB,IAAI,UAAUX,mBAAmBQ,OAAOvL,KAAK+C,SAAStB,SAASzB,KAAK+C,SAAS4I,aAAa,gBAAgBZ,mBAAmB/K,KAAK+C,SAAS4I,cAAc,KAAK3L,KAAK+C,SAASxC,SAAS,aAAawK,mBAAmB/K,KAAK+C,SAASxC,UAAU,KAAKP,KAAK+C,SAAS6I,kBAAkB,oBAAoBb,mBAAmBQ,OAAOvL,KAAK+C,SAAS6I,oBAAoB,KAAK5L,KAAK+C,SAAS8I,4BAA4B,eAAed,mBAAmBQ,OAAOvL,KAAK+C,SAAS8I,8BAA8B,KAAK7L,KAAK+C,SAAS+I,gBAAgB,mBAAmBf,mBAAmBK,KAAKC,UAAUrL,KAAK+C,SAAS+I,kBAAkB,KAAK9L,KAAK+C,SAASK,MAAM,UAAU2H,mBAAmBQ,OAAOvL,KAAK+C,SAASK,QAAQ,IAAI,MAAM,eAAepD,KAAKmC,IAAI,WAAWnC,KAAKmC,IAAI,WAAW9C,EAAE,KAAKW,KAAK+C,SAASvB,UAAUxB,KAAK+C,SAASxB,WAAW,GAAG,WAAWvB,KAAK+C,SAAStE,MAAM,aAAauB,KAAK+C,SAASrE,OAAO,KAAK,6GAA6GQ,EAA5hV,GAAiiVuF,OAAOsH,YAAYtH,OAAOsH,aAAa,GAAGtH,OAAOsH,YAAYC,QAAtrV,WAAa,MAAM,gE,wDCW1wCC,EAAwB,CAAC,IAAI,IAAI,KAAK,KAAK,KAAK,MAAM,KAAK,KAAK,KAAK,MACrEC,EAAc,GAAD,OAAIC,+BAAJ,cACf1O,EAAa,GACX2O,EAAa,GAgIJlQ,I,EAAAA,cAAO,UAAU,OAAO,OAAxBA,CAAgCC,aA9H/C,YAA0D,IAApCC,EAAmC,EAAnCA,QAAQiQ,EAA2B,EAA3BA,KAA2B,IAAtB/L,gBAAsB,MAAX,KAAW,EACjDgM,GADiD,EAANvQ,KAC/BwQ,iBAAO,OACnBC,EAAcD,iBAAO,MACrBE,EAAcF,iBAAO,CACzBG,QAAS,SAACC,GACRC,YAAW,kBAAMD,EAAS,CAACV,sBAAuBA,MAAwB,IAE5EY,QAAS,SAACpP,EAAWmE,EAAWkL,EAAKC,EAAGC,EAAkBC,EAAgBC,GAAjE,OAAsFL,EAAQpP,EAAWmE,EAAWkL,EAAKC,EAAGC,EAAkBC,EAAgBC,IACvKC,cAAe,SAACC,EAAWC,GAAZ,OAAyCF,EAAcC,EAAWC,IACjFC,cAAgB,SAAC7P,EAAWmE,EAAW2L,EAAmBC,EAAaC,GAAvD,OAAsFH,EAAc7P,EAAWmE,EAAW2L,EAAmBC,EAAaC,IAC1KC,gBAAkB,SAAAC,GAAa,OAAID,EAAgBC,MAI/Cd,EAAO,uCAAG,WAAOpP,EAAWmE,EAAWkL,EAAKC,EAAGC,EAAkBC,EAAgBC,GAAvE,qBAAAU,EAAA,6DACRC,EAAMpQ,EAAWqQ,KAAKC,QAAQ,UAC9BjD,EAAS+C,GAAO,EAAIpQ,EAAWqQ,KAAKvL,UAAU,EAAEsL,GAAOpQ,EAAWA,WAAWuQ,uBAAyBvQ,EAAWqQ,KAFzG,SAGIG,IAAMvS,IAAIwQ,EAAc,CACxCgC,OAAS,CACPpD,OAASqD,YAAgBrD,GACzBsD,UAAWC,IAAczM,GACzBkL,KAAOA,EACPC,GAAKA,KARK,QAGRuB,EAHQ,SAWW,MAAfA,EAAIC,QAAkBtO,MAAMC,QAAQoO,EAAIE,KAAKA,OAASF,EAAIE,KAAKA,KAAK9O,OAAS,GAC/E+O,EAAYH,EAAIE,KAAKA,KAC3BxB,EAAkByB,GAClBjC,EAAYkC,QAAUD,EAAUA,EAAU/O,OAAQ,IAElDsN,EAAkB,GAAG,CAAC2B,QAAQ,IAhBlB,2CAAH,kEAoBPrB,EAAgB,SAAC7P,EAAWmE,EAAW2L,EAAmBC,EAAaC,GAC3E,IAAMI,EAAMpQ,EAAWqQ,KAAKC,QAAQ,UAC9BjD,EAAS+C,GAAO,EAAIpQ,EAAWqQ,KAAKvL,UAAU,EAAEsL,GAAOpQ,EAAWA,WAAWuQ,uBAAyBvQ,EAAWqQ,KACvHc,IAAU1K,UAAU,mBAAmB,CAAC4G,OAASqD,YAAgBrD,GAAQsD,UAAYC,IAAczM,KAAa,SAAA4M,GAC1GA,GAAQhC,EAAYkC,SAAWF,EAAKK,MAAQrC,EAAYkC,QAAQG,OAClEzC,EAAWoB,GAAgBgB,EAAK1D,OAChCyC,EAAmBiB,GACnBhC,EAAYkC,QAAUF,OAKtBd,EAAkB,SAAAoB,GACnB1C,EAAW0C,IACZF,IAAUzK,YAAY,eAAe,CAAC2G,OAASsB,EAAW0C,GAAcV,UAAYC,IAAc/N,MAIhG6M,EAAgB,SAACrC,EAAOuC,GAC5B,IAAI0B,EAAcjE,EACfnO,IAAKC,WAAaoS,IAAQC,SAC3BF,EAAW,UAAMjE,EAAN,UAEb8B,YAAW,kBAAMS,EAAyB,CACxCS,KAAMhD,EACNoE,OAASpE,EACTiE,YAAcA,EACdI,WAAYrE,EAAOiD,QAAQ,UAAY,EAAI,IAAM,WAAK,GAAMtQ,EAAW2R,UACvE3R,WAAaA,EACb1B,KAAO,QACPsT,OAAQ,EACRC,cAAc,EACdC,qBAAsB,CAAC,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,MAAM,KAAK,KAAK,KAAK,MACvEC,wBAAwB,EACxBC,eAAe,EACfC,WAAW,EACXnP,SAAW,MACXoP,QAAS,OACT1D,sBAAwBA,MACvB,IAGC2D,EAAa,WACjB,IAAMrP,EAAW9E,KAAOA,KAAKoU,iBAAiBC,kBAAkBC,SAAW,UACpE/O,EAAqBgP,EAArBhP,UAAaiP,EAFG,YAEKD,EAFL,eAGjBE,EAAa,aACjBpF,OAAQrN,EAAWqN,OACnBjI,SAAU4J,EAAYiC,QACtBpO,SAAUA,EACVI,OAAQ2L,EAAK3L,OACbH,SAAWA,GACR0P,GAEL3D,EAAUoC,QAAW,IAAIyB,EAAOD,GAChC5D,EAAUoC,QAAQlL,cAAa,WAE7B,GADA8I,EAAUoC,QAAQlI,eAAexF,GAC7BrE,IAAKC,WAAaoS,IAAQC,QAAWtS,IAAKyT,SAAU,CACtD,IAAMC,EAAa1T,IAAKC,SAAW,YAAc,WAC3C0T,EAAY3T,IAAKC,SAAL,UAAmBa,EAAWqN,OAA9B,oBAAkDrN,EAAWqN,OAAOyF,MAAM,KAAK,GAA/E,UAClBjE,EAAUoC,QAAQtK,QAAQoM,YAAY,WAAW,GAAM,EAAO,CAACF,GAAW,KAAK,CAACD,WAAaA,EAAW,MAAS,cA2BvH,OApBA7T,qBAAU,WAWR,OAVGJ,EAAQqB,WAAWqN,SACpBrN,EAAcrB,EAAQqB,WACtBmS,IACAhB,IAAU6B,kBAAkBhT,EAAWqN,QAAO,WAEzC0B,EAAYkC,SAAWlC,EAAYkC,QAAQG,MAASrC,EAAYkC,QAAQG,MAAO,IAAI6B,MAAOC,WAC3Ff,QAIC,WACFtD,EAAUoC,SACXpC,EAAUoC,QAAQlK,SAEpBkJ,IACAkB,IAAUgC,qBAAqBnT,EAAWqN,WAE3C,CAAC1O,EAAQqB,WAAWqN,SAGrB,qBAAKhM,GAAG,eAAe0J,MAAO,CAAC9J,OAAS,e,6ECvHtCmS,GAJiBC,IAAOC,IAAV,uEAIJ,SAAC,GAA6B,IAA5BC,EAA2B,EAA3BA,UAAWlU,EAAgB,EAAhBA,MAAMmU,EAAU,EAAVA,KAC7BC,EAAM,qCAAWpU,GACrB,OAAIkU,EAAUG,aAAe,GACvBH,EAAUI,QAAUJ,EAAUK,OAChCH,EAAM,iCACJ,iCAAOF,EAAUnT,UAAjB,QACA,iCACE,cAACV,EAAA,EAAD,CAAkBE,aAAc,EAAGxB,MAAOmV,EAAUI,SACpD,uCACA,cAACjU,EAAA,EAAD,CAAkBE,aAAc,EAAGxB,MAAOmV,EAAUK,YALlD,SAAWvU,GASPkU,EAAUI,QAAWJ,EAAUK,QAU/BL,EAAUI,QAAUJ,EAAUK,OACxCH,EACE,iCACE,iCAAOF,EAAUnT,UAAjB,QACA,iCACE,cAACd,EAAA,EAAD,CAAgBf,IAAKiV,EAAK,yBAA0BrV,KAAK,IAAzD,kBACA,uCACA,qCAAO,cAACuB,EAAA,EAAD,CAAkBE,aAAc,EAAGxB,MAAOmV,EAAUK,SAA3D,UALJ,SAAWvU,GASJkU,EAAUI,SAAWJ,EAAUK,SACxCH,EAAM,iCACJ,iCAAOF,EAAUnT,UAAjB,QACA,iCACE,qCAAO,cAACV,EAAA,EAAD,CAAkBE,aAAc,EAAGxB,MAAOmV,EAAUI,SAA3D,OACA,uCACA,cAACrU,EAAA,EAAD,CAAef,IAAKiV,EAAK,yBAA0BrV,KAAK,IAAxD,kBALE,SAAWkB,IArBjBoU,EAAM,iCACJ,iCAAOF,EAAUnT,UAAjB,QACA,iCACE,cAACd,EAAA,EAAD,CAAeE,WAAS,EAACrB,KAAK,IAAII,IAAKiV,EAAK,yBAA5C,gBACA,uCACA,cAAClU,EAAA,EAAD,CAAeE,WAAS,EAAErB,KAAK,IAAII,IAAKiV,EAAK,yBAA7C,kBALE,SAAWnU,GA+BZoU,IAEHF,EAAUI,QAAUJ,EAAUK,OAChCH,EAAM,iCACJ,iCAAOF,EAAUnT,UAAjB,QACA,iCACE,cAACV,EAAA,EAAD,CAAkBE,aAAc,EAAGxB,MAAOmV,EAAUI,SACpD,uCACA,cAACjU,EAAA,EAAD,CAAkBE,aAAc,EAAGxB,MAAOmV,EAAUK,YALlD,SAAWvU,GASPkU,EAAUI,QAAWJ,EAAUK,QAU/BL,EAAUI,QAAUJ,EAAUK,OACxCH,EACE,iCACE,iCAAOF,EAAUnT,UAAjB,QACA,iCACE,cAACd,EAAA,EAAD,CAAgBf,IAAKiV,EAAK,uBAAwBrV,KAAK,KAAvD,eACA,uCACA,qCAAO,cAACuB,EAAA,EAAD,CAAkBE,aAAc,EAAGxB,MAAOmV,EAAUK,SAA3D,UALJ,SAAWvU,GAUJkU,EAAUI,SAAWJ,EAAUK,SACxCH,EAAM,iCACJ,iCAAOF,EAAUnT,UAAjB,QACA,iCACE,qCAAO,cAACV,EAAA,EAAD,CAAkBE,aAAc,EAAGxB,MAAOmV,EAAUI,SAA3D,OACA,uCACA,cAACrU,EAAA,EAAD,CAAef,IAAKiV,EAAK,uBAAwBrV,KAAK,KAAtD,oBALE,SAAWkB,IAtBjBoU,EAAM,iCACJ,iCAAOF,EAAUnT,UAAjB,QACA,iCACE,cAACd,EAAA,EAAD,CAAef,IAAKiV,EAAK,uBAAwBrV,KAAK,OACtD,uCACA,cAACmB,EAAA,EAAD,CAAef,IAAKiV,EAAK,uBAAwBrV,KAAK,KAAtD,mBALE,SAAWkB,GAgCZoU,KAILI,EAAkB,SAAC,GAAgB,IAAfzD,EAAc,EAAdA,IAAIoD,EAAU,EAAVA,KACtBM,EAAQ,GAOd,OANA1D,EAAI2D,QAAO,SAACC,EAAMC,GAIhB,OAHgE,IAA7DD,EAAME,WAAU,SAAAC,GAAI,OAAIA,EAAK/T,YAAc6T,EAAE7T,cAC9C4T,EAAMhO,KAAKiO,GAEND,IACPF,GAEAA,EAAM3S,KAAI,SAACiT,EAAO/U,GAAR,OAAkB,cAAC,EAAD,CAASkU,UAAWa,EAAOC,iBAAkBhV,MAAOA,EAAmBmU,KAAMA,GAAbnU,OAI1FiV,EAAe,SAACC,GAA+C,IAAxClW,EAAuC,uDAA7B,EAAEG,EAA2B,uDAAlB,GAAGgD,EAAe,uDAAP,GAC3D,OAAO,cAAC9B,EAAA,EAAD,CAAkBtB,MAAOmW,EAAQ3U,aAAcvB,EAASmD,OAAQA,EAAQhD,OAAM,WAAMA,MAoE7F,SAASgW,EAAT,GAAwC,IAAhBC,EAAe,EAAfA,KAAK5V,EAAU,EAAVA,QAC3B,OACE4V,EAAKtT,KAAI,SAAApD,GACP,OACE,qBAAe0B,UAAW,QAA1B,SACGZ,EAAQd,GAAKQ,IAEZ,cAACe,EAAA,EAAD,CAAef,IAAKM,EAAQd,GAAKQ,IAAKJ,KAAMU,EAAQd,GAAKI,KAAMqB,WAAS,EAACwB,MAAM,SAEhFnC,EAAQd,GAAKI,MALNJ,MAalB,SAAS2W,EAAT,GAA4D,IAArCnB,EAAoC,EAApCA,UAAUoB,EAA0B,EAA1BA,OAAOF,EAAmB,EAAnBA,KAAK5V,EAAc,EAAdA,QAAQ2U,EAAM,EAANA,KACnD,OACEmB,EACEpB,EAAUtR,OAAS,EACjBsR,EAAUpS,KAAI,SAACuC,EAAS1B,GAAV,OACZ,qBAAKvC,UAAU,QAAf,SACGgV,EAAKtT,KAAI,SAAApD,GACR,IAAMqD,EAAMvC,EAAQd,GACd6W,EAAWrT,IAAW,QAAiC,oBAAlBH,EAAI3B,UAA2B2B,EAAI3B,UAAUiE,GAAYtC,EAAI3B,WACxG,OACE,qBAAKA,UAAWmV,EAAoBC,QAAS,iBAA6B,oBAAhBzT,EAAIyT,SAA0BzT,EAAIyT,QAAQnR,IAApG,SACwB,oBAAdtC,EAAIhD,MAAuBgD,EAAIhD,MAAMsF,GAAaA,EAAS3F,IAAQc,EAAQd,GAAKK,OAD3DL,OALTiE,MAa9B,sBAAKvC,UAAU,UAAf,UAAyB,cAACqB,EAAA,EAAD,CAAMC,MAAM,UAAUC,MAAM,KAAKC,OAAO,OAAQuS,EAAK,cAChF,qCACA,qBAAK/T,UAAU,uBAA2B,qBAAKA,UAAU,uBAA2B,qBAAKA,UAAU,uBAA2B,qBAAKA,UAAU,uBAA2B,qBAAKA,UAAU,0BAK9KhB,kBAAO,UAAU,SAAjBA,CAA2BC,aA1G1C,YAAyC,IAAtBoW,EAAqB,EAArBA,OAAOtB,EAAc,EAAdA,KAAK7U,EAAS,EAATA,QACvBoW,EAAQC,cACVnW,EAAU,CACZwO,OAAS,CAAClP,KAAOqV,EAAI,QACrByB,UAAY,CAAC9W,KAAOqV,EAAI,UAAc/T,UAAY,SAAA2Q,GAAG,OAAIA,EAAI8E,iBAC7DxR,SAAW,CAACvF,KAAOqV,EAAI,SAAapV,MAAQ,SAAAgS,GAAG,OAAI,qCAAE,8BAAMkE,EAAalE,EAAG,OAAWzR,EAAQwW,qBAAqB/E,EAAIgF,cAAkB,qBAAK3V,UAAU,OAAf,SAAuB6U,EAAalE,EAAG,SAAa,EAAE,cAC/LiF,kBAAoB,CAAClX,KAAOqV,EAAK,eAAepV,MAAQ,SAAAgS,GAAG,OAAIkE,EAAalE,EAAG,kBAAsB,KACrGhR,UAAY,CAACjB,KAAOqV,EAAK,cAAcpV,MAAQ,SAAAgS,GAAG,OAAIkE,EAAalE,EAAG,aACtEkF,mBAAqB,CAACnX,KAAOqV,EAAK,gBAAgBjV,IAAMiV,EAAK,6BAA6BpV,MAAQ,SAAAgS,GAAG,OAAIkE,EAAalE,EAAG,sBACzHiE,iBAAoB,CAAClW,KAAOqV,EAAK,aAAajV,IAAMiV,EAAK,iBAAiBpV,MAAQ,SAAAgS,GAAG,OAAIkE,EAAalE,EAAG,iBAAqB,KAC9HmF,cAAgB,CAACpX,KAAOqV,EAAK,kBAAkB/T,UAAY,SAAA2Q,GAAG,OAAIA,EAAG,cAAoB,EAAI,QAAU,OAAMhS,MAAQ,SAAAgS,GAAG,OAAI,qCAAE,8BAAMkE,EAAalE,EAAG,iBAAyB,8BAAMkE,EAAalE,EAAG,kBAAsB,EAAE,WAAe7R,IAAKiV,EAAK,4BACpP7T,WAAa,CAACxB,KAAOqV,EAAI,WAAe/T,UAAY,SAAA2Q,GAAG,OAAMA,EAAG,WAAkB,EAAI,QAAU,OAAM7R,IAAKiV,EAAK,mBAAmBpV,MAAQ,SAAAgS,GAAG,OAAIkE,EAAclE,EAAG,WAAgB,KACnLoF,OAAS,CAACrX,KAAOqV,EAAI,OAAWpV,MAAS,SAAAgS,GAAG,OAAIqF,EAAYrF,EAAIoD,EAAI,QAAW/T,UAAY,mBAE1FP,IAAKyT,WACN9T,EAAU,CACRwO,OAAS,CAAClP,KAAOqV,EAAI,QACrByB,UAAY,CAAC9W,KAAOqV,EAAI,UAAc/T,UAAY,SAAA2Q,GAAG,OAAIA,EAAI8E,iBAC7DxR,SAAW,CAACvF,KAAOqV,EAAI,SAAapV,MAAQ,SAAAgS,GAAG,OAAI,qCAAE,8BAAMkE,EAAalE,EAAG,OAAWzR,EAAQwW,qBAAqB/E,EAAIgF,cAAkB,qBAAK3V,UAAU,OAAf,SAAuB6U,EAAalE,EAAG,SAAa,EAAE,cAC/LiF,kBAAoB,CAAClX,KAAOqV,EAAK,eAAepV,MAAQ,SAAAgS,GAAG,OAAIkE,EAAalE,EAAG,kBAAsB,KACrGhR,UAAY,CAACjB,KAAOqV,EAAK,cAAcpV,MAAQ,SAAAgS,GAAG,OAAIkE,EAAalE,EAAG,aACtEkF,mBAAqB,CAACnX,KAAOqV,EAAK,gBAAgBjV,IAAMiV,EAAK,6BAA6BpV,MAAQ,SAAAgS,GAAG,OAAIkE,EAAalE,EAAG,sBACzHmF,cAAgB,CAACpX,KAAOqV,EAAK,kBAAkB/T,UAAY,SAAA2Q,GAAG,OAAIA,EAAG,cAAoB,EAAI,QAAU,OAAMhS,MAAQ,SAAAgS,GAAG,OAAI,qCAAE,8BAAMkE,EAAalE,EAAG,iBAAyB,8BAAMkE,EAAalE,EAAG,kBAAsB,EAAE,WAAe7R,IAAKiV,EAAK,4BACpP7T,WAAa,CAACxB,KAAOqV,EAAI,WAAe/T,UAAY,SAAA2Q,GAAG,OAAMA,EAAG,WAAkB,EAAI,QAAU,OAAM7R,IAAKiV,EAAK,mBAAmBpV,MAAQ,SAAAgS,GAAG,OAAKkE,EAAclE,EAAG,WAAgB,KACpLoF,OAAS,CAACrX,KAAOqV,EAAI,OAAWpV,MAAS,SAAAgS,GAAG,OAAIqF,EAAYrF,EAAIoD,EAAI,QAAW/T,UAAY,oBAG/F,IAAMgV,EAAO/S,OAAO+S,KAAK5V,GAEnB6W,EAAa,uCAAG,WAAMC,GAAN,SAAAxF,EAAA,sEACFyF,IAASC,QAAQ,gBACjC,CAACf,EAAOV,OAAO0B,QAASnX,EAAQoX,KAAKC,QAASlB,EAAOV,OAAO6B,QAASN,GACrE,CAACO,iBAAkB,IAHD,cAIbC,SACLpB,EAAMoB,QAAQ3C,EAAK,2BACnB7U,EAAQyX,WAERrB,EAAMtJ,MAAM+H,EAAK,0BARC,2CAAH,sDAWbiC,EAAc,SAACrF,EAAIiG,GACvB,IAAMV,EAAchX,EAAQqB,WAAWsW,QAAUlG,EAAI/C,OAAS+C,EAAImG,SAClE,OAAQ,cAACC,EAAA,EAAD,CAAQH,MAAOA,EAAOI,QAAS,UAAUC,mBAAmB,uBAAuBC,SAAO,EAACC,aAAa,kBAAkB/B,QAAS,kBAAMa,EAAcC,IAAc3U,MAAM,KAAKC,OAAO,QAGjM,OACE,sBAAKxB,UAAU,aAAf,UACEP,IAAKyT,UAAY,sBAAKlT,UAAU,mBAAf,UACf,+BACE,cAACH,EAAA,EAAD,CAAeE,WAAS,EAACjB,IAAMiV,EAAK,wBAAyBrV,KAAMqV,EAAK,iBAE1E,uCAAW7U,EAAQ4U,UAAUtR,OAAS,EAAM,cAAC,EAAD,CAAiBmO,IAAKzR,EAAQ4U,UAAWC,KAAMA,IAAU,SAGvG,qBAAK/T,UAAU,WAAf,SACE,cAAC+U,EAAD,CAAe3V,QAASA,EAAS4V,KAAMA,MAEzC,qBAAKhV,UAAU,SAAf,SACE,cAACiV,EAAD,CAAcnB,UAAW5U,EAAQ4U,UAAWoB,OAAQhW,EAAQgW,OAAQF,KAAMA,EAAM5V,QAASA,EAAS2U,KAAMA,a,8CC1JhH,SAASqD,GAAT,GAAqD,IAA/BlC,EAA8B,EAA9BA,OAAOmC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,OAAOvD,EAAO,EAAPA,KAC3C,OACEmB,EACEmC,EAAQ7U,OAAS,EAEjB6U,EAAQ3V,KAAI,SAAA6V,GAAC,OACX,qBAAKvX,UAAU,QAAf,SACGsX,EAAO5V,KAAI,SAAAC,GACV,IAAMhD,EAAQgD,EAAI6V,OAAS7V,EAAI6V,OAAOD,EAAE5V,EAAIrD,KAAKiZ,GAAKA,EAAE5V,EAAIrD,KACtDmZ,EAAQ3V,IAAW,QAAQnD,GACjC,OAAO,qBAAKqB,UAAWyX,EAAhB,SAAqC,WAAb9V,EAAI9C,KAAoB,cAACoB,EAAA,EAAD,CAAkBtB,MAAOA,EAAOwB,aAAcwB,EAAI/C,SAAW,IAAQD,YAKlI,sBAAKqB,UAAU,UAAf,UAAyB,cAACqB,EAAA,EAAD,CAAMC,MAAM,UAAUC,MAAM,KAAKC,OAAO,OAAQuS,EAAK,cAEhF,qCACE,qBAAK/T,UAAU,uBAA2B,qBAAKA,UAAU,uBAA2B,qBAAKA,UAAU,uBAA2B,qBAAKA,UAAU,uBAA2B,qBAAKA,UAAU,0BAI9KhB,I,GAAAA,eAAO,UAAU,SAAjBA,CAA2BC,aA/C1C,YAAwC,IAAtB8U,EAAqB,EAArBA,KAAK7U,EAAgB,EAAhBA,QAAQmW,EAAQ,EAARA,OACvBiC,EAAS,CACb,CAACV,MAAQ7C,EAAI,KAASzV,IAAM,OAAQkZ,OAAS,SAAC7Y,EAAM4Y,GAAP,OAAa,mBAAGG,OAAO,SAASC,IAAI,aAAaC,KAAI,UAAKvC,EAAOwC,gBAAZ,eAAkCN,EAAEO,iBAA5E,SAAgGC,KAAWC,SAAS,sBAAsB,IAAIxE,KAAKyE,SAAStZ,SACtN,CAACiY,MAAQ7C,EAAI,UAAczV,IAAM,YAAYkZ,OAAS,SAAA7Y,GAAK,MAAc,gBAAVA,EAA0BoV,EAAI,YAA4B,UAAVpV,EAAoBoV,EAAI,KAAWA,EAAI,MACtJ,CAAC6C,MAAQ7C,EAAI,OAAWzV,IAAM,UAC9B,CAACsY,MAAQ7C,EAAK,eAAezV,IAAM,QAAQO,KAAO,UAClD,CAAC+X,MAAQ7C,EAAI,OAAWzV,IAAM,SAASO,KAAO,SAASD,QAAUM,EAAQwW,sBACzE,CAACkB,MAAQ7C,EAAI,SAAazV,IAAM,WAAWO,KAAO,UAClD,CAAC+X,MAAQ7C,EAAK,mBAAmBzV,IAAM,iBAAiBO,KAAO,WAGjE,OACE,sBAAKmB,UAAU,YAAf,UACE,qBAAKA,UAAU,WAAf,SACGsX,EAAO5V,KAAI,SAACC,EAAI/B,GAAL,OACV,qBAAiBI,UAAU,QAA3B,SAAoC2B,EAAIiV,OAA9BhX,QAGd,qBAAKI,UAAU,SAAf,SACE,cAACoX,GAAD,CAAalC,OAAQhW,EAAQgW,OAAQmC,QAASnY,EAAQmY,QAASC,OAAQA,EAAQvD,KAAMA,aCtBvFmE,GAAUtE,IAAOC,IAAV,6hBA6BE,SAASsE,GAAT,GAAwB,IAAD,EAANpE,EAAM,EAANA,KAExBqE,GAAM,mBACTrE,EAAI,UAAiB,CAACsE,QAAU,cAAC,EAAD,CAAUtE,KAAMA,MADvC,cAETA,EAAI,QAAe,CAACsE,QAAU,cAAC,GAAD,CAAStE,KAAMA,MAFpC,GAIZ,OACE,eAACmE,GAAD,WACE,qBAAKlY,UAAU,kBAAf,SACE,cAACqB,EAAA,EAAD,CAAMC,MAAM,aAAaC,MAAM,KAAKC,OAAO,SAE7C,cAAC8W,EAAA,EAAD,CAAKF,OAAQA,EAAQG,cAAc,YACnC,qBAAKvY,UAAU,mBAAf,SACE,cAACqB,EAAA,EAAD,CAAMC,MAAM,cAAcC,MAAM,KAAKC,OAAO,Y,cCxC9CgX,GAAe5E,IAAO6E,KAAV,uEAkEHzZ,mBAAO,UAAPA,CAAkBC,aA9DjC,YAAsC,IAAf8U,EAAc,EAAdA,KAAK7U,EAAS,EAATA,QACpB2B,EAAW3B,EAAQ2B,UAAY,GAC/B6X,EAAmB,WAAwB,IAAvBC,EAAsB,uDAAP,GACvC,OAA+B,IAAxBA,EAAanW,OACZmW,EAAa,GACb,eAAC9Y,EAAA,EAAD,CAAe+B,GAAG,SAASgX,MAAM,EAAMrX,MAAM,MAAMzC,IAAK6Z,EAAajX,KAAI,SAACJ,EAAM1B,GAAP,gBAAoB0B,EAApB,aAA8BT,EAASgY,iBAAiBjZ,GAAxD,QAAmEkZ,KAAK,KAAjJ,UACCH,EAAajX,KAAI,SAACJ,EAAM1B,GACvB,OACEA,EAAQ,EAAI,eAAC4Y,GAAD,WAA2BlX,EAA3B,IAAmCT,EAASgY,iBAAiBjZ,GAA7D,MAAmBA,GAAoE,QAHvG,UAQNmZ,EAAO,GA+BX,OA7BEA,EADCtZ,IAAKC,SACC,CACL,CAACkX,MAAQ7C,EAAK,cAAciF,SAAUjF,EAAK,mBAAmBjV,IAAMiV,EAAK,4BAA4BzV,IAAM,YAAcK,MAAQ+Z,EAAiB7X,EAAS8X,eAC3J,CAAC/B,MAAQ7C,EAAI,OAAWzV,IAAM,SAAUK,MAAQkC,EAAQ,QACxD,CAAC+V,MAAQ7C,EAAK,oBAAoBzV,IAAM,aAAcK,MAASO,EAAQ2B,SAAR,WAAiC3B,EAAQ2B,SAAR,WAAiC3B,EAAQqB,WAAWG,KAAO,IAC3J,CAACkW,MAAQ7C,EAAK,2BAA2BzV,IAAM,yBAA0BK,MAASkC,EAAQ,0BAAgCA,EAAQ,wBAA4BoY,gBAAiBC,SAAWha,EAAQia,sBAAuBtX,SAAW,KACpO,CAAC+U,MAAQ7C,EAAK,wBAAwBzV,IAAM,wBAAwBQ,IAAMiV,EAAK,4BAA6BpV,MAAQ,cAACsB,EAAA,EAAD,CAAkBtB,MAAwC,IAAjCkC,EAAQ,mBAA8BV,aAAc,EAAGpB,OAAO,OAC3M,CAAC6X,MAAQ7C,EAAK,4BAA4BzV,IAAM,4BAA4BQ,IAAMiV,EAAK,gCAAgCpV,MAAQ,cAACsB,EAAA,EAAD,CAAkBtB,MAA4C,IAArCkC,EAAQ,uBAAkCV,aAAc,EAAGpB,OAAO,OAC1N,CAAC6X,MAAQ7C,EAAK,mBAAmBzV,IAAM,WAAWK,MAAQ,cAACsB,EAAA,EAAD,CAAkBtB,MAA8B,IAAvBkC,EAAQ,SAAoB9B,OAAO,QAGjH,CACL,CAAC6X,MAAQ7C,EAAK,cAAciF,SAASjF,EAAK,mBAAmBjV,IAAMiV,EAAK,4BAA4BzV,IAAM,YAAcK,MAAQ+Z,EAAiB7X,EAAS8X,eAC1J,CAAC/B,MAAQ7C,EAAI,OAAWzV,IAAM,SAAUK,MAAQkC,EAAQ,QACxD,CAAC+V,MAAQ7C,EAAI,UAAczV,IAAM,SAAUK,MAAQkC,EAAQ,WAC3D,CAAC+V,MAAQ7C,EAAI,OAAWzV,IAAM,SAAUK,MAAQkC,EAAQ,QACxD,CAAC+V,MAAQ7C,EAAK,eAAezV,IAAM,SAAUK,MAAQkC,EAAQ,YAC7D,CAAC+V,MAAQ7C,EAAK,oBAAoBzV,IAAM,GAAIK,MAASO,EAAQ2B,SAAR,WAAiC3B,EAAQ2B,SAAR,WAAiC3B,EAAQqB,WAAWG,KAAO,IACjJ,CAACkW,MAAQ7C,EAAK,wBAAwBjV,IAAG,UAAMiV,EAAK,4BAAX,iBAA+CA,EAAK,uCAApD,YAA8FqF,cAAGvY,EAAQ,oBAAwBwY,MAAM,KAAKC,QAAQ,GAApJ,KAA0Jhb,IAAM,wBACzMK,MAAQ,cAACsB,EAAA,EAAD,CAAkBtB,MAAwC,IAAjCkC,EAAQ,mBAA8BV,aAAc,EAAGpB,OAAO,OAC/F,CAAC6X,MAAQ7C,EAAK,4BAA4BjV,IAClC,GAAN,OAAUiV,EAAK,gCAAf,iBAAuDA,EAAK,8BAA5D,YAA6FqF,cAAGvY,EAAQ,wBAA4BwY,MAAM,KAAKC,QAAQ,GAAvJ,kBAAmKvF,EAAK,8BAAxK,YAAyM7U,EAAQU,MAAjN,mBAAiOwZ,cAAGla,EAAQU,OAAOyZ,MAAM,KAAzP,KACG/a,IAAM,yBACXK,MAAQ,cAACsB,EAAA,EAAD,CAAkBtB,MAA4C,IAArCkC,EAAQ,uBAAkCV,aAAc,EAAGpB,OAAO,OACnG,CAAC6X,MAAQ7C,EAAK,mBAAmBjV,IAAMI,EAAQqa,kBAAkB1X,SAAW,MAAMvD,IAAM,WAAWK,MAAK,UAAMO,EAAQ8B,WAAW8X,KAAK,KAA9B,MACxG,CAAClC,MAAQ7C,EAAK,kBAAkBzV,IAAM,WAAWK,MAAQ,cAACsB,EAAA,EAAD,CAAkBtB,MAAOya,cAAGvY,EAAQ,eAAmBgT,IAAI,OAAOyF,QAAQ,GAAIva,OAAM,WAAMgV,EAAI,QAAcjV,IAAMiV,EAAK,uBAChL,CAAC6C,MAAQ7C,EAAI,MAAUzV,IAAM,QAAQK,MAAQ,cAACsB,EAAA,EAAD,CAAkBtB,MAAOkC,EAAQ,MAAYV,aAAa,OACvG,CAACyW,MAAQ7C,EAAI,MAAUzV,IAAM,QAAQK,MAAQ,cAACsB,EAAA,EAAD,CAAkBtB,MAAOkC,EAAQ,MAAYV,aAAa,QAIzG,sBAAKH,UAAU,gBAAf,UACE,qBAAKA,UAAU,UAAf,SAA0B+T,EAAK,mBAC/B,qBAAK/T,UAAU,SAAf,SACG+Y,EAAKrX,KAAI,SAAC8X,EAAI5Z,GAAL,OACR4Z,EAAI7a,OAAS,sBAAKqB,UAAU,QAAf,UACX,8BACGwZ,EAAI1a,MAAQ0a,EAAIR,SAAW,cAACnZ,EAAA,EAAD,CAAe+B,GAAI4X,EAAI5C,MAAOlY,KAAM8a,EAAI5C,MAAO7W,WAAW,EAAMjB,IAAK0a,EAAI1a,IAAKyC,MAAOiY,EAAI3X,WAAc2X,EAAIR,SAAW,uBAAMhZ,UAAU,OAAhB,UAAwBwZ,EAAI5C,MAA5B,KAAoC,cAAC/W,EAAA,EAAD,CAAenB,KAAM8a,EAAIR,SAAUjZ,WAAW,EAAM0Z,MAAM,eAAe7X,GAAI4X,EAAI5C,MAAO9X,IAAK0a,EAAI1a,IAAMyC,MAAOiY,EAAI3X,WAAtJ,QAA8K2X,EAAI5C,QAEtU,qBAAK5W,UAAU,UAAf,SACGwZ,EAAIN,SAAW,cAACrZ,EAAA,EAAD,CAAenB,KAAM8a,EAAI7a,MAAOoB,WAAW,EAAMjB,IAAK0a,EAAIN,SAAU3X,MAAOiY,EAAI3X,WAAc2X,EAAI7a,UAL5EiB,e,yFC4JnD,SAAS8Z,GAAT,GAA6E,IAA1DxE,EAAyD,EAAzDA,OAAOyE,EAAkD,EAAlDA,WAAWC,EAAuC,EAAvCA,aAAaC,EAA0B,EAA1BA,eAAevD,EAAW,EAAXA,KAAKvC,EAAM,EAANA,KACpE,OACEmB,EAEIyE,EAAWjY,KAAI,SAACoY,EAAOla,GACrB,IAAM6X,EAAQ3V,IAAW,SAAS,CAACiY,SAAWD,EAAOnB,eAAiBkB,EAAelB,eACrF,OACE,sBAAiB3Y,UAAWyX,EAAOrC,QAAS,kBAAMwE,EAAaha,IAA/D,UACE,sBAAKI,UAAU,oBAAf,UACE,cAACqB,EAAA,EAAD,CAAMC,MAAOwY,EAAOnB,aAAaqB,cAAezY,MAAO,GAAIC,OAAQ,KACnE,iCACE,8BAAMsY,EAAOnB,aAAaqB,gBAC1B,sBAAKha,UAAU,MAAf,UAAsB+T,EAAI,IAA1B,WAA8C,cAAC9T,EAAA,EAAD,CAAkBlB,OAAO,IAAIJ,MAAOya,cAAGU,EAAOG,WAAWC,KAAKJ,EAAOK,QAAQ/U,WAAYjF,aAAa,IAAIia,WAAS,EAAC7Y,MAAM,kBAG5K,qBAAKvB,UAAU,SAAf,SAAwB,cAACC,EAAA,EAAD,CAAkBtB,MAAOmb,EAAOO,cAAeD,WAAW,EAAMja,aAAc,MACtG,qBAAKH,UAAU,SAAf,SAAwB,cAACC,EAAA,EAAD,CAAkBtB,MAAOmb,EAAOQ,iBAAkBF,WAAW,EAAMja,aAAc,OACvGmW,EAAKiE,MAAQjE,EAAKkE,WAAe,qBAAKxa,UAAU,SAAf,SAAyB8Z,EAAOW,aAV3D7a,MAehB,qBAAKI,UAAU,wBAKrB,SAAS0a,GAAT,GAAoD,IAA3B3G,EAA0B,EAA1BA,KAAKlV,EAAqB,EAArBA,KAAKgb,EAAgB,EAAhBA,eAC3Bnb,EAAOG,IAAS8b,IAAU5G,EAAK,kBAAoBA,EAAK,qBACxDpV,EAAQE,IAAS8b,IAAUd,EAAeQ,cAAgBR,EAAeS,iBAC/E,OACE,gCACG5b,EACD,cAACuB,EAAA,EAAD,CAAkBtB,MAAOA,EAAOI,OAAM,WAAM8a,EAAelB,cAAgBxY,aAAc,OAKhFya,I,MAAAA,GA5Of,YAA4D,IAAtC1b,EAAqC,EAArCA,QAAQ6U,EAA6B,EAA7BA,KAAKlV,EAAwB,EAAxBA,KAAKwW,EAAmB,EAAnBA,OAAOiB,EAAY,EAAZA,KAAKhB,EAAO,EAAPA,MAAO,EACbnW,mBAAS,IADI,mBAClD0a,EADkD,KAClCgB,EADkC,OAEzB1b,mBAAS,IAFgB,mBAElDsb,EAFkD,KAExCK,EAFwC,OAGrB3b,mBAAS,IAHY,mBAGlDwa,EAHkD,KAGtCoB,EAHsC,OAI7B5b,mBAAS,IAJoB,mBAIlD6b,EAJkD,KAI1CC,EAJ0C,OAKb9b,mBAAS,IALI,mBAKlD+b,EALkD,KAKlCC,EALkC,OAMFhc,mBAAS,IANP,mBAMlDic,EANkD,KAM7BC,EAN6B,OAO7Blc,oBAAS,GAPoB,mBAOlD+V,EAPkD,KAO1CoG,EAP0C,OAQvBnc,mBAAS,IARc,mBAQlDoc,EARkD,KAQvCC,EARuC,OAS/Brc,oBAAS,GATsB,mBASlDsc,EATkD,KAS3CC,EAT2C,KAWnDC,EAAwB7Z,IAAW,UAAU,CACjD8Z,KAAOZ,EAAS,IAGZa,GAAK,uCAAG,gCAAAnL,EAAA,yDACNoL,EAASjd,IAAS8b,IAAU,gBAAkB,iBACjD9b,IAASkd,MAAY3C,cAAG4B,GAAQgB,GAAGnC,EAAeS,kBAFzC,uBAGVhF,EAAMtJ,MAAM+H,EAAK,iBAHP,gCAMNiH,GAAW,GAAKiB,MAAMjB,IANhB,uBAOV1F,EAAMtJ,MAAM+H,EAAK,uCAPP,iCAUN/C,EAASsF,EAAKO,QACN,CAACxB,EAAOV,OAAO0B,QAAQC,EAAKC,QAAQlB,EAAOV,OAAO6B,QAAQwE,EAAOnB,EAAelB,cAChF,CAACtD,EAAOV,OAAO0B,QAAQC,EAAKC,QAAQlB,EAAOV,OAAO6B,QAAQwE,EAAOnB,EAAeqC,UAC3FT,GACDzK,EAAOzK,MAAK,GAdF,UAgBM4P,IAASC,QAAQ0F,EAAO9K,EAAO,CAC/CyF,iBAAkB,IAjBR,SAgBNrF,EAhBM,SAmBFA,EAAIsF,SACZpB,EAAMoB,QAAN,UAAiB3C,EAAKlV,GAAtB,YAA+BkV,EAAI,QAAnC,MACAoI,MAEA7G,EAAMtJ,MAAN,UAAe+H,EAAKlV,GAApB,YAA6BkV,EAAI,OAAjC,cAAiD3C,EAAIgL,SAAJ,QAvBvC,4CAAH,qDA0BLD,GAAQ,WACZE,MAUIA,GAAU,uCAAG,4BAAA3L,EAAA,0DACd4F,IAAQA,EAAKgG,eADC,gCAEOnG,IAASC,QAAQ,qBAAqB,CAACf,EAAOV,OAAO0B,QAAQC,EAAKgG,eAAe/F,QAAQlB,EAAOV,OAAO6B,UAF9G,OAET+F,EAFS,OAGfjB,GAAU,GACPiB,EAAQ/Z,OAAS,IAClBuY,EAAcwB,EAAQC,MAAK,SAACC,EAAGC,GAC7B,IAAMC,GAASF,EAAGnC,iBACZsC,GAASF,EAAGpC,iBAClB,OAAa,IAATqC,GAAcC,EAAO,EAChB,EACCD,EAAO,GAAc,IAATC,GACZ,EAED,MAGX/B,EAAkB0B,EAAQ,IAC1BtB,EAAU,IACVE,EAAkB,KAlBL,2CAAH,qDAuBV0B,GAAkB,uCAAG,4BAAAnM,EAAA,2DACtB2E,GAAUiB,GAAQA,EAAKO,SADD,gCAEAV,IAASC,QAAQ,oBAAoB,CAACf,EAAOV,OAAO0B,QAAQC,EAAKC,UAFjE,OAEjBkE,EAFiB,OAGvBK,EAAYL,GAHW,2CAAH,qDAOlBqC,GAAa,uCAAG,WAAOjD,GAAP,eAAAnJ,EAAA,2DACjB4F,EAAKO,SAAWgD,GAAkBA,EAAelB,cADhC,gCAEMxC,IAASC,QAAQ,qBAAqB,CAACf,EAAOV,OAAO0B,QAAQC,EAAKgG,eAAe/F,QAAQlB,EAAOV,OAAO6B,QAAQqD,EAAelB,eAFpI,OAEZ4C,EAFY,OAGlBC,EAAaD,GAHK,2CAAH,sDAqDnB,OA5BAjc,qBAAU,WACR+c,KACAQ,OACC,CAACxH,EAAOiB,IAGXhX,qBAAU,WACRwd,GAAcjD,KACb,CAACA,EAAelB,eAEnBrZ,qBAAU,WACR,GAAGJ,EAAQ6d,aAAe/B,GAAUO,EAAU,CAAC,IAAD,EACUrc,EAAQ6d,YAAvDC,EADqC,EACrCA,aAAcC,EADuB,EACvBA,YAAaC,EADU,EACVA,gBAC5BC,EAAU,GACVC,EAAiB3C,EAAS4C,MAAK,SAAAC,GAAC,OAAIA,EAAE3E,eAAiBkB,EAAelB,gBACtEha,EAAQya,cAAGva,IAASkd,KAAYf,EAASA,GAAQ3B,MAAMQ,EAAe0D,aAAalE,MAAM+D,EAAe3C,UAAU+C,WACxHL,EAAQH,aAAe5D,cAAG4D,GAAc9C,KAAKvb,GAAO8e,MAAMrY,WAC1D+X,EAAQD,gBAAkB9D,cAAG8D,GAAiBhD,KAAKvb,GAAO8e,MAAMrY,WAChE+X,EAAQO,mBAAqBtE,cAAG6D,GAAapJ,IAAIsJ,EAAQH,cAAcS,MAAMpE,MAAM,KAAKjU,YAEnFmW,EAAUoC,UAAa,IAC1BR,EAAQH,aAAe5D,cAAG4D,GAAc9C,KAAKvb,GAAOub,KAAKqB,EAAUoC,WAAWF,MAAMrY,WACpF+X,EAAQD,gBAAkB9D,cAAG8D,GAAiBhD,KAAKvb,GAAOub,KAAKqB,EAAUoC,WAAWF,MAAMrY,YAE5FiW,EAAwB8B,MAEzB,CAACnC,IAGF,sBAAKhb,UAAU,eAAf,UACE,sBAAKA,UAAU,WAAf,UACE,gCAAM+T,EAAI,QAAV,OAA6BA,EAAKlV,EAAK+e,kBACvC,qBAAKC,IAAKC,WAAgBC,IAAI,GAAG3I,QAAS,kBAAM4I,aAAK,qBAEvD,sBAAKhe,UAAU,UAAf,UACE,sBAAKA,UAAU,eAAf,UACE,cAACie,GAAA,EAAD,CAAQC,KAAMvE,EAAYpY,MAAM,MAAMC,OAAO,KAAK2c,SAAU,SAAAD,GAAI,OAAInD,EAAcmD,MAClF,sBAAKle,UAAU,YAAf,UACE,qBAAKA,UAAU,SAAf,SAAyB+T,EAAK,gBAC9B,qBAAK/T,UAAU,SAAf,SAAyB+T,EAAK,oBAC9B,qBAAK/T,UAAU,SAAf,SAAyB+T,EAAK,wBAC5BuC,EAAKiE,MAAQjE,EAAKkE,WAAe,qBAAKxa,UAAU,SAAf,SAAyB+T,EAAK,oBAEnE,qBAAK/T,UAAU,UAAf,SACE,cAAC0Z,GAAD,CAAUxE,OAAQA,EAAQyE,WAAYA,EAAYrD,KAAMA,EAAMuD,eAAgBA,EAAgBD,aA3GnF,SAAAha,GAChBia,EAAelB,eAAiBgB,EAAW/Z,GAAO+Y,eACnDkC,EAAkBlB,EAAW/Z,IAC7Bqb,EAAU,IACVE,EAAkB,MAuG8GpH,KAAMA,SAGpI,sBAAK/T,UAAU,UAAf,UACE,qBAAKA,UAAU,WAAf,SAA0B,cAACoe,GAAA,EAAD,CAAOzf,MAAOqc,EAAQqD,WAAY,MAAOzf,QAAQ,KAAKuf,SAAU,SAAAxf,GAAK,OAlEtF,SAAAA,GACfsc,EAAUtc,GAiE+Fwf,CAASxf,IAAQ+B,KAAMmZ,EAAelB,iBACzI,sBAAK3Y,UAAU,aAAf,UACE,cAAC0a,GAAD,CAAgBb,eAAgBA,EAAgBhb,KAAMA,EAAMkV,KAAMA,IACjElV,IAASkd,IAEV,cAACuC,GAAA,EAAD,CAAYvK,KAAMA,EAAMwK,UAAW1E,EAAelB,aAAc6F,WAAYjD,EAAUiD,WAAYC,QAASlD,EAAUoC,UAAWrD,iBAAkBT,EAAeS,mBAEjI,SAAhCT,EAAelB,cAA4B,cAAC2F,GAAA,EAAD,CAAYvK,KAAMA,EAAMwK,UAAW1E,EAAelB,aAAc6F,WAAYjD,EAAUiD,WAAYC,QAASlD,EAAUoC,UAAWrD,iBAAkB,OAG/L,qBAAKta,UAAU,aAAf,SACE,cAAC0e,GAAA,EAAD,CAAaC,OAAQ,CAAC,MAAM,MAAM,MAAM,QAASC,oBAAoB,UAAUC,aAAc3D,EAAgBiD,SAAU,SAAAxf,GAAK,OAzErH,SAAAA,GACf,GAAGA,EAAM,CACP,IAAMmgB,EAAUjgB,IAAS8b,IAAUd,EAAeQ,cAAgBR,EAAeS,iBAC3EyE,EAASC,YAAmBrgB,EAAMmgB,GACxC7D,EAAU8D,GACV5D,EAAkBxc,GAEhB+c,EADW,SAAV/c,IAmEmIsgB,CAAStgB,IAAQuY,SAAS,EAAMF,QAAS,0BAA0BzV,MAAO,GAAIC,OAAQ,OAExN,sBAAKxB,UAAW2b,EAAhB,UACE,sBAAK3b,UAAU,WAAf,UACE,gCAAM+T,EAAK,gBAAX,OACA,gCACE,cAAC9T,EAAA,EAAD,CAAkBtB,MAAOO,EAAQ6d,YAAYW,mBAAoB3e,OAAO,IAAIoB,aAAc,IAD5F,aAEE,cAACF,EAAA,EAAD,CAAkBtB,MAAOyc,EAAqBsC,mBAAoB3e,OAAO,IAAIqb,WAAS,EAACja,aAAc,UAEzG,sBAAKH,UAAU,WAAf,UACE,gCAAM+T,EAAK,oBAAX,OACA,gCAAK,cAAC9T,EAAA,EAAD,CAAkBtB,MAAOO,EAAQ6d,YAAYG,gBAAiB/c,aAAc,IAAjF,cACA,cAACF,EAAA,EAAD,CAAkBtB,MAAOyc,EAAqB8B,gBAAiB/c,aAAc,EAAGia,WAAS,UAE3F,sBAAKpa,UAAU,WAAf,UAA0B,gCACvB+T,EAAK,6BADkB,OAExB,gCACE,cAAC9T,EAAA,EAAD,CAAkBtB,MAAOO,EAAQ6d,YAAYC,aAAc7c,aAAa,MAD1E,aAEE,cAACF,EAAA,EAAD,CAAkBtB,MAAOyc,EAAqB4B,aAAc7c,aAAa,IAAIia,WAAS,aAI5F,qBAAKpa,UAAU,YAAf,SACE,cAACkf,GAAA,EAAD,CAAmBnL,KAAMA,EAAMuC,KAAMA,EAAM4F,SAAUrC,EAAeqC,SAAU5G,MAAOA,EAAOwE,OAAQD,EAAelB,aAAczZ,QAASA,EAASmW,OAAQA,EAAQuB,MAAO7C,EAAKlV,EAAK+e,eAAe5D,cAAemF,SAAU,GAAIC,WAAY,IAAK7d,MAAO,IAAKC,OAAQ,GAAI4T,QAASyG,iB,oDCpMxR3D,I,QAAUtE,YAAO/T,IAAP+T,CAAH,6VAqBPyL,GAAgB,SAAC,GAAmB,IAAjB1gB,EAAgB,EAAhBA,MAAMG,EAAU,EAAVA,IAC7B,OACE,eAAC,GAAD,CAASA,IAAKA,EAAKiB,WAAS,EAA5B,UACE,cAACE,EAAA,EAAD,CAAkBtB,MAAOA,EAAOwB,aAAc,EAAGoB,MAAM,OAAOC,OAAO,OACrE,qBAAKxB,UAAU,OAAf,oBAIS,SAASsf,GAAT,GAAwC,IAAD,IAAvBvC,mBAAuB,MAAT,GAAS,EAANhJ,EAAM,EAANA,KAAM,EAC5B5U,mBAAS,CAAC,CAACR,MAAQ,KADS,mBAC7C2S,EAD6C,KACvCiO,EADuC,OAEhBpgB,mBAAS,IAFO,mBAE7CqgB,EAF6C,KAEjCC,EAFiC,OAGZtgB,mBAAS,IAHG,mBAG/BugB,GAH+B,aAIpBvgB,mBAAS,WAJW,mBAI7CwgB,EAJ6C,KAInCC,EAJmC,OAK5BzgB,mBAAS,WALmB,mBAK7C0gB,EAL6C,KAKvCC,EALuC,KAM9CpC,EAAqBzB,MAAMc,EAAYW,oBAAsB,GAAKX,EAAYW,mBAC9EqC,EAAa,UAAMrC,EAAN,eAA+B3J,EAAK,mCACjDiM,EAAajM,EAAK,sCAClBkM,EAAaxgB,IAAKC,SAAWqU,EAAK,sCAAwCA,EAAK,6CAsDrF,OApDAzU,qBAAU,WACRigB,EAAQ,CAAC,CAAC5gB,MAAQ,KAClBmhB,EAAQ,aACP,IAGHxgB,qBAAU,WACR,GAAGyd,IAAgBA,EAAYE,aAA2C,IAA5BF,EAAYE,eAAuBF,EAAYC,cAA6C,IAA7BD,EAAYC,cACvH,GAAGD,EAAYW,mBAAqB,IAAK,CACvC,IAAMT,EAAc7D,cAAG2D,EAAYC,cAAc3D,MAAM0D,EAAYW,mBAAqB,KACzEX,EAAYC,aACM,KAA7BD,EAAYC,cACduC,EAAQ,CAAC,CAAC5gB,MAAQ,KAClBmhB,EAAQ,aAERP,EAAQ,CACN,CAAE5gB,MAAOse,EAAYO,YACrB,CAAE7e,MAAOya,cAAG2D,EAAYC,cAAckD,MAAMjD,GAAaO,YACzD,CAAE7e,MAAOya,cAAG2D,EAAYC,cAAcnJ,IAAI,GAAG2J,cAE/CiC,EAAc,CACZU,GAAK,MACLC,GAAK,IACLC,GAAK,IACLC,GAAK,QAEPR,EAAQ,qBACRF,EAAY,gBAGT,CACL,IAAMW,EAAOnH,cAAG2D,EAAYW,oBAAoBwC,MAAM,KAAK1C,WACrDgD,EAAYpH,cAAG2D,EAAYC,cAAcnJ,IAAI,GAC7CvC,EAAO,CACX,CAAE3S,MAAOya,cAAG2D,EAAYC,cAAc9C,KAAKsG,EAAUnH,MAAMkH,GAAM1M,IAAI,MAAM2J,YAC3E,CAAE7e,MAAQ,GACV,CAAEA,MAAO6hB,EAAUnH,MAAM,IAAMkH,GAAM1M,IAAI,KAAK2J,aAEhDiC,EAAc,CACZU,GAAK,MACLC,GAAK,MACLC,GAAK,IACLC,GAAK,QAEPR,EAAQ,qBACRF,EAAY,WACZF,EAAgB,OAChBH,EAAQjO,MAIX,CAACyL,EAAYW,qBAEd,sBAAK1d,UAAU,QAAf,UACE,eAACygB,GAAA,EAAD,CAAUjf,OAAQ,IAAKD,MAAO,IAA9B,UACE,iCACE,yDACEK,GAAG,eACC4d,GAFN,cAIE,sBAAMkB,OAAO,KAAKC,UAAU,YAC5B,sBAAMD,OAAO,MAAMC,UAAWhB,QAEhC,iCACE/d,GAAG,cADL,UAIE,sBAAM8e,OAAO,QAAQC,UAAU,YAC/B,sBAAMD,OAAO,UAAUC,UAAU,kBAGrC,eAACC,GAAA,EAAD,CACEC,GAAG,MACHC,GAAG,MACHC,WAAY,IACZC,UAAW,GACXC,YAAa,MACbC,YAAa,MACb5P,KAAMA,EACN6P,QAAQ,QACRC,WAAW,EACXC,aAAc,EACdC,OAAO,OACPC,mBAAmB,EAZrB,UAcE,cAACC,GAAA,EAAD,CAAM3B,KAAMA,IACZ,cAAC2B,GAAA,EAAD,CAAM3B,KAAK,oBAAoB4B,YAAY,QAC3C,cAACD,GAAA,EAAD,CAAM3B,KAAK,UAAU4B,YAAY,eAGrC,cAAC,GAAD,CAAe3iB,IAAKihB,EAAephB,MAAQ+e,IAC3C,cAAC,KAAD,CAAe9b,GAAG,WAAW7B,WAAS,EAACwB,MAAM,MAAMmgB,QAAQ,OAC3D,qBAAK1hB,UAAU,cAAf,gBACA,qBAAKA,UAAU,YAAf,SAA2B,cAACH,EAAA,EAAD,CAAgBnB,KAAK,OAAOI,IAAKkhB,EAAYjgB,WAAW,MACnF,qBAAKC,UAAU,YAAf,SAA2B,cAACH,EAAA,EAAD,CAAgBnB,KAAMe,IAAKC,SAAW,OAAS,MAAOZ,IAAKmhB,EAAYlgB,WAAW,MAC7G,qBAAKC,UAAU,qBC/IrB,IAAMkY,GAAUtE,IAAOC,IAAV,mZAuBE,SAAS8N,GAAT,GAA4C,IAApBtJ,EAAmB,EAAnBA,QAAQrY,EAAW,EAAXA,UAC7C,OACI,eAAC,GAAD,CAASA,UAAW8B,IAAW,iBAAiB9B,GAAhD,UACE,qBAAKA,UAAU,OAAf,SAAsB,cAACqB,EAAA,EAAD,CAAMC,MAAM,iBAClC,qBAAKtB,UAAU,UAAU4hB,wBAAyB,CAACC,OAASxJ,QCZpE,SAASyJ,GAAT,GAAwE,IAAnCzM,EAAkC,EAAlCA,OAAOnW,EAA2B,EAA3BA,QAAQ6U,EAAmB,EAAnBA,KAAKiJ,EAAc,EAAdA,aAAc,EAC3B7d,oBAAS,GADkB,mBAC9D4iB,EAD8D,KAC/CC,EAD+C,KAE/D1M,EAAQC,cACR0M,EAAYngB,IAAW,aAAa,CACxC8Z,KAAOmG,IAEHG,EAAe,SAAA/f,GACnBA,EAAEggB,kBACFH,GAAkBD,IAEdK,EAAgB,uCAAG,WAAOjgB,GAAP,eAAAuO,EAAA,6DACvBvO,EAAEggB,kBACInR,EAAS,CAACqE,EAAOV,OAAO0B,QAAQnX,EAAQqB,WAAWgW,QAAQlB,EAAOV,OAAO6B,SAFxD,SAGLL,IAASC,QAAQ,aAAapF,EAAO,CAACyF,iBAAiB,IAHlD,cAIhBC,QACLpB,EAAMoB,QAAQ3C,EAAK,oBAEnBuB,EAAMtJ,MAAM+H,EAAK,mBAEnBmO,EAAa/f,GATU,2CAAH,sDAkBtB,OAPA7C,qBAAU,WACR,IAAM+iB,EAAQ,kBAAML,GAAiB,IAErC,OADAvW,SAASI,iBAAiB,QAAQwW,GAAM,GACjC,WACL5W,SAASjE,oBAAoB,QAAQ6a,MAEtC,IACInjB,EAAQqB,WAAWsW,QACxB,sBAAK7W,UAAU,WAAf,UACE,sBAAKA,UAAU,cAAf,UACE,cAACC,EAAA,EAAD,CAAkBtB,MAAOqe,EAAc7c,aAAa,IAAIpB,OAAM,WAAMG,EAAQojB,aAAeC,mCAAmC,IAC9H,8BAAK,cAAClhB,EAAA,EAAD,CAAMC,MAAOygB,EAAgB,WAAa,aAAchE,IAAI,UAAUxc,MAAM,KAAKC,OAAO,KAAK4T,QAAS8M,SAE7G,sBAAKliB,UAAWiiB,EAAhB,UACE,uBAAMjiB,UAAU,QAAhB,UAAyB+T,EAAK,cAA9B,OACA,cAAC9T,EAAA,EAAD,CAAkBE,aAAa,IAAIxB,MAAOO,EAAQsjB,YAAajhB,MAAM,OAAOvB,UAAU,UAAUuiB,mCAAmC,IACnI,cAACxL,EAAA,EAAD,CAAQC,QAAQ,yBAAyByL,SAAqC,KAAzBvjB,EAAQsjB,YAAoBxiB,UAAU,UAAUoV,QAASgN,EAAkBjD,SAAS,KAAKC,WAAW,MAAM7d,MAAM,KAAKC,OAAO,KAAKoV,MAAO7C,EAAI,gBAGrM,sBAAK/T,UAAU,QAAf,UAAuB,cAACC,EAAA,EAAD,CAAkBtB,MAAOqe,EAAc7c,aAAa,IAAIpB,OAAM,WAAMG,EAAQojB,aAAeC,mCAAmC,IAArJ,OAqEWvjB,mBAAO,SAAS,UAAhBA,CAA2BC,aAlE1C,YAA4C,IAAtBC,EAAqB,EAArBA,QAAQmW,EAAa,EAAbA,OAAOtB,EAAM,EAANA,KAC7BuB,EAAQC,cAD2B,EAELpW,oBAAS,GAFJ,mBAElCujB,EAFkC,KAEtBC,EAFsB,OAGHxjB,mBAAS,IAHN,mBAGlCyjB,EAHkC,KAGrBC,EAHqB,KAInCC,EAAgBhhB,IAAW,CAAC8Z,KAAO8G,IACnCK,EAAkB,SAAClkB,GACvB+c,aAAK,cAAC,GAAD,CAAa/c,KAAMA,EAAMK,QAASA,EAASmW,OAAQA,EAAQtB,KAAMA,EAAMuC,KAAMpX,EAAQoX,KAAMhB,MAAOA,IAAU,CAC/GhX,IAAO,cACP0kB,QAAQ,EACR1X,MAAO,CACL2X,WAAY,qBACZC,OAAS,MAqBf,OAjBA5jB,qBAAU,WACR,GAAGJ,EAAQ6d,YAAY,CAKrB,GAJG7d,EAAQ6d,YAAYW,oBAAqB,MAC1CmF,EAAe9O,EAAK,8BACpB4O,GAAc,IAEbzjB,EAAQ6d,YAAYW,oBAAsB,IAAK,CAChD,IAAM5e,EAAMW,IAAKC,SAAWqU,EAAK,6BAA+BA,EAAK,oCACrE8O,EAAe/jB,GACf6jB,GAAc,GAEbzjB,EAAQ6d,YAAYW,mBAAqB,KAC1CiF,GAAc,MAGjB,CAACzjB,EAAQ6d,YAAY7d,EAAQqB,WAAWqN,SAGzC,qBAAK5N,UAAU,UAAf,SACE,qBAAKA,UAAU,SAAf,SACI,sBAAKA,UAAU,UAAf,UACE,sBAAKA,UAAU,eAAf,UACE,sBAAKA,UAAU,SAAf,UACE,qBAAKA,UAAU,YAAf,SAA4B+T,EAAK,kBACjC,sBAAK/T,UAAU,MAAf,UACE,8BAAK,cAACH,EAAA,EAAD,CAAenB,KAAMqV,EAAK,6BAA8BhU,WAAS,EAACjB,IAAKiV,EAAK,qCACjF,cAAC+N,GAAD,CAA4BzM,OAAQA,EAAQnW,QAASA,EAAS6U,KAAMA,EAAMiJ,aAAc9d,EAAQ6d,YAAYC,kBAE9G,sBAAKhd,UAAU,MAAf,UACE,8BAAK,cAACH,EAAA,EAAD,CAAenB,KAAMqV,EAAK,gBAAiBjV,IAAKiV,EAAK,wBAC1D,qBAAK/T,UAAU,QAAf,SAAuB,cAACC,EAAA,EAAD,CAAkBtB,MAAOO,EAAQ6d,YAAYE,YAAale,OAAM,WAAMG,EAAQojB,aAAeC,mCAAmC,EAAMpiB,aAAa,WAE5K,sBAAKH,UAAU,MAAf,UACE,8BAAK,cAACH,EAAA,EAAD,CAAenB,KAAMqV,EAAK,oBAAqBjV,IAAKiV,EAAK,wBAAyBhU,WAAS,MAChG,qBAAKC,UAAU,QAAf,SAAuB,cAACC,EAAA,EAAD,CAAkBtB,MAAOO,EAAQ6d,YAAYG,gBAAiB/c,aAAa,IAAIoiB,mCAAmC,EAAMxjB,OAAM,WAAMG,EAAQojB,uBAGvK,qBAAKtiB,UAAU,QAAf,SACE,cAACsf,GAAD,CAAOvC,YAAa7d,EAAQ6d,YAAahJ,KAAMA,SAGrD,cAAC4N,GAAD,CAAetJ,QAASuK,EAAa5iB,UAAW8iB,IAChD,sBAAK9iB,UAAU,cAAf,UACE,cAAC+W,EAAA,EAAD,CAAQhD,KAAMA,EAAM7U,QAASA,EAASL,KAAMskB,IAAWC,KAAK,UAAUC,QAASnkB,EAAQokB,eAAgBpM,SAAO,EAACN,MAAO7C,EAAI,QAAYiG,cAAe5E,QAAS,kBAAM2N,EAAgBpI,QACpL,cAAC5D,EAAA,EAAD,CAAQhD,KAAMA,EAAM7U,QAASA,EAASgY,SAAO,EAACrY,KAAMskB,IAAWC,KAAK,WAAWC,QAASnkB,EAAQokB,eAAgB1M,MAAO7C,EAAI,SAAaiG,cAAe5E,QAAS,kBAAM2N,EAAgBhH,sB,mBCtHnL,SAASwH,GAAT,GAAqH,IAApGC,EAAmG,EAAnGA,IAAIC,EAA+F,EAA/FA,KAAKC,EAA0F,EAA1FA,IAAI/kB,EAAsF,EAAtFA,MAAMkgB,EAAgF,EAAhFA,aAAa8E,EAAmE,EAAnEA,QAAQ3jB,EAA2D,EAA3DA,UAA2D,IAAjD4jB,kBAAiD,MAApC,GAAoC,MAAjCC,iBAAiC,MAArB,GAAqB,MAAlBC,mBAAkB,MAAJ,GAAI,EACjI,OACE,cAAC,KAAD,CACIN,KAAMA,EACNE,KAAMA,EACN/kB,OAAQA,EACRqB,UAAWA,EACXme,SAAUwF,EACV9E,aAAcA,EACd+E,WAAU,eAAMA,GAChBE,YAAW,eAAMA,GACjBD,UAAS,eAAMA,GACfJ,MAAQ9kB,GAAW8kB,EAAQ,IAAOA,I,0CCJ3B,SAASM,GAAT,GAAoF,IAA5D7kB,EAA2D,EAA3DA,QAAS6U,EAAkD,EAAlDA,KAAMyB,EAA4C,EAA5CA,UAAiBF,GAA2B,EAAjCzW,KAAiC,EAA3ByW,OAAO0O,EAAoB,EAApBA,iBACtEC,EAAczO,IAAc0O,IAAOnQ,EAAK,YAAcA,EAAK,cAE3DqB,EAAO,uCAAG,sBAAA1E,EAAA,sEACIxR,EAAQilB,gBADZ,cAENzN,SACNxX,EAAQyX,UACRyN,YAAsBJ,GACtB1O,EAAMoB,QAAQ3C,EAAK,wBACnBiK,aAAK,kBAEL1I,EAAMtJ,MAAM+H,EAAK,uBACjBiK,aAAK,iBATO,2CAAH,qDAYb,OACE,sBAAKhe,UAAU,eAAf,UACE,sBAAKA,UAAU,gBAAf,UAAgC+T,EAAI,aAApC,IAAsD,qBAAK8J,IAAKC,WAAgBC,IAAI,GAAG3I,QAAS,kBAAM4I,aAAK,sBAC3G,sBAAKhe,UAAU,eAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,qBAAKA,UAAU,0BAAf,SACE,qBAAKA,UAAU,SAAf,SAAwB,cAACqkB,GAAA,EAAD,CAAO3lB,KAAI,UAAKQ,EAAQolB,iBAAiBC,OAA9B,YAAwCrlB,EAAQslB,cAAcD,QAAWvkB,UAAWd,EAAQolB,iBAAiBC,aAGlJ,qBAAKvkB,UAAU,eAAf,SACE,qBAAKA,UAAU,QAAf,kBAGF,qBAAKA,UAAU,uBAAf,SACE,qBAAKA,UAAU,MAAf,SAAqB,cAACqkB,GAAA,EAAD,CAAO3lB,KAAI,UAAKQ,EAAQolB,iBAAiBG,IAA9B,YAAqCvlB,EAAQslB,cAAcC,KAAOzkB,UAAWd,EAAQolB,iBAAiBG,aAK1I,sBAAKzkB,UAAU,cAAf,UACE,qBAAKA,UAAU,cAAf,SAA8B+T,EAAI,SAClC,qBAAK/T,UAAU,oBAAf,SAAmC,cAACC,EAAA,EAAD,CAAkBtB,MAAOO,EAAQslB,cAAcE,YAAa3lB,OAAM,WAAMG,EAAQqB,WAAWG,MAAQP,aAAcjB,EAAQwW,4BAE9J,sBAAK1V,UAAU,cAAf,UACE,qBAAKA,UAAU,cAAf,SAA8B+T,EAAK,iBACnC,qBAAK/T,UAAU,oBAAf,SAAmC,cAACC,EAAA,EAAD,CAAkBtB,MAAOO,EAAQylB,cAAcC,WAAYzkB,aAAc,SAE9G,sBAAKH,UAAU,cAAf,UACE,qBAAKA,UAAU,cAAf,SAA8B+T,EAAI,MAClC,qBAAK/T,UAAU,oBAAf,SAAmC,cAACC,EAAA,EAAD,CAAkBtB,MAAOO,EAAQylB,cAAczjB,IAAKf,aAAc,EAAGpB,OAAM,WAAMG,EAAQqB,WAAWoY,qBAEzI,sBAAK3Y,UAAU,cAAf,UACE,qBAAKA,UAAU,cAAf,SAA8B+T,EAAK,kBACnC,sBAAK/T,UAAU,oBAAf,UAAmC,cAACC,EAAA,EAAD,CAAkBtB,MAAOO,EAAQylB,cAAc1H,YAAa9c,aAAc,IAA7G,aAAgI,cAACF,EAAA,EAAD,CAAkBtB,MAAOO,EAAQylB,cAAcE,iBAAkBzK,WAAS,EAACja,aAAc,UAE3N,sBAAKH,UAAU,cAAf,UACE,qBAAKA,UAAU,cAAf,SAA8B+T,EAAK,sBACnC,sBAAK/T,UAAU,oBAAf,UAAmC,cAACC,EAAA,EAAD,CAAkBtB,MAAOO,EAAQylB,cAAczH,gBAAiB/c,aAAc,IAAjH,aAAoI,cAACF,EAAA,EAAD,CAAkBtB,MAAOO,EAAQylB,cAAcG,qBAAsB1K,WAAS,EAACja,aAAc,UAElOV,IAAKC,UAAY,sBAAKM,UAAU,cAAf,UAChB,qBAAKA,UAAU,cAAf,SAA8B+T,EAAK,eACnC,sBAAK/T,UAAU,oBAAf,UAAmC,cAACC,EAAA,EAAD,CAAkBtB,MAAOO,EAAQylB,cAAcI,SAAU5kB,aAAc,IAA1G,aAA6H,cAACF,EAAA,EAAD,CAAkBtB,MAAOO,EAAQylB,cAAcK,cAAe7kB,aAAc,aAG7M,qBAAKH,UAAU,cAAf,SACE,cAAC+W,EAAA,EAAD,CAAQxV,MAAM,MAAMC,OAAO,KAAKyjB,UAAU,UAAU7P,QAASA,EAASwB,MAAOqN,EAAY9E,SAAS,KAAKC,WAAW,a,cCrDpH8F,GAAe,CACnB5mB,IAAO,eACP0kB,QAAQ,EACR1X,MAAO,CACL2X,WAAY,qBACZC,OAAS,IA8KElkB,I,GAAAA,eAAO,UAAU,OAAO,SAAxBA,CAAkCC,aA1KjD,YAAiE,IAA3CC,EAA0C,EAA1CA,QAAQmW,EAAkC,EAAlCA,OAAOtB,EAA2B,EAA3BA,KAA2B,IAAtByB,iBAAsB,MAAV0O,IAAU,EAANrlB,EAAM,EAANA,KAAM,EACdM,oBAAS,GADK,mBACvD6kB,EADuD,KACrCmB,EADqC,OAE9BhmB,mBAAS,IAFqB,mBAEvD8E,EAFuD,KAE7CmhB,EAF6C,KAGxD9P,EAAQC,cACR8P,EAAchW,mBACdiW,EAASjW,mBACT4U,EAAczO,IAAc0O,IAAOnQ,EAAK,YAAcA,EAAK,cAC3D0D,EAAQ3V,IAAW,eAAe0T,GAClC+P,EAAiBzjB,IAAW,aAAa,CAC7C8Z,KAAQpG,IAAc0O,MAAShlB,EAAQ+E,SAASuhB,OAAU,GAAOhQ,IAAciQ,MAAUvmB,EAAQ+E,SAASuhB,OAAU,IAEhHE,EAAoB5jB,IAAW,gBAAgB,CACnD8Z,KAAO1c,EAAQsmB,OAAS,IAEpBG,EAAgB7jB,IAAW,YAAY,CAC3C8Z,KAAO1c,EAAQsmB,OAAS,IAEpBI,EAAsB9jB,IAAW,eAAe,CACpD,aAAe5C,EAAQ2mB,UACvB,iBAAmB3mB,EAAQ4mB,wBAA0BC,MAEjDC,EAAiBlkB,IAAW,CAChC8Z,KAAO1c,EAAQ+mB,YAEX9B,EAAa,uCAAG,sBAAAzT,EAAA,0DACjBsT,EADiB,gCAEA9kB,EAAQilB,gBAFR,cAGXzN,SACLxX,EAAQyX,UACRyN,YAAsB,GACtB9O,EAAMoB,QAAQ3C,EAAK,yBAEnBuB,EAAMtJ,MAAM+H,EAAK,uBARD,sBAWlB6H,aAAK,cAACmI,GAAD,CAAchQ,KAAMA,EAAMyB,UAAWA,EAAY3W,KAAMA,EAAK2S,QAAStS,QAASA,EAASoW,MAAOA,EAAO0O,iBAAkBA,IAAoBkB,IAX9H,2CAAH,qDAoCbgB,EAAQ,WACZhnB,EAAQinB,wBAAwB,IAChCjnB,EAAQknB,oBAAoB,IAC5BlnB,EAAQmnB,oBAAoB,IAC5BnnB,EAAQonB,UAAU,IAClBpnB,EAAQqnB,cAAa,IAGjBC,EAAoB,SAAAC,GACxBtB,EAAoBsB,IAItBnnB,qBAAU,WACR4mB,IACAf,EAAoBjmB,EAAQwnB,uBAC5BxnB,EAAQynB,aAAanR,KACpB,CAACA,EAAUtW,EAAQqB,WAAWqN,SAGjCtO,qBAAU,WACR,IAAMsnB,EAAkBC,YAAoBxB,EAAY7T,SAClDsV,EAAgBD,YAAoBvB,EAAO9T,SAC3B,KAAnBtS,EAAQsmB,QAAuC,KAApBtmB,EAAQsmB,SAAiBoB,GAAoBG,eAAeD,EAGxF1B,EAAY,IAFZA,EAAY,WAIb,CAAClmB,EAAQsmB,SAEZ,IAAMwB,EAAU,WACd,IAAMJ,EAAkBC,YAAoBxB,EAAY7T,SAClDsV,EAAgBD,YAAoBvB,EAAO9T,SAC3B,KAAnBtS,EAAQsmB,QAAuC,KAApBtmB,EAAQsmB,QAAiBoB,IAAoBG,cACzE3B,EAAY,SAEZA,EAAY,KAEX6B,eAAoBH,IACrB1B,EAAY,KAchB,OAVA9lB,qBAAU,WAGR,OAFAmM,SAASI,iBAAiB,SAAUmb,GAAS,GAC7Cvb,SAASI,iBAAiB,SAAUmb,GAAS,GACtC,WACLvb,SAASjE,oBAAoB,SAASwf,GACtCvb,SAASjE,oBAAoB,SAASwf,MAEvC,IAID,sBAAKhnB,UAAWyX,EAAhB,UACE,qBAAKzX,UAAU,MAAf,SAAsB+T,EAAK,gBAC3B,sBAAK/T,UAAU,aAAf,UACE,cAACoe,GAAA,EAAD,CAAOzf,MAAOO,EAAQgoB,YAAaC,eAAgBjoB,EAAQkoB,eAAgB3D,KAAMvkB,EAAQkoB,eACvF1D,IAAKxkB,EAAQmoB,eAAgBlJ,SAxEjB,SAACqH,GACnBtmB,EAAQinB,wBAAwB,IAChCjnB,EAAQonB,UAAUd,IAsEwC5mB,QAASM,EAAQwW,qBAAsBhV,KAAMxB,EAAQooB,aAActnB,UAAU,YACnI,qBAAKA,UAAU,iBACf,cAACoe,GAAA,EAAD,CAAOzf,MAAOO,EAAQqoB,YAAa7mB,KAAK,MAAM+iB,KAAK,OAAOD,IAAK,EAAGE,IAAKxkB,EAAQsoB,eAC9ErJ,SAvEgB,SAAAsJ,GACrBvoB,EAAQinB,wBAAwB,IAChCjnB,EAAQknB,oBAAoBqB,IAqEGznB,UAAU,UAAUqe,WAAW,WAE5D,qBAAKre,UAAU,aAAf,SACE,cAACujB,GAAD,CAAQG,IAAKxkB,EAAQwoB,mBAAoB9D,WAAY1kB,EAAQyoB,YAAY/D,WAAYC,UAAW3kB,EAAQyoB,YAAY9D,UAAWC,YAAa5kB,EAAQyoB,YAAY7D,YAAaN,IAAK,EAC1KC,KAAMvkB,EAAQkoB,eAAgBzD,QAvF5B,SAAAhlB,GACdO,EAAQinB,wBAAwB,IAChCjnB,EAAQmnB,oBAAoB1nB,IAqFgCA,MAAOO,EAAQ0oB,YAC/D5nB,UAAW4lB,MAErB,sBAAK5lB,UAAU,cAAf,UACE,cAAC0e,GAAA,EAAD,CAAaxH,SAAW,EAAMiH,SAtFd,SAAAxf,GACpBO,EAAQinB,wBAAwBxnB,IAqF2BkgB,aAAc3f,EAAQ2oB,qBAAsB7nB,UAAU,mBAC7G,sBAAKA,UAAU,eAAf,UACE,qBAAKA,UAAWulB,EAAhB,SAAgC,cAACuC,GAAA,EAAD,CAAQlR,MAAO7C,EAAK,cAAe/T,UAAU,WAAWoV,QA5E9E,SAAAqR,GAChBvnB,EAAQqnB,aAAaE,GACrBvnB,EAAQinB,wBAAwB,KA0EkFM,QAASvnB,EAAQ2mB,cAC7H,qBAAK7lB,UAAU,QAAQoV,QAAS8Q,EAAhC,SAAwCnS,EAAI,WAE9C,qBAAK/T,UAAW2lB,EAAeoC,IAAK1C,EAApC,SAAiD,uBAAMrlB,UAAU,SAAhB,cAA2Bd,EAAQ8oB,sBAEtF,cAACrG,GAAD,CAAetJ,QAAStE,EAAK,aAAc/T,UAAWgmB,IACtD,sBAAKhmB,UAAW0lB,EAAhB,UACE,qBAAK1lB,UAAU,cAAf,SAA8B+T,EAAK,yBACnC,sBAAK/T,UAAU,aAAf,UACE,sBAAKA,UAAU,YAAf,UACE,qBAAKA,UAAU,YAAf,SAA4B+T,EAAK,kBACjC,sBAAK/T,UAAU,YAAf,UAA2B,cAACC,EAAA,EAAD,CAAkBtB,MAAOO,EAAQylB,cAAc1H,YAAa7C,WAAW,EAAMja,aAAc,IAAtH,cAAyI,cAACF,EAAA,EAAD,CAAkBtB,MAAOO,EAAQylB,cAAcE,iBAAkBzK,WAAS,EAACja,aAAc,UAEpO,sBAAKH,UAAU,YAAf,UACE,qBAAKA,UAAU,YAAf,SAA4B+T,EAAK,iBACjC,qBAAK/T,UAAU,YAAf,SAA2B,cAACC,EAAA,EAAD,CAAkBtB,MAAOO,EAAQylB,cAAcC,WAAYzkB,aAAc,SAEtG,sBAAKH,UAAU,YAAf,UACE,qBAAKA,UAAU,YAAf,SAA4B+T,EAAI,MAChC,qBAAK/T,UAAU,YAAf,SAA2B,cAACC,EAAA,EAAD,CAAkBtB,MAAOO,EAAQylB,cAAczjB,IAAKf,aAAc,SAE9FtB,EAAKa,UAAY,sBAAKM,UAAU,YAAf,UAChB,qBAAKA,UAAU,YAAf,SAA4B+T,EAAK,qBACjC,qBAAK/T,UAAU,YAAf,SAA2B,cAACC,EAAA,EAAD,CAAkBtB,MAAOO,EAAQylB,cAAcK,cAAe7kB,aAAc,eAI7G,sBAAKH,UAAU,SAAf,UACE,sBAAKA,UAAU,eAAf,UACE,cAACioB,GAAA,EAAD,CAAWxB,QAAWzC,EAAkB7F,SAAUqI,EAAmBxmB,UAAU,eAC/E,sBAAMA,UAAU,eAAeoV,QAAS,kBAAMoR,GAAmBxC,IAAjE,SAAqFjQ,EAAK,iCAE5F,qBAAK/T,UAAU,gBAAgB+nB,IAAKzC,EAApC,SACE,cAACvO,EAAA,EAAD,CAAQ7X,QAASA,EAAS+E,SAAUA,EAAUoR,OAAQA,EAAQoN,UAAWvjB,EAAQgpB,eAAgBnU,KAAMA,EAAM6C,MAAOqN,EAAYjkB,UAAU,WAAWoV,QAAS+O,gBC1LlKgE,GAAavU,YAAO0E,IAAP1E,CAAH,iKAUD,SAASwU,GAAT,GAA0B,IAAD,EAANrU,EAAM,EAANA,KAC1BqE,GAAM,mBACTrE,EAAI,IAAW,CACdsE,QAAS,cAAC,GAAD,CAAa7C,UAAW0O,IAAKnQ,KAAMA,IAC5CzI,MAAO,CACL2X,WAAY,6FAEdoF,YAAa,0BACb7S,UAAW,WACXyP,UAAY,YARJ,cAUTlR,EAAI,KAAY,CACfsE,QAAU,cAAC,GAAD,CAAa7C,UAAWiQ,IAAO1R,KAAMA,IAC/CzI,MAAQ,CACN2X,WAAY,0FAEdoF,YAAY,yBACZ7S,UAAU,YACVyP,UAAY,YAjBJ,GAoBZ,OACE,8BACE,cAACkD,GAAD,CAAY/P,OAAQA,EAAQ7W,MAAM,OAAOvB,UAAU,kBAAkBwB,OAAQ,GAAI8mB,KAAM,GAAIC,gBAAgB,UAAUC,WAAW,EAAOC,cAAc,EAAMC,SAAS,M,wECE1K,SAASC,GAAT,GAAwD,IAAD,EAAhC5U,EAAgC,EAAhCA,KAAgC,IAA1B6U,eAA0B,MAAhB,GAAgB,EAAZ3J,EAAY,EAAZA,SACnC7G,GAAM,mBACTrE,EAAI,KAAW,CACdsE,QAAS,cAACwQ,GAAD,CAAY9U,KAAMA,EAAM6U,QAASA,EAAS9Z,QAASga,IAAYC,KAAK,OAAO9J,SAAUA,MAFtF,cAITlL,EAAI,KAAW,CACdsE,QAAS,cAACwQ,GAAD,CAAY9U,KAAMA,EAAM6U,QAASA,EAAS9Z,QAAS,CAACka,IAAgBC,KAAkBF,KAAK,OAAO9J,SAAUA,MAL7G,cAOTlL,EAAI,KAAW,CACdsE,QAAS,cAACwQ,GAAD,CAAY9U,KAAMA,EAAM6U,QAASA,EAAS9Z,QAASoa,IAAiBH,KAAK,OAAO9J,SAAUA,MAR3F,GAWZ,OACE,cAAC3G,EAAA,EAAD,CAAKF,OAAQA,EAAQG,cAAc,2BAA2BvY,UAAU,oBAI5E,IAAMmpB,GAAc,SAAC,GAAgC,IAAD,IAA7BP,eAA6B,MAAnB,GAAmB,EAAf3J,EAAe,EAAfA,SAC7BjK,EAAO/S,OAAO+S,KAAK4T,GACzB,OACE,cAAC,KAAD,CAAWQ,uBAAqB,EAACC,mBAAiB,EAACC,YAAa,CAAC,EAAG,GAAItpB,UAAU,iBAAlF,SACGgV,EAAKtT,KAAI,SAACpD,EAAKsB,GAAN,OACR,eAAC,KAAD,CAAe2pB,KAAM3pB,EAArB,UACE,cAAC,KAAD,UACE,eAAC,KAAD,WAAqB,cAACyB,EAAA,EAAD,CAAMC,MAAOhD,EAAKkD,OAAQ,GAAID,MAAO,GAAI+J,MAAO,CAAEke,YAAa,SAAYlrB,OAElG,cAAC,KAAD,UACGsqB,EAAQtqB,GAAKoD,KAAI,SAAC+nB,EAAK7pB,GACtB,OACE,sBAAiBI,UAAU,aAAaoV,QAAS,SAAAjT,GAAC,OAAI8c,EAASwK,IAA/D,UACE,qBAAKzpB,UAAU,cAAf,SACGypB,EAAKC,gBAER,sBAAK1pB,UAAU,eAAf,UACE,cAACC,EAAA,EAAD,CAAkB8B,OAAO,IAAIpD,MAAO8qB,EAAK9pB,UAAWQ,aAAc,EAAGoB,MAAM,OAC1EkoB,EAAKjpB,WAAa,cAACa,EAAA,EAAD,CAAME,MAAO,EAAGD,MAAOmoB,EAAKjpB,UAAY,EAAI,UAAY,cAC3E,cAACP,EAAA,EAAD,CAAkBtB,MAAwB,IAAjB8qB,EAAKjpB,UAAiBL,aAAc,EAAGpB,OAAO,WAPjEa,UAPetB,SA0BzC,SAASuqB,GAAT,GAAgE,IAA1CD,EAAyC,EAAzCA,QAAS9Z,EAAgC,EAAhCA,QAASmQ,EAAuB,EAAvBA,SAAUlL,EAAa,EAAbA,KAAMgV,EAAO,EAAPA,KAClDY,EAAgBf,EAAQpM,MAAK,SAACoN,EAAGC,GAAJ,OAAWD,EAAG9a,QAAU+a,EAAG/a,SAAW,EAAI,KAAGgb,QAAO,SAAAC,GAAC,OAAIhnB,MAAMC,QAAQ8L,GAAWA,EAAQkb,SAASD,EAAEjb,SAAWib,EAAEjb,UAAYA,GAAWia,IAASgB,EAAEhB,QAiDrL,MAhDgB,iBAAZja,IACF6a,EAAgB,CACd,CACE,OAAU,SACV,QAAU,eACV,cAAiB,gBAEnB,CACE,OAAU,SACV,QAAU,eACV,cAAiB,eAEnB,CACE,OAAU,SACV,QAAU,eACV,cAAiB,eAEnB,CACE,OAAU,SACV,QAAU,eACV,cAAiB,cAEnB,CACE,OAAU,SACV,QAAU,eACV,cAAiB,gBAEnB,CACE,OAAU,SACV,cAAiB,gBAEnB,CACE,OAAU,WACV,QAAU,eACV,cAAiB,gBAEnB,CACE,OAAU,SACV,QAAU,eACV,cAAiB,gBAEnB,CACE,OAAU,SACV,QAAU,eACV,cAAiB,kBAKrB,qBAAK3pB,UAAU,UAAf,SACG2pB,EAAcjoB,KAAI,SAAC+nB,EAAM7pB,GACxB,OACE,sBAAKI,UAAU,aAAyBoV,QAAS,kBAAM6J,EAASwK,IAAhE,UACE,sBAAKzpB,UAAU,UAAf,UAAyB,cAACqB,EAAA,EAAD,CAAMC,MAAOmoB,EAAK7b,OAAQpM,OAAQ,GAAID,MAAO,KAAOkoB,EAAKC,iBAClF,qBAAK1pB,UAAU,WAAf,SACE,sBAAKA,UAAU,kBAAf,UACe,iBAAZ8O,GAA8B,mCAC7B,cAACmb,GAAD,CAAMlW,KAAMA,MAEbjF,IAAYoa,KAAmB,qCAC9B,cAACjpB,EAAA,EAAD,CAAkB8B,OAAO,IAAIpD,MAAO8qB,EAAK9pB,UAAWQ,aAAc,EAAGoB,MAAM,OAC1EkoB,EAAKjpB,WAAa,cAACa,EAAA,EAAD,CAAME,MAAO,EAAGD,MAAOmoB,EAAKjpB,UAAY,EAAI,UAAY,cAC3E,cAACP,EAAA,EAAD,CAAkBtB,MAAwB,IAAjB8qB,EAAKjpB,UAAiBL,aAAc,EAAGpB,OAAO,gBAV9Ca,QAoB3C,SAASqqB,GAAT,GAAyB,IAATlW,EAAQ,EAARA,KACd,OACE,qBAAK/T,UAAU,YAAf,SACG+T,EAAI,YAKI/U,mBAAO,UAAPA,CAAkBC,aAvJjC,YAAgE,IAAzCC,EAAwC,EAAxCA,QAAS6U,EAA+B,EAA/BA,KAA+B,IAAzB6U,eAAyB,MAAf,GAAe,EAAXsB,EAAW,EAAXA,QAC5CjL,EAAW,SAAAwK,GACM,iBAAjBA,EAAK3a,UAGT5P,EAAQirB,eAAeV,GACvBS,GAAWA,MAEb,OACE,qBAAKlqB,UAAU,eAAf,SACE,qBAAKA,UAAU,UAAf,SACGP,IAAKC,SACJ,cAACipB,GAAD,CAAa5U,KAAMA,EAAM6U,QAASA,EAAS1pB,QAASA,EAAS+f,SAAUA,IAEvE,cAAC,GAAD,CAAa2J,QAASA,EAAS3J,SAAUA,YCqDpCjgB,mBAAO,UAAPA,CAAkBC,aA1EjC,YAAuD,IAAlCC,EAAiC,EAAjCA,QAAQkrB,EAAyB,EAAzBA,mBAAmBrW,EAAM,EAANA,KAAM,EACxB5U,oBAAS,GADe,mBAC7CkrB,EAD6C,KACrCC,EADqC,KAE9CC,EAAalb,mBAFiC,EAGdlQ,oBAAS,GAHK,mBAG7CqrB,EAH6C,KAGhCC,EAHgC,KAI9CC,EAAY5oB,IAAW,OAAO,CAClC,GAAO5C,EAAQqB,WAAWC,UAAY,EACtC,KAAStB,EAAQqB,WAAWC,UAAY,IAGpCmqB,EAAe,kBAAML,GAAU,IAiB/BM,EAAiB,SAAC7D,GACtB0D,EAAe1D,GACfqD,EAAmBrD,IAEf8D,EAAa,WACjBD,GAAe,IAWjB,OATAtrB,qBAAU,WAIR,OAHAqrB,IACAlf,SAASI,iBAAiB,QAAQ8e,GAClCpjB,OAAOsE,iBAAiB,SAASgf,GAC1B,WACLpf,SAASjE,oBAAoB,QAAQmjB,GACrCpjB,OAAOC,oBAAoB,SAASqjB,MAErC,CAAC3rB,EAAQqB,WAAWrB,EAAQS,YAE7B,sBAAKK,UAAU,cAAf,UACE,sBAAKA,UAAU,OAAf,UACE,sBAAKA,UAAU,SAAU8qB,WAAS,eAAeC,aAAW,QAAQC,WAAS,UAA7E,UACE,gCACE,qBAAKhrB,UAAU,OAAf,SAAuBirB,YAAqB/rB,EAAQqB,WAAWwoB,QAC/D,sBAAK/oB,UAAU,cAAf,UAA6B,cAACqB,EAAA,EAAD,CAAMC,MAAOpC,EAAQqB,WAAWqN,SAAU1O,EAAQqB,WAAWqN,aAE5F,qBAAK5N,UAAU,cAAf,SACE,cAACqB,EAAA,EAAD,CAAMC,MAAO+oB,EAAS,WAAa,aAActM,IAAI,aAEvD,qBAAK/d,UAAU,oBAEjB,qBAAKA,UAAU,aAAf,SACE,sBAAKA,UAAU,oBAAf,UACE,sBAAKA,UAAW0qB,EAAhB,UACGxrB,EAAQqB,WAAWC,WAAa,cAACa,EAAA,EAAD,CAAMC,MAAOpC,EAAQqB,WAAWC,UAAY,EAAI,UAAY,YAAaud,IAAI,KAC9G,cAAC9d,EAAA,EAAD,CAAkBtB,MAAsC,IAA/BO,EAAQqB,WAAWC,UAAiBL,aAAc,EAAGpB,OAAO,SACvF,qBAAKiB,UAAU,cAAf,SAA6B,cAACC,EAAA,EAAD,CAAkBtB,MAAOO,EAAQS,WAAaT,EAAQqB,WAAWZ,UAAWQ,aAAc,WAG3H,qBAAKH,UAAU,aAAaoV,QAAS,kBAAMwV,GAAgBJ,IAA3D,SACE,cAACnpB,EAAA,EAAD,CAAMC,MAAOkpB,EAAc,cAAgB,QAASjpB,MAAOipB,EAAc,KAAM,KAAMhpB,OAAQgpB,EAAc,KAAM,YAGrH,cAACU,GAAA,EAAD,CAASnD,IAAKwC,EAAYY,UAAW,kBAAMb,GAAU,IAAQc,UAAW,kBAAMd,GAAU,IAAO1oB,GAAG,eAAeL,MAAO,IAAK8pB,MAAM,SAASC,iBAxDtH,SAACrnB,EAASsnB,EAAaC,EAAcC,EAAQJ,EAAMK,EAAaC,EAAOjL,GAC/F,IAAMkL,EAAOJ,EAAcK,cAAcC,wBAGzC,MAAO,CAACC,IADIP,EAAcK,cAAcG,UAAYJ,EAAKpqB,OACxCyqB,KAAOL,EAAKK,OAqDxBC,YAAY,EAAOC,SAAU,KAAMC,YAAY,EAAOpsB,UAAU,kBAAkBnB,KAAK,OAAOwtB,eAAe,QAAQjmB,gBAAgB,UAAUkmB,WAAS,EAD3J,SAEE,cAAC,GAAD,CAAavY,KAAMA,EAAMuC,KAAMpX,EAAQoX,KAAMsS,QAAS1pB,EAAQqtB,YAAarC,QAnDjE,WACXK,EAAW/Y,UACZ+Y,EAAW/Y,QAAQgb,WAAa,KAChCC,KAAazO,OACbsM,GAAU,gBCQAtrB,sBAAO,SAAS,OAAO,UAAU,UAAU,UAA3CA,CAAsDC,aA9BtE,YAA2D,IAA3CC,EAA0C,EAA1CA,QAAQwtB,EAAkC,EAAlCA,QAAQrX,EAA0B,EAA1BA,OAAOvG,EAAmB,EAAnBA,QAAQjQ,EAAW,EAAXA,KAAKkV,EAAM,EAANA,KAAM,EAC5B5U,oBAAS,GADmB,mBACzCwtB,GADyC,aAEZxtB,oBAAS,GAFG,mBAEjDytB,EAFiD,KAEjCC,EAFiC,KAIlDC,EAAchrB,IAAW,eAAe,CAC5C,sBAAwB8qB,IAW1B,OARAttB,qBAAU,WAKR,OAJAotB,EAAQA,UACRxtB,EAAQ6tB,KAAK1X,GAAO,WAClBsX,GAAU,MAEL,WAAQztB,EAAQid,WACtB,CAAC9G,EAAOV,OAAO6B,QAAQ1H,EAAQ0C,QAAQ3S,EAAK2S,UAG7C,sBAAKxR,UAAW8sB,EAAhB,UACE,qBAAK9sB,UAAU,cAAf,SAA6B,cAAC,GAAD,CAAY+T,KAAMA,EAAOqW,mBAAoB,SAACwC,GAAD,OAAoBC,EAAkBD,QAChH,qBAAK5sB,UAAU,eAAf,SAA8B,cAAC,GAAD,CAAa+T,KAAMA,MACjD,qBAAK/T,UAAU,WAAf,SAA0B,cAAC,GAAD,CAAU+T,KAAMA,MAC1C,qBAAK/T,UAAU,aAAf,SAA4B,cAAC,EAAD,CAAW+T,KAAMA,MAC7C,qBAAK/T,UAAU,QAAf,SAAuB,cAAC,EAAD,CAAa+T,KAAMA,MAC1C,qBAAK/T,UAAU,UAAf,SAAyB,cAACmY,GAAD,CAAQpE,KAAMA,MACvC,qBAAK/T,UAAU,WAAf,SAA0B,cAAC,GAAD,CAAc+T,KAAMA,c,yIC7B9CmE,EAAUtE,YAAOoZ,IAAPpZ,CAAH,8CACD,SAAAqZ,GAAK,OAAIA,EAAM1rB,SAErB2rB,EAAWtZ,IAAOC,IAAV,6DACF,SAAAoZ,GAAK,MAAI,MAAME,KAAKF,EAAM1rB,OAAS0rB,EAAM1rB,MAAhC,UAA2C0rB,EAAM1rB,MAAjD,SACR,SAAA0rB,GAAK,MAAI,MAAME,KAAKF,EAAMzrB,QAAUyrB,EAAMzrB,OAAjC,UAA6CyrB,EAAMzrB,OAAnD,SA0CPvB,IAxCf,SAA0BgtB,GAAO,IAAD,EACU9tB,mBAAS,sBAAMa,UAAU,kBADnC,mBACvBotB,EADuB,KACTC,EADS,OAEIluB,oBAAS,GAFb,mBAEvBmuB,EAFuB,KAEZC,EAFY,KAGxBC,EAAa,WAAO,IACjBpT,EAAa6S,EAAb7S,UACP,MAA+B,WAAvB,YAAO6S,EAAMtuB,aAAsC8uB,IAAhBR,EAAMtuB,OAAuC,KAAhBsuB,EAAMtuB,QAAiBsd,MAAMgR,EAAMtuB,QAA0B,QAAhBsuB,EAAMtuB,OACrF,IAA3BuG,KAAKuY,IAAIwP,EAAMtuB,SAA+B,IAAdyb,GAgC7C,OA7BA9a,qBAAU,WAAO,IACR8a,EAAkD6S,EAAlD7S,UADO,GAC2C6S,EAAxC5X,OAAwC4X,EAAjCpO,qBADV,MACyB,KADzB,EACiC6O,EADjC,YAC2CT,EAD3C,uCAEXO,MAEGpT,GAAasT,EAAO/uB,OAAS,gBAAgBwuB,KAAKO,EAAO/uB,QAAwE,KAA3Dya,aAAGsU,EAAO/uB,OAAO2a,SAAUoU,EAAOvtB,cAAgB,KAC1HutB,EAAOvtB,aAAewtB,YAAazoB,KAAKuY,IAAIiQ,EAAO/uB,QAAU,GAE/D+uB,EAAO/uB,MAAQivB,YAAcF,EAAO/uB,OACjC+uB,EAAO/uB,OAAS,WAAWwuB,KAAKO,EAAO/uB,SACxC+uB,EAAO/uB,QAAU+uB,EAAO/uB,OAAO2a,QAAQ,IAEzC+T,EAAgB,cAACnV,EAAD,2BAAawV,GAAb,IAAsBG,YAAc,OAAQC,mBAAmB,EAAMC,mBAAmB,OAChGT,IACRD,EAAgB,cAACH,EAAD,aAAUltB,UAAU,gBAAmBitB,KACpDA,EAAM1K,mCACPgL,GAAa,IAGjB,IAAMS,EAAUzmB,OAAOmI,YAAW,WAE5B8d,KACFH,EAAgBxO,KAElB,KACF,OAAO,WACLoP,aAAaD,MAEd,CAACf,EAAMtuB,MAAMsuB,EAAM9sB,aAAa8sB,EAAMluB,SAElCquB,I,kHC9CHlV,EAAUtE,IAAOC,IAAV,uKACD,SAAAoZ,GAAK,OAAIA,EAAMxT,SAKb,SAAAwT,GAAK,OAAIA,EAAMxT,SAKd,SAAS5Z,EAAT,GAA2I,IAAlHnB,EAAiH,EAAjHA,KAAiH,IAA3GkD,UAA2G,MAAtGssB,YAAIxvB,GAAkG,EAA3FI,EAA2F,EAA3FA,IAAKiB,EAAsF,EAAtFA,UAAW6Y,EAA2E,EAA3EA,KAAM5Y,EAAqE,EAArEA,UAAqE,IAA1DyZ,aAA0D,MAAlD,QAAkD,MAAzClY,aAAyC,MAAjC,OAAiC,EAAzB4sB,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,YA0BxI,OACE,eAAClW,EAAD,CAASlY,UAAWA,EAAWyZ,MAAOA,EAAtC,UACE,qBAAKzZ,UAAU,OAAO8qB,WAAUlpB,EAAIopB,WAAUlsB,EAAKisB,aAAYhE,cAAa,QAAUqH,EAAaC,YAAWzV,EAA9G,SACGla,GAAQyvB,IAEVrvB,GAAO,cAAC,IAAD,CAAS8C,GAAIA,EAAIL,MAAOA,EAAOmgB,QAAQ,KAAK2J,MAAM,SAASC,iBA9B7C,SAACrnB,EAAUsnB,EAAcC,EAAeC,EAASJ,EAAOK,EAAcC,EAAQjL,GACtG,IAAMkL,EAAOJ,EAAcM,wBACrBwC,EAAkB7C,EAAQK,wBAEvBG,EAAyBL,EAA5B2C,EAAYxC,EAAgBH,EAAnB4C,EAAQhtB,EAAWoqB,EAAXpqB,OACTitB,EAA+BxqB,EAArCgoB,KAAuByC,EAAczqB,EAAnB8nB,IAkB1B,OAfEE,EADEwC,EAAaH,EAAgB/sB,MAAQkK,SAASkjB,gBAAgBC,YACzDH,EAAaH,EAAgB/sB,MAAQqqB,EAAKrqB,MAE1CktB,GAOE,IACTxC,EAAO,IALPF,EADE2C,EAAYJ,EAAgB9sB,QAAUiK,SAASkjB,gBAAgBE,aAC3DH,EAAYJ,EAAgB9sB,OAASA,EAAS,EAE9CktB,GAKE,IACR3C,EAAM,GAED,CAAEA,IAAKA,EAAKE,KAAMA,IAOiFrT,KAAMA,EAAMkW,aAAc,EAAG/uB,UAAWA,S,wHC5ChJmY,EAAUtE,IAAOC,IAAV,0GAKE,SAAS6K,EAAT,GAA+K,IAAD,IAAxJC,cAAwJ,MAA/I,CAAC,MAAM,MAAM,MAAM,QAA4H,EAApHC,EAAoH,EAApHA,oBAAoB3H,EAAgG,EAAhGA,mBAAoBkH,EAA4E,EAA5EA,SAASU,EAAmE,EAAnEA,aAAc3H,EAAqD,EAArDA,QAAQC,EAA6C,EAA7CA,aAAa5V,EAAgC,EAAhCA,MAAMC,EAA0B,EAA1BA,OAAOwV,EAAmB,EAAnBA,QAAQhX,EAAW,EAAXA,UAAW,EACjKb,mBAAS0f,GADwJ,mBACpLlgB,EADoL,KAC7KowB,EAD6K,KAgB3L,OAHAzvB,qBAAU,WACRyvB,EAASlQ,KACR,CAACA,IAEJ,cAAC3G,EAAD,CAASlY,UAAWA,EAApB,SACG2e,EAAOjd,KAAI,SAAChD,EAAKkB,GAAN,OACV,cAAC,IAAD,CAAQgX,MAAOlY,EAAkBkgB,oBAAsBA,EAAqBoQ,WAAYtwB,IAASC,EAAO8jB,UAAU,EAAOvL,QAAWA,EAASF,QAASA,EAAShX,UAAU,WAAWiX,mBAAoBA,EAAoBE,aAAcA,EAAc5V,MAAOA,EAAOC,OAAQA,EAAQ4T,QAAS,WAjBpR,IAAA5D,KAiBiS9S,KAhB/RC,GACbowB,EAASvd,GACT2M,GAAYA,EAAS3M,IACbA,IAAY7S,GACpBowB,EAAS,IACT5Q,GAAYA,EAAS,KAErB4Q,EAASvd,KASiB5R,U,+GC1B1BsY,EAAUtE,IAAOC,IAAV,u3BAED,SAAAoZ,GAAK,OAAIA,EAAM1rB,SACd,SAAA0rB,GAAK,OAAIA,EAAMzrB,UAUpB,SAAAyrB,GAAK,OAAIA,EAAMgC,WAKf,SAAAhC,GAAK,OAAIA,EAAMiC,WAOL,SAAAjC,GAAK,OAAIA,EAAM3E,QAMd,SAAA2E,GAAK,OAAIA,EAAM1E,mBAC1B,SAAA0E,GAAK,OAAIA,EAAMkC,WAGR,SAAAlC,GAAK,OAAIA,EAAMmC,mBACT,SAAAnC,GAAK,OAAIA,EAAM1U,iBAC5B,SAAA0U,GAAK,OAAIA,EAAMoC,WAQR,SAAS/W,EAAT,GAAsK,IAAvJF,EAAsJ,EAAtJA,OAAQmQ,EAA8I,EAA9IA,gBAAgBhQ,EAA8H,EAA9HA,cAAoBvY,GAA0G,EAAhHojB,KAAgH,EAA1GpjB,WAA0G,IAA/FuB,aAA+F,MAAvF,IAAuF,MAAlFC,cAAkF,MAAzE,GAAyE,MAArE8mB,YAAqE,MAA9D,GAA8D,MAA3DE,iBAA2D,aAAzCC,oBAAyC,aAAnBC,eAAmB,SAC5K4G,EAAMrtB,OAAO+S,KAAKoD,GAD0J,EAElJjZ,mBAASmwB,EAAI,IAFqI,mBAE3KvV,EAF2K,KAEjKwV,EAFiK,KAG5KC,EAASpX,EAAO2B,GAAUzO,MAC1B+jB,EAAU7G,EAAS,+BAA2BpQ,EAAO2B,GAAUsO,aAAc,eAC7E8G,EAAU1G,EAAY,kCAA8BrQ,EAAO2B,GAAUsO,aAAc,kBACnF6G,EAAUxG,EAAO,gCAA4BtQ,EAAO2B,GAAUsO,aAAc,gBAC5E4G,EAAUvG,EAAO,iCAA6BtQ,EAAO2B,GAAUsO,aAAc,iBAC7E+G,EAAkBhX,EAAO2B,GAAUkL,UAAY7M,EAAO2B,GAAUkL,UAAY,UAMlF,OACE,sBAAK3Z,MAAOkkB,EAAQxvB,UAAWA,EAA/B,UACE,cAACkY,EAAD,CAASlY,UAAU,aAAauB,MAAOA,EAAOC,OAAQA,EACpD4tB,gBAAiBA,EAAiB7W,cAAgBA,EAAegQ,gBAAiBA,EAAiBD,KAAMA,EAAM+G,QAASA,EAASF,QAASA,EAASD,QAASA,EAASD,QAASA,EADhL,SAEGK,EAAI5tB,KAAI,SAAAgT,GAAI,OACX,sBAEE1U,UAAW,UAAuBoY,EAAO1D,GAAMc,UAApCd,IAASqF,EAAT,uBACX3E,QAAS,kBAZnB,SAAgBV,GACd6a,EAAY7a,GAWW+a,CAAO/a,IAHxB,UAIG0D,EAAO1D,GAAM0O,KAAO,qBAAKrF,IAAI,GAAG/d,UAAU,WAAW6d,IAAKnJ,IAASqF,EAAW3B,EAAO1D,GAAM0O,KAAMhL,EAAO1D,GAAMgb,SAAa,GAJ9H,KAIoIhb,IAH7HA,QAOV0D,EAAO2B,GAAU1B,a,wHCtElBH,EAAUtE,IAAOC,IAAV,+bAYD,SAAAoZ,GAAK,OAAIA,EAAM5O,cAUT,SAAA4O,GAAK,OAAIA,EAAM0C,eAGlB,SAASvR,EAAT,GAAwK,IAAxJzf,EAAuJ,EAAvJA,MAAM+B,EAAiJ,EAAjJA,KAAKgjB,EAA4I,EAA5IA,IAAID,EAAwI,EAAxIA,KAAKtF,EAAmI,EAAnIA,SAAmI,IAA1HqR,cAA0H,MAAjH,GAAiH,EAA9GI,EAA8G,EAA9GA,MAA8G,IAAxGD,mBAAwG,MAA1F,OAA0F,EAAnFxI,EAAmF,EAAnFA,eAAmF,IAApEvoB,eAAoE,MAA1D,EAA0D,EAAxDixB,EAAwD,EAAxDA,SAAwD,IAA/CxR,kBAA+C,MAAlC,MAAkC,EAA5Bre,EAA4B,EAA5BA,UAA4B,IAAlByiB,gBAAkB,SAC9KqN,EAAWzgB,iBAAO,MAoCxB,OARA/P,qBAAU,WACRwwB,EAASte,QAAQue,kBAAkB,IAChCD,EAASte,SAAWoe,GACrBE,EAASte,QAAQoe,UAEnB,CAACA,IAID,eAAC1X,EAAD,CAAUyX,YAAaA,EAAatR,WAAYA,EAAYre,UAAWA,EAAWsL,MAAK,eAAMkkB,GAA7F,UACE,uBAAO3wB,KAAK,SAAS4jB,SAAYA,EAAU9jB,MAAOA,EAAO8kB,KAAQA,EAAMsE,IAAK+H,EAAU3R,SArC3E,SAAAhc,GACb,IAAM6tB,EAAM,uBAAmBpxB,EAAnB,MACNqxB,EAAM,IAAIC,OAAOF,GAChBrxB,EAASwD,EAAEuV,OAAX/Y,MACP,GAAG+kB,GAAOtK,aAAGza,GAAOqd,GAAG0H,GACrBvF,GAAYA,EAASuF,QAChB,GAAG/kB,EAAQ,GAAKsd,MAAMtd,GAC3Bwf,GAAYA,EAAS,SAChB,GAAGxf,EAAM,CACd,GAAGwoB,GAAkB,EACnB,GAAGxoB,EAAQwoB,GAAiB,EAC1BhJ,GAAYA,EAAS/E,aAAGza,GAAOkV,IAAIsT,GAAgBgJ,eAAiBhJ,QAGpEhJ,GAAYA,EADOxf,EAAQwoB,QAGxB,GAAG,QAAQgG,KAAKxuB,KAAWsxB,EAAI9C,KAAKxuB,GAAO,CAChD,IAAMmrB,EAASnrB,EAAM0G,UAAU,EAAE1G,EAAMkS,QAAQ,KAAO,EAAIjS,GAC1Duf,GAAYA,EAAS2L,QAErB3L,GAAYA,EAASxf,QAGvBwf,GAAYA,EAASxf,IAcmFkxB,SAAUA,IAClH,qBAAK7vB,UAAU,OAAf,SAAuBU,S,iCCrE7B,gFAIe,SAASonB,EAAT,GAAmD,IAAlClR,EAAiC,EAAjCA,MAAM5W,EAA2B,EAA3BA,UAAUymB,EAAiB,EAAjBA,QAAQrR,EAAS,EAATA,QAEhDyG,EAAQ,SAAC1Z,GACbiT,GAAWA,GAASqR,IAEtB,OACE,sBAAKzmB,UAAU,WAAf,UACE,sBAAMA,UAAU,aAAhB,SAA8B4W,IAC9B,cAAC,IAAD,CAAaxB,QAASyG,EACpB4K,QAASA,EACTzmB,UAAWA,EACXme,SAAUtC,EACVuU,OAAO,S,sHCZTC,EAAoBzc,IAAOC,IAAV,iFAKjBxS,EAAOuS,IAAO0c,IAAV,mFAOJC,EAAiB3c,IAAO4c,MAAMC,MAAM,CAAE5xB,KAAM,YAA3B+U,CAAH,8NAad8c,EAAiB9c,IAAOC,IAAV,4VACJ,SAAAoZ,GAAK,OAAKA,EAAMxG,QAAU,UAAY,SAUlD8J,EAIAlvB,GACc,SAAA4rB,GAAK,OAAKA,EAAMxG,QAAU,UAAY,YA4BzCwB,IAtBE,SAAC,GAA+C,IAA7CjoB,EAA4C,EAA5CA,UAAUme,EAAkC,EAAlCA,SAASsI,EAAyB,EAAzBA,QAAawG,EAAY,oDAC9B9tB,mBAASsnB,GADqB,mBACvD1M,EADuD,KAC7CwV,EAD6C,KAO9DjwB,qBAAU,WACRiwB,EAAY9I,KACX,CAACA,IACJ,IAAMhP,EAAQ3V,IAAW,aAAa,CAAC2kB,QAAU1M,IACjD,OACE,eAACsW,EAAD,CAAmBrwB,UAAWA,EAA9B,UACA,cAACuwB,EAAD,yBAAgB9J,QAAS1M,GAAckT,GAAvC,IAA8C9O,SAAUA,KACxD,cAACuS,EAAD,CAAgBjK,QAAS1M,EAAU/Z,UAAWyX,EAAOrC,QAZvC,WACd,IAAMzW,GAASob,EACfwV,EAAY5wB,GACZwf,GAAYA,EAASxf,IASrB,SACE,cAAC0C,EAAD,CAAMrB,UAAU,OAAO2wB,QAAQ,YAA/B,SACE,0BAAUC,OAAO,4B,mJCHV5xB,gBAAO,SAAPA,CAAiBC,aA3DhC,YAAkI,IAAtG8U,EAAqG,EAArGA,KAAKsB,EAAgG,EAAhGA,OAAgG,IAAzFiB,YAAyF,MAAlF,GAAkF,EAA/E4F,EAA+E,EAA/EA,SAASpC,EAAsE,EAAtEA,OAAOsJ,EAA+D,EAA/DA,KAAKxM,EAA0D,EAA1DA,MAAMxB,EAAoD,EAApDA,QAAoD,KAA5CiO,QAA4C,EAApCZ,iBAAoC,SAApBnN,EAAoB,EAApBA,MAASub,EAAW,oHACjG1xB,oBAAS,GADwF,mBACxH2xB,EADwH,KAC/GC,EAD+G,OAElG5xB,mBAASyX,GAFyF,mBAExHoa,EAFwH,KAEhHC,EAFgH,OAGrG9xB,mBAASikB,GAH4F,mBAGxH8N,EAHwH,KAGjHC,EAHiH,KAKzHtV,EAAK,uCAAG,4BAAAnL,EAAA,2DACT4F,GAAQjB,GAAUA,EAAOV,QADhB,oBAENU,EAAO+b,cAFD,uBAGRD,EAAS,MAHD,kBAID9b,EAAOgc,WAJN,UAKChc,EAAOic,WALR,wBAMRH,EAAS,MAND,UAOQ9b,EAAOkc,UAPf,eAOJngB,EAPI,QASNkE,GAASA,EAAMoB,QAAQ,mBAEvBpB,GAASA,EAAMtJ,MAAM,kBAXf,kBAaDoF,GAbC,eAeR+f,EAAS/N,GAfD,kBAgBDhO,KAhBC,4CAAH,qDAkDX,OA7BA9V,oBAAS,sBAAC,sBAAAoR,EAAA,sDACL4F,GAAQjB,GAAUA,EAAOV,QAAU2B,EAAKiG,SAAWxI,IAChDsB,EAAO+b,cAGA/b,EAAOic,YAAyB,SAAXxX,GAI9BmX,EAAWra,GACXua,EAAS/N,KAJT6N,EAAWld,EAAI,SACfod,EAAS,QAJTF,EAAWld,EAAK,mBAChBod,EAAS,QAJL,2CAaR,CAAC7a,EAAKjB,EAAOV,OAAOU,EAAOic,WAAWvd,EAAK+F,IAE7Cxa,qBAAU,WACRyxB,EAAWtO,KACX,CAACA,IAEHnjB,qBAAU,WACL+V,GAAUiB,GAAQA,EAAKC,UACxBlB,EAAOmc,WAAWlb,EAAKC,SACpBD,EAAKiE,MAAQjE,EAAKkE,SACnBnF,EAAOoc,UAAU3X,GAEjBzE,EAAOqc,YAAYxV,MAGvB,CAAC7G,EAAOiB,EAAK4F,EAASpC,IAEtB,cAAC,IAAD,2BAAY+W,GAAZ,IAAuBpO,UAAWqO,EAASla,MAAOoa,EAAS5b,QAASyG,EAAOuH,KAAM8N,U,wICvD/EhZ,EAAUtE,IAAOC,IAAV,4KAaE,SAASyK,EAAT,GAAgF,IAA3DvK,EAA0D,EAA1DA,KAAMwK,EAAoD,EAApDA,UAAWE,EAAyC,EAAzCA,QAASD,EAAgC,EAAhCA,WAAYlE,EAAoB,EAApBA,iBAAoB,EACrEnb,mBAAS,IAD4D,mBACrFT,EADqF,KAChFizB,EADgF,KAe5F,OAbAryB,qBAAU,WACR,IAAIsX,EAGAA,EAFD4H,EACgB,SAAdD,EACI,UAAMxK,EAAK,4CAAX,YAA0D0K,EAA1D,iBAA0E1K,EAAK,iCAE/E,UAAMA,EAAK,4CAAX,YAA0D0K,EAA1D,iBAA0E1K,EAAK,qCAA/E,YAAuHwK,EAAvH,YAAoIxK,EAAK,mBAG3I,UAAMA,EAAK,4CAAX,YAA0D0K,EAA1D,iBAA0E1K,EAAK,qCAA/E,YAAuHwK,EAAvH,YAAoIxK,EAAK,gEAEhJ4d,EAAQ/a,KACR,CAAC4H,EAAWC,EAAQF,IAEpB,cAACrG,EAAD,WACKuG,EAAW,IAAQnE,EAAoB,GAAM,qBAAKta,UAAU,cAAf,SAC5C,eAAC,IAAD,CAAelB,IAAKJ,EAAM6C,MAAM,MAAhC,UACE,cAAC,IAAD,CAAMD,MAAM,SADd,IACwB,+BAAOyS,EAAK,yC,wHCnCxCmE,EAAUtE,IAAOC,IAAV,odAEF,SAAAoZ,GAAK,OAAIA,EAAM1rB,SACd,SAAA0rB,GAAK,OAAIA,EAAMzrB,UACX,SAAAyrB,GAAK,OAAIA,EAAMjW,WAuBhB,SAASiH,EAAT,GAA6H,IAA3GC,EAA0G,EAA1GA,KAAMC,EAAoG,EAApGA,SAAoG,IAA3F5c,aAA2F,MAArF,MAAqF,MAA/EC,cAA+E,MAAxE,KAAwE,MAAlEwV,eAAkE,MAA1D,0BAA0D,MAA/B4a,kBAA+B,MAAlB,eAAkB,IAC7GzyB,mBAAS,IADoG,mBAClI0yB,EADkI,KAC1HC,EAD0H,OAE9G3yB,mBAAS,GAFqG,mBAE3H4yB,GAF2H,WAGnIC,EAAS3iB,iBAAO,IAwBtB,OAlBA/P,qBAAU,WACR,GAAIuyB,EAAQ,CACV,IAAIlzB,EAAQkzB,EAAOI,oBACW,IAA1BD,EAAOxgB,QAAQhP,SACjBwvB,EAAOxgB,QAAU0M,EACjB6T,EAAU7T,EAAK1b,SAEjB,IAAM8sB,EAAM0C,EAAOxgB,QAAQsY,QAAO,SAAAoI,GAAE,OAAIA,EAAGN,IAAeM,EAAGN,GAAY/gB,QAAQlS,IAAU,KAC3Fwf,EAASmR,QAETnR,EAAS6T,EAAOxgB,WAEjB,CAACqgB,IACJvyB,qBAAU,WACsB,IAA1B0yB,EAAOxgB,QAAQhP,QACjBuvB,EAAU7T,EAAK1b,UAEjB,CAAC0b,IAED,cAAChG,EAAD,CAAS3W,MAAOA,EAAOC,OAAQA,EAAQwV,QAASA,EAAhD,SACE,sBAAKhX,UAAU,eAAf,UACE,uBACEnB,KAAK,OACLmB,UAAU,eACVmyB,YAAY,SACZxzB,MAAOkzB,EACP1T,SAAU,SAAChc,IA/BE,SAACA,GACpB,IAAIxD,EAAQwD,EAAEuV,OAAO/Y,MACrBmzB,EAAUnzB,GA6BeyzB,CAAajwB,MAElC,qBAAK0b,IAAKwU,UAAYtU,IAAI,Y","file":"static/js/7.ee2e2100.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport UnderlineText from \"../../../components/UnderlineText/UnderlineText\";\r\nimport DeriNumberFormat from \"../../../utils/DeriNumberFormat\";\r\nimport { inject, observer } from 'mobx-react';\r\nimport Type from '../../../model/Type';\r\nimport Intl from '../../../model/Intl'\r\nimport classNames from 'classnames';\r\nimport './tradeInfo.less'\r\nimport Icon from '../../../components/Icon/Icon';\r\n\r\nconst getLang = key => {\r\n  return Intl.get('trade', key)\r\n}\r\nconst fileds = {\r\n  'mark-price' : {text : getLang('mark-price'),value : '',decimal : 2,type : 'number'},\r\n  'index-price' : {text : getLang('index-price'),value : '',decimal : 2,type : 'number'},\r\n  'dvol' : {text : getLang('dvol'),tip : getLang('dvol-tip'),value : '',suffix : '%',decimal : 2},\r\n  'daily-funding' : {text : getLang('daily-funding'),value : '',suffix : '%',decimal : 2},\r\n  '24h-change' : {text : getLang('24h-change'),value : '',type : 'number',suffix : '%'},\r\n  'total-net-position' : {text : getLang('total-net-position'),tip : getLang('total-net-position-tip'),value : '',decimal : 2,type : 'number'},\r\n  'margin-req' :{text : getLang('margin-req'),value : '',tip : getLang('margin-req-tip')},\r\n  'fee' : {text : getLang('fee'),value : ''},\r\n  \"payoff\" : {text : getLang('payoff'),value : '',tip : getLang('payoff-tip')}\r\n}\r\nfunction TradeInfo({trading}){\r\n  const [columns, setColumns] = useState([])\r\n  useEffect(() => {\r\n    if(trading.fundingRate){\r\n      let cols = []\r\n      if(Type.isFuture){\r\n        cols = [\r\n          {...fileds['mark-price'],value : trading.markPrice} ,\r\n          {...fileds['index-price'],value : trading.index},\r\n          {...fileds['daily-funding'],value : () => {\r\n            return(\r\n            <>\r\n              <UnderlineText tip={trading.fundingFeeValueTip} multiline className='funding-rate'>\r\n                <DeriNumberFormat value={`${trading.fundingFee}`} decimalScale='4'/>&nbsp;&nbsp;\r\n              </UnderlineText>\r\n              (<UnderlineText tip={trading.rateTip} multiline className='funding-rate'>\r\n                <DeriNumberFormat decimalScale='4' value={trading.fundingFeeRate}/>%\r\n              </UnderlineText>)\r\n            </>)\r\n            }\r\n          ,tip : trading.fundingFeeTip},\r\n          {...fileds['24h-change'],value :  trading.symbolInfo.volumn24h * 100,className : trading.symbolInfo.volumn24h && (trading.symbolInfo.volumn24h > 0 ? 'up' : 'down')},\r\n          {...fileds['total-net-position'],value : () => <DeriNumberFormat value={trading.fundingRate.tradersNetVolume} suffix={` ${trading.symbolInfo.unit}`}/>}\r\n        ]\r\n      } else {\r\n        cols = [\r\n          {...fileds['mark-price'],value : trading.markPrice} ,\r\n          {...fileds['dvol'],text : trading.symbolInfo.underlier,value : () => <><DeriNumberFormat value={trading.index} decimalScale={2}/> | DVOL : <DeriNumberFormat value={trading.volatility} decimalScale={2} suffix='%'/></>},\r\n          {...fileds['daily-funding'],value : () => \r\n            (<UnderlineText tip={trading.fundingFeeValueTip} multiline><DeriNumberFormat value={trading.fundingFee} decimalScale='4'/></UnderlineText>)\r\n          ,tip : trading.fundingFeeTip},\r\n          {...fileds['24h-change'],value : trading.symbolInfo.volumn24h * 100,className : trading.symbolInfo.volumn24h && (trading.symbolInfo.volumn24h > 0 ? 'up' : 'down')},\r\n          {...fileds['total-net-position'],value : () => <DeriNumberFormat value={trading.fundingRate.tradersNetVolume} suffix={` ${trading.symbolInfo.unit}`} />},\r\n          {...fileds['margin-req'],value : () => <><DeriNumberFormat value={trading.contract.initialMarginRatio*100} suffix='%' decimalScale='2'/> | <DeriNumberFormat value={trading.contract.maintenanceMarginRatio * 100} suffix='%' decimalScale='2'/></>},\r\n          {...fileds['fee'],value : () => <>{trading.feeDisplay[0]} * <DeriNumberFormat value={trading.feeDisplay[2]} suffix='%'/></>},\r\n          {...fileds['payoff'],value : () => <DeriNumberFormat value={trading.fundingRate.payoff}/>},\r\n        ]\r\n      }\r\n      setColumns(cols)\r\n    }\r\n  }, [trading.fundingRate,trading.volatility,trading.fee,trading.marginReqs,trading.dailyFunding,trading.symbolInfo.markPrice])\r\n  return(\r\n    <div className='trade-info-content'>\r\n    <div className='slide-icon left'><Icon token='arrow-left' width='24' height='24'/></div>\r\n      <div class='m-body'>\r\n        {columns.map((col,index) => (\r\n          <div className='m-col' key={index}>\r\n            <div className='m-col-name'>\r\n              {col.tip ? <UnderlineText id={col.id} text={col.text} tip={col.tip} width={col.tipWidth} multiline/> : col.text}\r\n            </div>\r\n            <div className={classNames('col-value',col.className)}>\r\n              { typeof col.value === 'function'\r\n              ? col.value(col)\r\n              :  <DeriNumberFormat  value = {col.value} prefix={col.prefix} suffix={col.suffix} decimalScale={col.decimal || 2}/>  }\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className='slide-icon right' ><Icon token='arrow-right' width='24' height='24'/></div>\r\n  </div>\r\n  )\r\n}\r\nexport default inject('trading')(observer(TradeInfo))","var t=function(){return(t=Object.assign||function(t){for(var e,o=arguments,n=1,i=arguments.length;n<i;n++)for(var r in e=o[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function e(o,n){var i=t({},o);for(var r in n)\"object\"!=typeof o[r]||null===o[r]||Array.isArray(o[r])?void 0!==n[r]&&(i[r]=n[r]):i[r]=e(o[r],n[r]);return i}var o={mobile:{disabled_features:[\"left_toolbar\",\"header_widget\",\"timeframes_toolbar\",\"edit_buttons_in_legend\",\"context_menus\",\"control_bar\",\"border_around_the_chart\"],enabled_features:[]}},n={width:800,height:500,interval:\"1D\",timezone:\"Etc/UTC\",container_id:\"\",library_path:\"\",locale:\"en\",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{\"mainSeriesProperties.showCountdown\":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:\"5y\",resolution:\"1W\"},{text:\"1y\",resolution:\"1W\"},{text:\"6m\",resolution:\"120\"},{text:\"3m\",resolution:\"60\"},{text:\"1m\",resolution:\"30\"},{text:\"5d\",resolution:\"5\"},{text:\"1d\",resolution:\"1\"}],client_id:\"0\",user_id:\"0\",charts_storage_api_version:\"1.0\",favorites:{intervals:[],chartTypes:[]}};function i(){return\"CL v18.043 (internal id b555c6a4 @ 2021-02-18T09:41:15.150Z)\"}var r=function(){function t(t){if(this._id=\"tradingview_\"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!t.datafeed)throw new Error(\"Datafeed is not defined\");if(this._options=e(n,t),t.preset){var i=o[t.preset];i?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(i.disabled_features):this._options.disabled_features=i.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(i.enabled_features):this._options.enabled_features=i.enabled_features):console.warn(\"Unknown preset: `\"+t.preset+\"`\")}\"Dark\"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:\"#131722\"}),this._create()}return t.prototype.onChartReady=function(t){this._ready?t.call(this):this._readyHandlers.push(t)},t.prototype.headerReady=function(){var t=this;return this._innerWindowLoaded.then((function(){return t._innerWindow().headerReady()}))},t.prototype.onGrayedObjectClicked=function(t){this._innerAPI().onGrayedObjectClicked(t)},t.prototype.onShortcut=function(t,e){this._innerWindow().createShortcutAction(t,e)},t.prototype.subscribe=function(t,e){this._innerAPI().subscribe(t,e)},t.prototype.unsubscribe=function(t,e){this._innerAPI().unsubscribe(t,e)},t.prototype.chart=function(t){return this._innerAPI().chart(t)},t.prototype.getLanguage=function(){return this._options.locale},t.prototype.setSymbol=function(t,e,o){this._innerAPI().changeSymbol(t,e,o)},t.prototype.remove=function(){window.removeEventListener(\"resize\",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},t.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},t.prototype.selectLineTool=function(t){this._innerAPI().selectLineTool(t)},t.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},t.prototype.save=function(t){this._innerAPI().saveChart(t)},t.prototype.load=function(t,e){this._innerAPI().loadChart({json:t,extendedData:e})},t.prototype.getSavedCharts=function(t){this._innerAPI().getSavedCharts(t)},t.prototype.loadChartFromServer=function(t){this._innerAPI().loadChartFromServer(t)},t.prototype.saveChartToServer=function(t,e,o){this._innerAPI().saveChartToServer(t,e,o)},t.prototype.removeChartFromServer=function(t,e){this._innerAPI().removeChartFromServer(t,e)},t.prototype.onContextMenu=function(t){this._innerAPI().onContextMenu(t)},t.prototype.createButton=function(t){return this._innerWindow().createButton(t)},t.prototype.showNoticeDialog=function(t){this._innerAPI().showNoticeDialog(t)},t.prototype.showConfirmDialog=function(t){this._innerAPI().showConfirmDialog(t)},t.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},t.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},t.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},t.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},t.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},t.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},t.prototype.addCustomCSSFile=function(t){this._innerWindow().addCustomCSSFile(t)},t.prototype.applyOverrides=function(t){this._options=e(this._options,{overrides:t}),this._innerWindow().applyOverrides(t)},t.prototype.applyStudiesOverrides=function(t){this._innerWindow().applyStudiesOverrides(t)},t.prototype.watchList=function(){return this._innerAPI().watchlist()},t.prototype.activeChart=function(){return this._innerAPI().activeChart()},t.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},t.prototype.layout=function(){return this._innerAPI().layout()},t.prototype.setLayout=function(t){this._innerAPI().setLayout(t)},t.prototype.layoutName=function(){return this._innerAPI().layoutName()},t.prototype.changeTheme=function(t,e){this._innerWindow().changeTheme(t,e)},t.prototype.getTheme=function(){return this._innerWindow().getTheme()},t.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},t.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},t.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},t.prototype.drawOnAllCharts=function(t){this._innerAPI().drawOnAllCharts(t)},t.prototype.magnetEnabled=function(){return this._innerAPI().magnetEnabled()},t.prototype.magnetMode=function(){return this._innerAPI().magnetMode()},t.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},t.prototype.setIntervalLinkingEnabled=function(t){this._innerAPI().setIntervalLinkingEnabled(t)},t.prototype.setTimeFrame=function(t){this._innerAPI().setTimeFrame(t)},t.prototype.symbolSync=function(){return this._innerAPI().symbolSync()},t.prototype.intervalSync=function(){return this._innerAPI().intervalSync()},t.prototype.crosshairSync=function(){return this._innerAPI().crosshairSync()},t.prototype.timeSync=function(){return this._innerAPI().timeSync()},t.prototype.getAllFeatures=function(){return this._innerWindow().getAllFeatures()},t.prototype.clearUndoHistory=function(){return this._innerAPI().clearUndoHistory()},t.prototype.undo=function(){return this._innerAPI().undo()},t.prototype.redo=function(){return this._innerAPI().redo()},t.prototype.startFullscreen=function(){this._innerAPI().startFullscreen()},t.prototype.exitFullscreen=function(){this._innerAPI().exitFullscreen()},t.prototype.takeClientScreenshot=function(t){return this._innerAPI().takeClientScreenshot(t)},t.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},t.prototype._innerWindow=function(){return this._iFrame.contentWindow},t.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+\"px\")},t.prototype._create=function(){var t=this,e=this._render(),o=document.getElementById(this._options.container_id);if(null===o)throw new Error(\"There is no such element - #\"+this._options.container_id);o.innerHTML=e,this._iFrame=o.querySelector(\"#\"+this._id);var n=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(n.style.width=\"100%\",this._options.fullscreen||(n.style.height=\"100%\")),window.addEventListener(\"resize\",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise((function(t){var e=function(){n.removeEventListener(\"load\",e,!1),t()};n.addEventListener(\"load\",e,!1)})),this._innerWindowLoaded.then((function(){t._innerWindow().widgetReady((function(){t._ready=!0;for(var e=0,o=t._readyHandlers;e<o.length;e++){var n=o[e];try{n.call(t)}catch(i){console.error(i)}}t._innerWindow().initializationFinished()}))}))},t.prototype._render=function(){var t=window;if(t[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters||this._options.customFormatters,brokerFactory:this._options.broker_factory||this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter},this._options.saved_data)t[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(t[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error(\"Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set\");var e=(this._options.library_path||\"\")+(encodeURIComponent(this._options.locale)+\"-tv-chart.b555c6a4.html#symbol=\")+encodeURIComponent(this._options.symbol||\"\")+\"&interval=\"+encodeURIComponent(this._options.interval)+(this._options.timeframe?\"&timeframe=\"+encodeURIComponent(this._options.timeframe):\"\")+(this._options.toolbar_bg?\"&toolbarbg=\"+encodeURIComponent(this._options.toolbar_bg.replace(\"#\",\"\")):\"\")+(this._options.studies_access?\"&studiesAccess=\"+encodeURIComponent(JSON.stringify(this._options.studies_access)):\"\")+\"&widgetbar=\"+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?\"&drawingsAccess=\"+encodeURIComponent(JSON.stringify(this._options.drawings_access)):\"\")+\"&timeFrames=\"+encodeURIComponent(JSON.stringify(this._options.time_frames))+\"&locale=\"+encodeURIComponent(this._options.locale)+\"&uid=\"+encodeURIComponent(this._id)+\"&clientId=\"+encodeURIComponent(String(this._options.client_id))+\"&userId=\"+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?\"&chartsStorageUrl=\"+encodeURIComponent(this._options.charts_storage_url):\"\")+(this._options.charts_storage_api_version?\"&chartsStorageVer=\"+encodeURIComponent(this._options.charts_storage_api_version):\"\")+(this._options.custom_css_url?\"&customCSS=\"+encodeURIComponent(this._options.custom_css_url):\"\")+(this._options.auto_save_delay?\"&autoSaveDelay=\"+encodeURIComponent(String(this._options.auto_save_delay)):\"\")+\"&debug=\"+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?\"&snapshotUrl=\"+encodeURIComponent(this._options.snapshot_url):\"\")+(this._options.timezone?\"&timezone=\"+encodeURIComponent(this._options.timezone):\"\")+(this._options.study_count_limit?\"&studyCountLimit=\"+encodeURIComponent(String(this._options.study_count_limit)):\"\")+(this._options.symbol_search_request_delay?\"&ssreqdelay=\"+encodeURIComponent(String(this._options.symbol_search_request_delay)):\"\")+(this._options.compare_symbols?\"&compareSymbols=\"+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):\"\")+(this._options.theme?\"&theme=\"+encodeURIComponent(String(this._options.theme)):\"\");return'<iframe id=\"'+this._id+'\" name=\"'+this._id+'\"  src=\"'+e+'\"'+(this._options.autosize||this._options.fullscreen?\"\":' width=\"'+this._options.width+'\" height=\"'+this._options.height+'\"')+' frameborder=\"0\" allowTransparency=\"true\" scrolling=\"no\" allowfullscreen style=\"display:block;\"></iframe>'},t}();window.TradingView=window.TradingView||{},window.TradingView.version=i;export{i as version,r as widget};\r\n","import React,{useRef,useEffect} from 'react'\r\nimport styled from 'styled-components'\r\nimport { widget} from '../../../lib/charting_library'\r\nimport { getFormatSymbol, intervalRange, } from '../../../utils/utils';\r\nimport axios from 'axios';\r\nimport { inject, observer } from 'mobx-react';\r\nimport tvConfig from './tv-config.json'\r\nimport webSocket from '../../../model/WebSocket';\r\nimport Type from '../../../model/Type';\r\nimport Version from '../../../model/Version';\r\n\r\nconst supported_resolutions = [\"1\",\"5\",\"15\",\"30\",\"60\",\"240\",\"1D\",\"5D\",\"1W\",\"1M\"];\r\nconst GET_KLINE_URL=`${process.env.REACT_APP_HTTP_URL}/get_kline`\r\nlet symbolInfo = {}\r\nconst subscribes = {}\r\n\r\nfunction Tradingview({trading,intl,interval = '60',type}){\r\n  const widgetRef = useRef(null);\r\n  const lastDataRef = useRef(null);\r\n  const datafeedRef = useRef({\r\n    onReady: (callback) => {\r\n      setTimeout(() => callback({supported_resolutions: supported_resolutions}),0);\r\n    },\r\n    getBars: (symbolInfo,resolution,from,to,onHistoryCallback,onErrorCallback,firstDataRequest) => getBars(symbolInfo,resolution,from,to,onHistoryCallback,onErrorCallback,firstDataRequest),\r\n    resolveSymbol: (symbolName,onSymbolResolvedCallback) => resolveSymbol(symbolName,onSymbolResolvedCallback),\r\n    subscribeBars : (symbolInfo,resolution,onRealtimeCallback,subscribeUID,onResetCacheNeededCallback) => subscribeBars(symbolInfo,resolution,onRealtimeCallback,subscribeUID,onResetCacheNeededCallback),\r\n    unsubscribeBars : subscriberUID => unsubscribeBars(subscriberUID)\r\n  });\r\n\r\n\r\n  const getBars = async (symbolInfo,resolution,from,to,onHistoryCallback,onErrorCallback,firstDataRequest) => {\r\n    const pos = symbolInfo.name.indexOf('-INDEX');\r\n    const symbol = pos > -1 ? symbolInfo.name.substring(0,pos) : symbolInfo.symbolInfo.markpriceSymbolFormat || symbolInfo.name\r\n    const res = await axios.get(GET_KLINE_URL,{\r\n      params : {\r\n        symbol : getFormatSymbol(symbol),\r\n        time_type: intervalRange[resolution],\r\n        from : from ,\r\n        to : to \r\n      }\r\n    });\r\n    if(res && res.status === 200 && Array.isArray(res.data.data) && res.data.data.length > 0){\r\n      const klineData = res.data.data\r\n      onHistoryCallback(klineData)\r\n      lastDataRef.current = klineData[klineData.length -1]\r\n    } else {\r\n      onHistoryCallback([],{noData: true})\r\n    } \r\n  }\r\n\r\n  const subscribeBars = (symbolInfo,resolution,onRealtimeCallback,subscribeUID,onResetCacheNeededCallback) => {\r\n    const pos = symbolInfo.name.indexOf('-INDEX');\r\n    const symbol = pos > -1 ? symbolInfo.name.substring(0,pos) : symbolInfo.symbolInfo.markpriceSymbolFormat || symbolInfo.name\r\n    webSocket.subscribe('get_kline_update',{symbol : getFormatSymbol(symbol),time_type : intervalRange[resolution]},data => {\r\n      if (data && lastDataRef.current && data.time >= lastDataRef.current.time ) {\r\n        subscribes[subscribeUID] = data.symbol\r\n        onRealtimeCallback(data)\r\n        lastDataRef.current = data\r\n      }\r\n    })\r\n  }\r\n\r\n  const unsubscribeBars = subscriptUID => {\r\n    if(subscribes[subscriptUID]){\r\n      webSocket.unsubscribe('un_get_kline',{symbol : subscribes[subscriptUID],time_type : intervalRange[interval]})\r\n    }\r\n  }\r\n  \r\n  const resolveSymbol = (symbol,onSymbolResolvedCallback) => {\r\n    let description = symbol;\r\n    if(Type.isFuture && !Version.isOpen){\r\n      description = `${symbol}-MARK`\r\n    }\r\n    setTimeout(() => onSymbolResolvedCallback({\r\n      name: symbol,\r\n      ticker : symbol,\r\n      description : description,\r\n      pricescale: symbol.indexOf('-INDEX') > 0 ? 100 : 1 * (10 ** symbolInfo.decimals),\r\n      symbolInfo : symbolInfo,\r\n      type : 'index',\r\n      minmov: 1,\r\n      has_intraday: true,\r\n      intraday_multipliers: [\"1\",\"2\",\"5\",\"15\",\"30\",\"60\",\"240\",\"1D\",\"7D\",\"1W\",\"1M\"],\r\n      has_weekly_and_monthly: true,\r\n      has_no_volume: true,\r\n      has_daily: true,\r\n      timezone : 'UTC',\r\n      session: \"24x7\",\r\n      supported_resolutions : supported_resolutions\r\n    }),0)\r\n  }\r\n\r\n  const initialize = () => {\r\n    const timezone = Intl ? Intl.DateTimeFormat().resolvedOptions().timeZone : 'Etc/UTC'\r\n    const {overrides,...rest} = tvConfig\r\n    const widgetOptions = {\r\n      symbol: symbolInfo.symbol,\r\n      datafeed: datafeedRef.current,\r\n      interval: interval,\r\n      locale: intl.locale,\r\n      timezone : timezone,\r\n      ...rest,\r\n    }\r\n    widgetRef.current  = new widget(widgetOptions);\r\n    widgetRef.current.onChartReady(() => {\r\n      widgetRef.current.applyOverrides(overrides)\r\n      if((Type.isFuture && !Version.isOpen) || Type.isOption) {\r\n        const priceScale = Type.isFuture ? 'as-series' : 'new-left'\r\n        const underline = Type.isFuture ? `${symbolInfo.symbol}-INDEX` : `${symbolInfo.symbol.split('-')[0]}-INDEX`\r\n        widgetRef.current.chart().createStudy('Overlay', true, false, [underline],null,{priceScale : priceScale,'color': '#aaa'})\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if(trading.symbolInfo.symbol){\r\n      symbolInfo  = trading.symbolInfo\r\n      initialize();\r\n      webSocket.addReconnectEvent(symbolInfo.symbol,() => {\r\n        //\r\n        if(lastDataRef.current && lastDataRef.current.time  && lastDataRef.current.time < new Date().getTime()) {\r\n          initialize();\r\n        }\r\n      })\r\n    }\r\n    return () => {\r\n      if(widgetRef.current){\r\n        widgetRef.current.remove();\r\n      }\r\n      unsubscribeBars();\r\n      webSocket.removeReconnectEvent(symbolInfo.symbol)\r\n    }\r\n  }, [trading.symbolInfo.symbol])\r\n\r\n  return(\r\n    <div id='tv-container' style={{height : '400px'}}></div>\r\n  )\r\n\r\n}\r\n\r\nexport default inject('trading','intl','type')(observer(Tradingview))","import React, { useState, useEffect } from 'react'\r\nimport { inject, observer } from \"mobx-react\"\r\nimport DeriNumberFormat from \"../../../../utils/DeriNumberFormat\";\r\nimport classNames from \"classnames\";\r\nimport './position.less'\r\nimport ApiProxy from \"../../../../model/ApiProxy\";\r\nimport {useAlert} from 'react-alert'\r\nimport UnderlineText from \"../../../../components/UnderlineText/UnderlineText\";\r\nimport Type from \"../../../../model/Type\";\r\nimport { BUY } from \"../../../../utils/Constants\";\r\nimport styled from \"styled-components\";\r\nimport Button from '../../../../components/Button/Button';\r\nimport Icon from '../../../../components/Icon/Icon';\r\n\r\nconst OptionLiqPrice = styled.div`\r\n  display : flex;\r\n  align-item : center;\r\n`\r\nconst LiqText = ({positions, index,lang}) => {\r\n  let ele = <span key={index}>--</span>;\r\n  if (positions.numPositions > 1) {\r\n    if (positions.price1 && positions.price2) {\r\n      ele = <span key={index}>\r\n        <span>{positions.underlier}: </span>\r\n        <span>\r\n          <DeriNumberFormat decimalScale={2} value={positions.price1} />\r\n          <span> / </span>\r\n          <DeriNumberFormat decimalScale={2} value={positions.price2} />\r\n        </span>\r\n      &nbsp;\r\n      </span>\r\n    } else if (!positions.price1 && !positions.price2) {\r\n      ele = <span key={index}>\r\n        <span>{positions.underlier}: </span>\r\n        <span>\r\n          <UnderlineText multiline text='?' tip={lang['liq-price-hover-three']}>  </UnderlineText>\r\n          <span> / </span>\r\n          <UnderlineText multiline  text='?' tip={lang['liq-price-hover-three']} > </UnderlineText>\r\n        </span>\r\n      &nbsp;\r\n      </span>\r\n    } else if (!positions.price1 && positions.price2) {\r\n      ele =\r\n        <span key={index}>\r\n          <span>{positions.underlier}: </span>\r\n          <span>\r\n            <UnderlineText  tip={lang['liq-price-hover-three']} text='?' >    </UnderlineText>\r\n            <span> / </span>\r\n            <span> <DeriNumberFormat decimalScale={2} value={positions.price2} /> </span>\r\n          </span>\r\n      &nbsp;\r\n      </span>\r\n    } else if (positions.price1 && !positions.price2) {\r\n      ele = <span key={index}>\r\n        <span>{positions.underlier}: </span>\r\n        <span>\r\n          <span> <DeriNumberFormat decimalScale={2} value={positions.price1} /> </span>\r\n          <span> / </span>\r\n          <UnderlineText tip={lang['liq-price-hover-three']} text='?' > </UnderlineText>\r\n        </span>\r\n      &nbsp;\r\n      </span>\r\n    }\r\n    return ele\r\n  } else {\r\n    if (positions.price1 && positions.price2) {\r\n      ele = <span key={index}>\r\n        <span>{positions.underlier}: </span>\r\n        <span>\r\n          <DeriNumberFormat decimalScale={2} value={positions.price1} />\r\n          <span> / </span>\r\n          <DeriNumberFormat decimalScale={2} value={positions.price2} />\r\n        </span>\r\n      &nbsp;\r\n      </span>\r\n    } else if (!positions.price1 && !positions.price2) {\r\n      ele = <span key={index}>\r\n        <span>{positions.underlier}: </span>\r\n        <span>\r\n          <UnderlineText tip={lang['liq-price-hover-two']} text='--' ></UnderlineText>\r\n          <span> / </span>\r\n          <UnderlineText tip={lang['liq-price-hover-two']} text='--' >  </UnderlineText>\r\n        </span>\r\n      &nbsp;\r\n      </span>\r\n    } else if (!positions.price1 && positions.price2) {\r\n      ele =\r\n        <span key={index}>\r\n          <span>{positions.underlier}: </span>\r\n          <span>\r\n            <UnderlineText  tip={lang['liq-price-hover-two']} text='--' > </UnderlineText>\r\n            <span> / </span>\r\n            <span> <DeriNumberFormat decimalScale={2} value={positions.price2} /> </span>\r\n          </span>\r\n      &nbsp;\r\n      </span>\r\n\r\n    } else if (positions.price1 && !positions.price2) {\r\n      ele = <span key={index}>\r\n        <span>{positions.underlier}: </span>\r\n        <span>\r\n          <span> <DeriNumberFormat decimalScale={2} value={positions.price1} /> </span>\r\n          <span> / </span>\r\n          <UnderlineText tip={lang['liq-price-hover-two']} text='--'>   </UnderlineText>\r\n        </span>\r\n      &nbsp;\r\n      </span>\r\n    }\r\n    return ele\r\n  }\r\n}\r\n\r\nconst LiqPriceDisplay = ({pos,lang}) => {\r\n  const tatal = []\r\n  pos.reduce((total,p) => {\r\n    if(total.findIndex(item => item.underlier === p.underlier) === -1){\r\n      total.push(p)\r\n    }\r\n    return total;\r\n  },tatal)\r\n  return (\r\n    tatal.map((detail,index) => <LiqText positions={detail.liquidationPrice} index={index} key={index} lang={lang}/>)\r\n  )\r\n}\r\n\r\nconst formatNumber = (number,decimal = 2,suffix = '',prefix ='') => {\r\n  return <DeriNumberFormat value={number} decimalScale={decimal} prefix={prefix} suffix={` ${suffix}`}/>\r\n}\r\n\r\n\r\nfunction Position({wallet,lang,trading}){\r\n  const alert = useAlert();\r\n  let columns = {\r\n    symbol : {text : lang['symbol']},\r\n    direction : {text : lang['direction'],className : pos => pos.directionColor},\r\n    position : {text : lang['position'],value : pos => <><div>{formatNumber(pos['volume'],trading.minTradeScaleDecimal,pos.symbolUnit)}</div><div className='gray'>{formatNumber(pos['notional'],2,'USD')}</div></>},\r\n    averageEntryPrice : {text : lang['entry-price'],value : pos => formatNumber(pos['averageEntryPrice'],2)},\r\n    markPrice : {text : lang['mark-price'],value : pos => formatNumber(pos['markPrice'])},\r\n    marginHeldBySymbol : {text : lang['margin-usage'],tip : lang['margin-usage-for-position'],value : pos => formatNumber(pos['marginHeldBySymbol'])},\r\n    liquidationPrice :  {text : lang['liq-Price'],tip : lang['liq-price-est'],value : pos => formatNumber(pos['liquidationPrice'],2)},\r\n    unrealizedPnl : {text : lang['unrealized-pnl'],className : pos => pos['unrealizedPnl'] > 0 ? 'green' : 'red',value : pos => <><div>{formatNumber(pos['unrealizedPnl'])}</div><div>{formatNumber(pos['unrealizedPnlRate'],2,'%')}</div></>,tip: lang['unrealized-pnl-dpmm-tip']},\r\n    fundingFee : {text : lang['fundingFee'],className : pos => (+pos['fundingFee']) > 0 ? 'green' : 'red',tip: lang['funding-fee-tip'],value : pos => formatNumber((pos['fundingFee']),8)},\r\n    action : {text : lang['action'],value  : pos => closeButton(pos,lang['close']),className : 'close-position'}\r\n  }\r\n  if(Type.isOption){\r\n    columns = {\r\n      symbol : {text : lang['symbol']},\r\n      direction : {text : lang['direction'],className : pos => pos.directionColor},\r\n      position : {text : lang['position'],value : pos => <><div>{formatNumber(pos['volume'],trading.minTradeScaleDecimal,pos.symbolUnit)}</div><div className='gray'>{formatNumber(pos['notional'],2,'USD')}</div></>},\r\n      averageEntryPrice : {text : lang['entry-price'],value : pos => formatNumber(pos['averageEntryPrice'],2)},\r\n      markPrice : {text : lang['mark-price'],value : pos => formatNumber(pos['markPrice'])},\r\n      marginHeldBySymbol : {text : lang['margin-usage'],tip : lang['margin-usage-for-position'],value : pos => formatNumber(pos['marginHeldBySymbol'])},\r\n      unrealizedPnl : {text : lang['unrealized-pnl'],className : pos => pos['unrealizedPnl'] > 0 ? 'green' : 'red',value : pos => <><div>{formatNumber(pos['unrealizedPnl'])}</div><div>{formatNumber(pos['unrealizedPnlRate'],2,'%')}</div></>,tip: lang['unrealized-pnl-dpmm-tip']},\r\n      fundingFee : {text : lang['fundingFee'],className : pos => (+pos['fundingFee']) > 0 ? 'green' : 'red',tip: lang['funding-fee-tip'],value : pos =>  formatNumber((pos['fundingFee']),8)},\r\n      action : {text : lang['action'],value  : pos => closeButton(pos,lang['close']),className : 'close-position'}\r\n    }\r\n  }\r\n  const keys = Object.keys(columns)\r\n  \r\n  const closePosition = async symbolParam => {\r\n    const res = await ApiProxy.request('closePosition',\r\n      [wallet.detail.chainId, trading.pool.address, wallet.detail.account, symbolParam],\r\n      {includeResponse : true})\r\n    if(res.success){\r\n      alert.success(lang['close-position-success']);\r\n      trading.refresh();\r\n    } else {\r\n      alert.error(lang['close-position-failed'])\r\n    }\r\n  }\r\n  const closeButton = (pos,label) => {\r\n    const symbolParam = trading.symbolInfo.isAllV3 ? pos.symbol : pos.symbolId\r\n    return  <Button label={label} bgColor= '#0A172B' defaultBorderColor='rgba(205,122,55,0.5)' outline outlineColor='rgb(205,122,55)' onClick={() => closePosition(symbolParam)} width='60' height='32'/>\r\n  }\r\n\r\n  return (\r\n    <div className='m-position'>\r\n     {Type.isOption && <div className='option-liq-price'>\r\n        <span>\r\n          <UnderlineText multiline tip= {lang[\"option-liq-price-tip\"]} text={lang['liq-Price']} />\r\n        </span>\r\n        <span> : {(trading.positions.length > 0 ) ? <LiqPriceDisplay pos={trading.positions} lang={lang}/> : ''} \r\n         </span>\r\n      </div>}\r\n      <div className='p-header'>\r\n        <HeaderDisplay columns={columns} keys={keys}/>\r\n      </div>\r\n      <div className='p-body'>\r\n        <PositionList positions={trading.positions} loaded={trading.loaded} keys={keys} columns={columns} lang={lang}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction HeaderDisplay({keys,columns}) {\r\n  return (\r\n    keys.map(key => {\r\n      return (\r\n        <div key={key} className ='p-col'>\r\n          {columns[key].tip \r\n          ? \r\n            <UnderlineText tip={columns[key].tip} text={columns[key].text} multiline width='auto'/> \r\n          :\r\n           columns[key].text\r\n          }\r\n        </div>\r\n      )\r\n    })\r\n  )\r\n}\r\n\r\nfunction PositionList({positions,loaded,keys,columns,lang}){\r\n  return (\r\n    loaded ?\r\n      positions.length > 0 ?\r\n        positions.map((position,i) => (\r\n          <div className='p-row' key={i}>\r\n            {keys.map(key => {\r\n              const col = columns[key]\r\n              const colClass = classNames('p-col',typeof col.className === 'function' ? col.className(position) : col.className)\r\n              return (\r\n                <div className={colClass} key={key} onClick={() => typeof col.onClick === 'function' && col.onClick(position)}>\r\n                  {typeof col.value === 'function' ? col.value(position) : (position[key] || columns[key].value)}\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        )) \r\n        :\r\n        <div className='no-data'><Icon token='no-data' width='48' height='48' />{lang['no-data']}</div>\r\n    : <>\r\n      <div className='p-row loading-line'></div><div className='p-row loading-line'></div><div className='p-row loading-line'></div><div className='p-row loading-line'></div><div className='p-row loading-line'></div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default inject('trading','wallet')(observer(Position))","import { inject ,observer} from \"mobx-react\"\r\nimport './history.less'\r\nimport DeriNumberFormat from \"../../../../utils/DeriNumberFormat\"\r\nimport dateFormat from 'date-format'\r\nimport classNames from \"classnames\"\r\nimport useConfig from \"../../../../hooks/useConfig\"\r\nimport { DeriEnv } from \"../../../../lib/web3js\"\r\nimport Icon from \"../../../../components/Icon/Icon\"\r\n\r\nfunction History({lang,trading,wallet}){\r\n  const colums = [\r\n    {label : lang['time'],key : 'time' ,format : (value,h) => <a target='_blank' rel='noreferrer' href={`${wallet.blockExploreUrl}/tx/${h.transactionHash}`}>{dateFormat.asString('yyyy-MM-dd hh:mm:ss',new Date(parseInt(value)))}</a>},\r\n    {label : lang['direction'],key : 'direction',format : value => value === 'LIQUIDATION' ? lang['liquidation'] : value === 'SHORT' ? lang['sell'] : lang['buy']},\r\n    {label : lang['symbol'],key : 'symbol'},\r\n    {label : lang['entry-price'],key : 'price',type : 'number'},\r\n    {label : lang['volume'],key : 'volume',type : 'number',decimal : trading.minTradeScaleDecimal},\r\n    {label : lang['notional'],key : 'notional',type : 'number'},\r\n    {label : lang['transaction-fee'],key : 'transactionFee',type : 'number'}\r\n  ]\r\n\r\n  return (\r\n    <div className='m-history'>\r\n      <div className='h-header'>\r\n        {colums.map((col,index) => (\r\n          <div key={index} className='h-col'>{col.label}</div>\r\n        ))}\r\n      </div>\r\n      <div className='h-body'>\r\n        <HistoryList loaded={trading.loaded} history={trading.history} colums={colums} lang={lang}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction HistoryList({loaded,history ,colums,lang}) {\r\n  return (\r\n    loaded ?\r\n      history.length > 0 \r\n      ? \r\n      history.map(h => (\r\n        <div className='h-row'>\r\n          {colums.map(col => {\r\n            const value = col.format ? col.format(h[col.key],h) : h[col.key]\r\n            const clazz = classNames('h-col',value)\r\n            return <div className={clazz}>{col.type === 'number' ? <DeriNumberFormat value={value} decimalScale={col.decimal || 2} /> : value}</div>\r\n          })}\r\n        </div>\r\n      ))\r\n      : \r\n      <div className='no-data'><Icon token='no-data' width='48' height='48' />{lang['no-data']}</div>\r\n    :\r\n    <>\r\n      <div className='h-row loading-line'></div><div className='h-row loading-line'></div><div className='h-row loading-line'></div><div className='h-row loading-line'></div><div className='h-row loading-line'></div>\r\n    </>\r\n  )\r\n}\r\nexport default inject('trading','wallet')(observer(History))","import styled from 'styled-components'\r\nimport Tab from '../../../components/Tab/Tab'\r\nimport Position from './Position/Position'\r\nimport History from './History/History'\r\nimport Icon from '../../../components/Icon/Icon'\r\n\r\nconst Wrapper = styled.div`\r\n  padding : 24px 24px 0 32px;\r\n  position : relative;\r\n  .slide-icon {\r\n    display : none;\r\n  }\r\n  .tab-header .active {\r\n    border-radius : 4px;\r\n  }\r\n\r\n  @media only screen and (max-width : 760px) {\r\n    padding : 24px 24px 0 24px;\r\n    .slide-icon {\r\n      position: absolute;\r\n      top: 0;\r\n      display: flex;\r\n      align-items: center;\r\n      background: #0A172B;\r\n      height: 100%;\r\n    }\r\n    .slide-icon.right {\r\n      right: 0px;\r\n    }\r\n\r\n    .slide-icon.left {\r\n      left: 0px;\r\n    }\r\n  }\r\n`\r\nexport default function MyInfo({lang}){\r\n \r\n  const tabSet = {\r\n    [lang['positions']] : {content : <Position lang={lang}/>},\r\n    [lang['history']] : {content : <History lang={lang}/>}\r\n  }\r\n  return (\r\n    <Wrapper>\r\n      <div className='slide-icon left'>\r\n        <Icon token='arrow-left' width='24' height='24'/>\r\n      </div>\r\n      <Tab tabSet={tabSet} activeBgColor='#203B60' />\r\n      <div className='slide-icon right'>\r\n        <Icon token='arrow-right' width='24' height='24'/>\r\n      </div>\r\n    </Wrapper>\r\n  )\r\n}","import styled from 'styled-components'\r\nimport { inject, observer } from 'mobx-react'\r\nimport './contractInfo.less'\r\nimport DeriNumberFormat from '../../../utils/DeriNumberFormat'\r\nimport Type from '../../../model/Type'\r\nimport UnderlineText from '../../../components/UnderlineText/UnderlineText'\r\nimport { bg } from '../../../lib/web3js'\r\n\r\nconst TokenWrapper = styled.span`\r\n  margin-right : 4px;\r\n  display: flex;\r\n`\r\nfunction ContractInfo({lang,trading}){\r\n  const contract = trading.contract || {}\r\n  const basetokenDisplay = (bTokenSymbol = []) => {\r\n    return bTokenSymbol.length === 1 \r\n          ? bTokenSymbol[0] \r\n          : <UnderlineText id='btoken' html={true} width='375' tip={bTokenSymbol.map((token,index) => `${token} (${contract.bTokenMultiplier[index]})`).join(' ')}> \r\n            {bTokenSymbol.map((token,index) =>  {\r\n              return (\r\n                index < 3 ? <TokenWrapper key={index}>{token}({contract.bTokenMultiplier[index]})</TokenWrapper> : null\r\n              )\r\n            })}...\r\n          </UnderlineText>\r\n  }\r\n  let rows = []\r\n  if(Type.isFuture){\r\n    rows = [\r\n      {label : lang['base-token'],labelDes: lang['discount-factor'],tip : lang['basetoken-multiplier-tip'],key : 'baseToken' , value : basetokenDisplay(contract.bTokenSymbol)},\r\n      {label : lang['symbol'],key : 'symbol' ,value : contract['symbol'] },\r\n      {label : lang['min-trade-volume'],key : 'multiplier', value :  trading.contract['multiplier'] ? trading.contract['multiplier'] + trading.symbolInfo.unit : ''},\r\n      {label : lang['funding-rate-coefficent'],key : 'fundingRateCoefficient' ,value : (contract['fundingRateCoefficient'] && (+contract['fundingRateCoefficient']).toExponential()),valueTip : trading.fundingCoefficientTip, tipWidth : 375},\r\n      {label : lang['initial-margin-ratio'],key : 'minInitialMarginRatio',tip : lang['initial-margin-ratio-tip'], value : <DeriNumberFormat value={contract['initialMarginRatio'] * 100} decimalScale={0} suffix='%'/>},\r\n      {label : lang['maintenance-margin-ratio'],key : 'minMaintenanceMarginRatio',tip : lang['maintenance-margin-ratio-tip'],value : <DeriNumberFormat value={contract['maintenanceMarginRatio'] * 100} decimalScale={0} suffix='%'/>},\r\n      {label : lang['transaction-fee'],key : 'feeRatio',value : <DeriNumberFormat value={contract['feeRatio'] * 100} suffix='%'/>},\r\n    ]\r\n  } else {\r\n    rows = [\r\n      {label : lang['base-token'],labelDes:lang['discount-factor'],tip : lang['basetoken-multiplier-tip'],key : 'baseToken' , value : basetokenDisplay(contract.bTokenSymbol)},\r\n      {label : lang['symbol'],key : 'symbol' ,value : contract['symbol'] },\r\n      {label : lang['underlier'],key : 'symbol' ,value : contract['underlier'] },\r\n      {label : lang['strike'],key : 'symbol' ,value : contract['strike'] },\r\n      {label : lang['option-type'],key : 'symbol' ,value : contract['optionType'] },\r\n      {label : lang['min-trade-volume'],key : '', value :  trading.contract['multiplier'] ? trading.contract['multiplier'] + trading.symbolInfo.unit : ''},\r\n      {label : lang['initial-margin-ratio'],tip : `${lang['initial-margin-ratio-tip']} <br> ${lang['option-initial-margin-ratio-formula']} ${bg(contract['initialMarginRatio']).times(100).toFixed(2)}%`,key : 'minInitialMarginRatio',\r\n      value : <DeriNumberFormat value={contract['initialMarginRatio'] * 100} decimalScale={2} suffix='%'/>},\r\n      {label : lang['maintenance-margin-ratio'],tip : (() => {\r\n        return `${lang['maintenance-margin-ratio-tip']} <br> ${lang['maintenance-margin-ratio-1']} ${bg(contract['maintenanceMarginRatio']).times(100).toFixed(2)}% <br> ${lang['maintenance-margin-ratio-2']} ${trading.index} * 4% = ${bg(trading.index).times(0.04)} `\r\n      })(),key : 'maintenanceMarginRatio',\r\n      value : <DeriNumberFormat value={contract['maintenanceMarginRatio'] * 100} decimalScale={2} suffix='%'/>},\r\n      {label : lang['transaction-fee'],tip : trading.TransactionFeeTip,tipWidth : '320',key : 'feeRatio',value : `${trading.feeDisplay.join(' ')}%`},\r\n      {label : lang['funding-period'],key : 'feeRatio',value : <DeriNumberFormat value={bg(contract['fundingPeriod']).div(86400).toFixed(0)} suffix={` ${lang['days']}`}/>,tip : lang['funding-period-tip']},\r\n      {label : lang['delta'],key : 'delta',value : <DeriNumberFormat value={contract['delta']}  decimalScale='2'/>},\r\n      {label : lang['gamma'],key : 'gamma',value : <DeriNumberFormat value={contract['gamma']}  decimalScale='6'/> },\r\n    ]\r\n  }\r\n  return (\r\n    <div className='contract-info'>\r\n      <div className='c-title'>{lang['contract-info']}</div>\r\n      <div className='c-body'>\r\n        {rows.map((row,index) => (\r\n          row.value && <div className='c-row' key={index}>\r\n            <div>\r\n              {row.tip && !row.labelDes ? <UnderlineText id={row.label} text={row.label} multiline={true} tip={row.tip} width={row.tipWidth}/> : row.labelDes ? <span className='base'>{row.label} (<UnderlineText text={row.labelDes} multiline={true} block='inline-block' id={row.label} tip={row.tip}  width={row.tipWidth}/>) </span>  : row.label} \r\n            </div>\r\n            <div className='c-value'>\r\n              {row.valueTip ? <UnderlineText text={row.value} multiline={true} tip={row.valueTip} width={row.tipWidth}/> : row.value}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default inject('trading')(observer(ContractInfo))","import React, { useState, useEffect } from 'react'\r\nimport closeModalIcon from '../../assets/img/close-modal-icon.svg'\r\nimport Input from '../Input/Input'\r\nimport './marginPanel.less'\r\nimport { hide } from 'react-functional-modal'\r\nimport DeriNumberFormat from '../../utils/DeriNumberFormat'\r\nimport ButtonGroup from '../ButtonGroup/ButtonGroup'\r\nimport classNames from 'classnames'\r\nimport ApiProxy from '../../model/ApiProxy'\r\nimport Icon from '../Icon/Icon'\r\nimport { DEPOSIT, WITHDRAW } from '../../utils/Constants'\r\nimport { percentTimesAmount } from '../../utils/utils'\r\nimport TransactionButton from '../TransactionButton/TransactionButton';\r\nimport { bg } from '../../lib/web3js'\r\nimport Search from '../Search/Search'\r\nimport RemoveHint from '../RemoveHint/RemoveHint'\r\n\r\n\r\n\r\nfunction MarginPanel({trading,lang,type,wallet,pool,alert}){\r\n  const [selectedBToken, setSelectedBToken] = useState({})\r\n  const [discount, setDiscount] = useState([])\r\n  const [baseTokens, setBaseTokens] = useState([])\r\n  const [amount, setAmount] = useState('')\r\n  const [defaultPercent, setDefaultPercent] = useState('');\r\n  const [marginChangedSummary,setMarginChangedSummary] = useState({})\r\n  const [loaded, setLoaded] = useState(false) \r\n  const [tradeInfo, setTradeInfo] = useState({})\r\n  const [isMax, setIsMax] = useState(false)\r\n\r\n  const marginChangeDescClass = classNames('mp-desc',{\r\n    show : amount > 0\r\n  })\r\n\r\n  const click = async () => {\r\n    const method = type === DEPOSIT ? 'depositMargin' : 'withdrawMargin'\r\n    if(type === WITHDRAW && bg(amount).gt(selectedBToken.availableBalance)){\r\n      alert.error(lang['under-margin']);\r\n      return;\r\n    }\r\n    if ((+amount) <= 0 || isNaN(amount)) {\r\n      alert.error(lang['it-has-to-be-greater-than-zero-tip']);\r\n      return;\r\n    }\r\n    const params = pool.isAllV3 \r\n                ? [wallet.detail.chainId,pool.address,wallet.detail.account,amount,selectedBToken.bTokenSymbol]\r\n                : [wallet.detail.chainId,pool.address,wallet.detail.account,amount,selectedBToken.bTokenId]\r\n    if(isMax) {\r\n      params.push(true)\r\n    } \r\n    const res = await ApiProxy.request(method,params,{\r\n      includeResponse : true\r\n    })\r\n    if(res && res.success){\r\n      alert.success(`${lang[type]} ${lang['success']}!`)\r\n      clean()\r\n    } else {\r\n      alert.error(`${lang[type]} ${lang['failed']}!  ${res.response['error']}`)\r\n    }\r\n  }\r\n  const clean = () => {\r\n    loadBToken();\r\n  }\r\n  const selectBToken = index => {\r\n    if(selectedBToken.bTokenSymbol !== baseTokens[index].bTokenSymbol){\r\n      setSelectedBToken(baseTokens[index])  \r\n      setAmount('')\r\n      setDefaultPercent('')\r\n    }\r\n  }\r\n  //\r\n  const loadBToken = async () => {\r\n    if(pool && pool.selectedSymbol){\r\n      const bTokens = await ApiProxy.request('getUserBTokensInfo',[wallet.detail.chainId,pool.selectedSymbol.address,wallet.detail.account])\r\n      setLoaded(true)\r\n      if(bTokens.length > 0){\r\n        setBaseTokens(bTokens.sort((t1,t2) => {\r\n          const bal1 = (+t1.availableBalance)\r\n          const bal2 = (+t2.availableBalance)\r\n          if( bal1 === 0 && bal2 > 0 ) {\r\n            return 1;\r\n          } else if(bal1 > 0 && bal2 === 0){\r\n            return -1;\r\n          } else {\r\n            return 0;\r\n          }\r\n        }))\r\n        setSelectedBToken(bTokens[0])\r\n        setAmount('')\r\n        setDefaultPercent('')\r\n      }\r\n    }\r\n  }\r\n\r\n  const loadBTokenDiscount = async () => {\r\n    if(wallet && pool && pool.isAllV3){\r\n      const discount = await ApiProxy.request('getBTokenDiscount',[wallet.detail.chainId,pool.address]);\r\n      setDiscount(discount)\r\n    }\r\n  }\r\n\r\n  const loadTradeInfo = async (selectedBToken) => {\r\n    if(pool.isAllV3 && selectedBToken && selectedBToken.bTokenSymbol){\r\n      const tradeInfo = await ApiProxy.request('getEstimatedTdInfo',[wallet.detail.chainId,pool.selectedSymbol.address,wallet.detail.account,selectedBToken.bTokenSymbol])\r\n      setTradeInfo(tradeInfo);\r\n    }\r\n  }\r\n\r\n  const onChange = value => {\r\n    setAmount(value)\r\n  }\r\n\r\n  const onSelect = value => {\r\n    if(value){\r\n      const balance = type === DEPOSIT ? selectedBToken.walletBalance : selectedBToken.availableBalance\r\n      const result = percentTimesAmount(value,balance)\r\n      setAmount(result)\r\n      setDefaultPercent(value)\r\n      if(value === '100%') {\r\n        setIsMax(true)\r\n      } else {\r\n        setIsMax(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadBToken()\r\n    loadBTokenDiscount();\r\n  }, [wallet,pool])\r\n\r\n\r\n  useEffect(() => {\r\n    loadTradeInfo(selectedBToken);\r\n  }, [selectedBToken.bTokenSymbol])\r\n\r\n  useEffect(() => {\r\n    if(trading.accountInfo && amount && tradeInfo){\r\n      const {dynEffMargin, marginUsage ,availableMargin } = trading.accountInfo\r\n      const changed = {}\r\n      const bTokenDiscount = discount.find(d => d.bTokenSymbol === selectedBToken.bTokenSymbol)\r\n      const value = bg(type === WITHDRAW ? -amount : amount).times(selectedBToken.bTokenPrice).times(bTokenDiscount.discount).toNumber()\r\n      changed.dynEffMargin = bg(dynEffMargin).plus(value).abs().toString();\r\n      changed.availableMargin = bg(availableMargin).plus(value).abs().toString();\r\n      changed.marginUsagePercent = bg(marginUsage).div(changed.dynEffMargin).abs().times(100).toString()\r\n\r\n      if((+tradeInfo.b0Penalty) < 0) {\r\n        changed.dynEffMargin = bg(dynEffMargin).plus(value).plus(tradeInfo.b0Penalty).abs().toString();\r\n        changed.availableMargin = bg(availableMargin).plus(value).plus(tradeInfo.b0Penalty).abs().toString();\r\n      }\r\n      setMarginChangedSummary(changed)\r\n    }\r\n  }, [amount])\r\n\r\n  return(\r\n    <div className='margin-panel'>\r\n      <div className='mp-title'>\r\n        <div>{lang['account']}&nbsp;{lang[type.toLowerCase()]}</div>\r\n        <img src={closeModalIcon} alt='' onClick={() => hide('marginPanel')}/>\r\n      </div>\r\n      <div className='mp-body'>\r\n        <div className='b-token-list'>\r\n          <Search list={baseTokens} width='380' height='48' onChange={list => setBaseTokens(list)}  />\r\n          <div className='mp-header'>\r\n            <div className='mp-col'>{lang['base-token']}</div>\r\n            <div className='mp-col'>{lang['wallet-balance']}</div>\r\n            <div className='mp-col'>{lang['available-balance']}</div>\r\n            {(pool.isV3 || pool.isV3Lite)  &&  <div className='mp-col'>{lang['disc-factor']}</div>} \r\n          </div>\r\n          <div className='mp-list'>\r\n            <ListBody loaded={loaded} baseTokens={baseTokens} pool={pool} selectedBToken={selectedBToken} selectBToken={selectBToken} lang={lang}/>\r\n          </div>\r\n        </div>\r\n        <div className='mp-main'>\r\n          <div className='mp-input'><Input value={amount} inputWidth={'70%'} decimal='18' onChange={value => onChange(value)} unit={selectedBToken.bTokenSymbol}/></div>\r\n          <div className='main-title'>\r\n            <BalanceDisplay selectedBToken={selectedBToken} type={type} lang={lang}/>\r\n            {type === WITHDRAW  \r\n            ?   \r\n            <RemoveHint lang={lang} baseToken={selectedBToken.bTokenSymbol} isB0Staked={tradeInfo.isB0Staked} penalty={tradeInfo.b0Penalty} availableBalance={selectedBToken.availableBalance}/>\r\n            :\r\n            selectedBToken.bTokenSymbol === 'BUSD'  && <RemoveHint lang={lang} baseToken={selectedBToken.bTokenSymbol} isB0Staked={tradeInfo.isB0Staked} penalty={tradeInfo.b0Penalty} availableBalance={1}/>\r\n            }\r\n          </div>\r\n          <div className='quick-help'>\r\n            <ButtonGroup groups={['25%','50%','75%','100%']} selectedBorderColor='#CD7A37' defaultValue={defaultPercent} onChange={value => onSelect(value)} outline={true} bgColor ='rgba(85, 119, 253, 0.1)' width={77} height={40}/>\r\n          </div>\r\n          <div className={marginChangeDescClass}>\r\n            <div className='mp-d-row'>\r\n              <div>{lang['margin-usage']}:</div> \r\n              <div>\r\n                <DeriNumberFormat value={trading.accountInfo.marginUsagePercent} suffix='%' decimalScale={2}/>&nbsp;->&nbsp;\r\n                <DeriNumberFormat value={marginChangedSummary.marginUsagePercent} suffix='%' allowZero decimalScale={2}/></div> \r\n            </div>\r\n            <div className='mp-d-row'>\r\n              <div>{lang['available-margin']}:</div> \r\n              <div><DeriNumberFormat value={trading.accountInfo.availableMargin} decimalScale={2}/> &nbsp;->&nbsp; \r\n              <DeriNumberFormat value={marginChangedSummary.availableMargin} decimalScale={2} allowZero/></div>\r\n            </div>\r\n            <div className='mp-d-row'><div>\r\n              {lang['dynamic-effective-balance']}:</div>\r\n              <div> \r\n                <DeriNumberFormat value={trading.accountInfo.dynEffMargin} decimalScale='2'/>&nbsp;->&nbsp;\r\n                <DeriNumberFormat value={marginChangedSummary.dynEffMargin} decimalScale='2' allowZero/>\r\n              </div>\r\n            </div>\r\n          </div> \r\n          <div className='mp-footer'>\r\n            <TransactionButton lang={lang} pool={pool} bTokenId={selectedBToken.bTokenId} alert={alert} bToken={selectedBToken.bTokenSymbol} trading={trading} wallet={wallet} label={lang[type.toLowerCase()].toUpperCase()} fontSize={18} fontWeight={700} width={332} height={56} onClick={click}/>            \r\n          </div>       \r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nfunction ListBody({loaded,baseTokens,selectBToken,selectedBToken,pool,lang}){\r\n  return (\r\n    loaded \r\n      ? \r\n        baseTokens.map((bToken,index) => {\r\n          const clazz = classNames('mp-row',{selected : bToken.bTokenSymbol === selectedBToken.bTokenSymbol})\r\n          return (\r\n            <div key={index} className={clazz} onClick={() => selectBToken(index)}>\r\n              <div className='mp-col align-left'>\r\n                <Icon token={bToken.bTokenSymbol.toUpperCase()} width={20} height={20}/>\r\n                <span >\r\n                  <div>{bToken.bTokenSymbol.toUpperCase()}</div>\r\n                  <div className='apy'>{lang['apy']}&nbsp;&nbsp;<DeriNumberFormat suffix='%' value={bg(bToken.supplyApy).plus(bToken.xvsApy).toString()} decimalScale='2' allowZero width='12px'/></div>\r\n                </span>\r\n              </div>\r\n              <div className='mp-col'><DeriNumberFormat value={bToken.walletBalance} allowZero={true} decimalScale={2}/></div>\r\n              <div className='mp-col'><DeriNumberFormat value={bToken.availableBalance} allowZero={true} decimalScale={2}/></div>\r\n              {(pool.isV3 || pool.isV3Lite)  &&  <div className='mp-col'>{bToken.discount}</div>} \r\n            </div>\r\n          )\r\n        })\r\n    :\r\n      <div className='mp-row loading-line'></div>\r\n  )\r\n}\r\n\r\n\r\nfunction BalanceDisplay({lang,type,selectedBToken}){\r\n  const text = type === DEPOSIT ? lang['wallet-balance'] : lang['available-balance']\r\n  const value = type === DEPOSIT ? selectedBToken.walletBalance : selectedBToken.availableBalance\r\n  return (\r\n    <div>\r\n      {text}\r\n      <DeriNumberFormat value={value} suffix={` ${selectedBToken.bTokenSymbol}`} decimalScale={2}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MarginPanel\r\n","import React,{useState,useEffect} from \"react\";\r\nimport { Pie, PieChart, Cell,Label ,Tooltip} from \"recharts\";\r\nimport styled from \"styled-components\";\r\nimport UnderlineText from \"../UnderlineText/UnderlineText\";\r\nimport { bg } from \"../../lib/web3js\";\r\nimport DeriNumberFormat from \"../../utils/DeriNumberFormat\";\r\nimport { isMobile } from \"../../utils/utils\";\r\nimport ReactTooltip from \"../Tooltip/Tooltip\";\r\nimport './gauge.less'\r\nimport Type from \"../../model/Type\";\r\n\r\n\r\nconst Wrapper = styled(UnderlineText)`\r\n  display: flex;\r\n  font-size : 24px;\r\n  color : #E0ECFF;\r\n  position: absolute;\r\n  width :36px;\r\n  justify-content: center;\r\n  left: 46%;\r\n  top: 46%;\r\n  .unit {\r\n    font-size: 12px;\r\n    display: flex;\r\n    margin-left: 2px;\r\n    height: 24px;\r\n    align-items: flex-end;\r\n  }\r\n  .text {\r\n    display : flex;\r\n  }\r\n`\r\n\r\nconst CustomTooltip = ({ value,tip }) => {\r\n  return (\r\n    <Wrapper tip={tip} multiline>\r\n      <DeriNumberFormat value={value} decimalScale={0} width='24px' height='22'/>\r\n      <div className='unit'> %</div>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default function Gauge({accountInfo = {},lang}){\r\n  const [data, setData] = useState([{value : 1}])\r\n  const [coordinate, setCoordinate] = useState({})\r\n  const [colorPercent, setColorPercent] = useState('');\r\n  const [endColor, setEndColor] = useState('#FF8C39')\r\n  const [fill, setFill] = useState('#203B60')\r\n  const marginUsagePercent = isNaN(accountInfo.marginUsagePercent) ? '' : accountInfo.marginUsagePercent\r\n  const startPointTip = `${marginUsagePercent}% : ${lang['graph-current-margin-usage-tip']}`\r\n  const Precent100 = lang['graph-100-percent-margin-usage-tip']\r\n  const Precent200 = Type.isFuture ? lang['graph-200-percent-margin-usage-tip'] : lang['graph-200-percent-margin-usage-tip-option']\r\n\r\n  useEffect(() => {\r\n    setData([{value : 1}])\r\n    setFill('#203B60')\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    if(accountInfo && (accountInfo.marginUsage || accountInfo.marginUsage === 0) && (accountInfo.dynEffMargin || accountInfo.dynEffMargin === 0)){\r\n      if(accountInfo.marginUsagePercent < 100 ){\r\n        const marginUsage = bg(accountInfo.dynEffMargin).times(accountInfo.marginUsagePercent / 100)\r\n        const data = (+accountInfo.dynEffMargin) === 0 \r\n        if(+accountInfo.dynEffMargin === 0) {\r\n          setData([{value : 1}])\r\n          setFill('#203B60')\r\n        } else {\r\n          setData([\r\n            { value: marginUsage.toNumber()},\r\n            { value: bg(accountInfo.dynEffMargin).minus(marginUsage).toNumber()},\r\n            { value: bg(accountInfo.dynEffMargin).div(2).toNumber()}\r\n          ])\r\n          setCoordinate({\r\n            x1 : '0.5' ,\r\n            y1 : '1',\r\n            x2 : '1',\r\n            y2 : \"0.5\"\r\n          })\r\n          setFill('url(#usageMargin)')\r\n          setEndColor('#FF8C39');\r\n        }\r\n        \r\n      } else {\r\n        const diff = bg(accountInfo.marginUsagePercent).minus(100).toNumber()\r\n        const overRange = bg(accountInfo.dynEffMargin).div(2)\r\n        const data = [\r\n          { value: bg(accountInfo.dynEffMargin).plus(overRange.times(diff).div(100)).toNumber()},\r\n          { value : 0,},\r\n          { value: overRange.times(100 - diff).div(100).toNumber()}\r\n        ]\r\n        setCoordinate({\r\n          x1 : '0.5' ,\r\n          y1 : '0.5',\r\n          x2 : '1',\r\n          y2 : \"0.5\"\r\n        })\r\n        setFill('url(#usageMargin)')\r\n        setEndColor('#CE5E5E')\r\n        setColorPercent('70%')\r\n        setData(data)\r\n      }\r\n\r\n    }\r\n  }, [accountInfo.marginUsagePercent])\r\n  return (\r\n    <div className='gauge'>\r\n      <PieChart height={150} width={200}>\r\n        <defs>\r\n          <linearGradient\r\n            id=\"usageMargin\"\r\n            {...coordinate}\r\n          >\r\n            <stop offset=\"0%\" stopColor=\"#8EEC6D\" />\r\n            <stop offset='70%' stopColor={endColor} />\r\n          </linearGradient>\r\n          <linearGradient\r\n            id=\"availMargin\"\r\n            // gradientTransform=\"rotate(90deg)\"\r\n          >\r\n            <stop offset=\"0.17%\" stopColor=\"#43608D\" />\r\n            <stop offset=\"100.17%\" stopColor=\"#3F4D8B\" />\r\n          </linearGradient>\r\n        </defs>\r\n        <Pie\r\n          cy='55%'\r\n          cx='55%'\r\n          startAngle={225}\r\n          endAngle={-45}\r\n          innerRadius={'60%'}\r\n          outerRadius={'80%'} \r\n          data={data}\r\n          dataKey=\"value\"\r\n          labelLine={false}\r\n          cornerRadius={5}\r\n          stroke=\"none\"\r\n          isAnimationActive={true}\r\n        >\r\n          <Cell fill={fill}  />\r\n          <Cell fill=\"url(#availMargin)\" fillOpacity='0.4' />\r\n          <Cell fill=\"#CE5E5E\" fillOpacity='0.15'/>\r\n        </Pie>\r\n      </PieChart>\r\n      <CustomTooltip tip={startPointTip} value ={marginUsagePercent}/>\r\n      <ReactTooltip  id='warn-tip' multiline width='375' padding='12'/>\r\n      <div className='start-point'>0%</div>\r\n      <div className='point-100'><UnderlineText  text='100%' tip={Precent100} multiline={true}/></div>\r\n      <div className='point-200'><UnderlineText  text={Type.isFuture ? '200%' : 'MAX'} tip={Precent200} multiline={true}/></div>\r\n      <div className='point-200-red'></div>\r\n    </div>\r\n  )\r\n};","import styled from \"styled-components\"\r\nimport Icon from \"../../../components/Icon/Icon\"\r\nimport classNames from \"classnames\"\r\n\r\nconst Wrapper = styled.div`\r\n  &.trade-warnning {\r\n    display: flex;\r\n    visibility: hidden;\r\n    height: 0;\r\n    border : 1px dashed \r\n  }\r\n\r\n  .content {\r\n    font-size: 12px;\r\n    margin-left: 12px;\r\n    font-weight: 500;\r\n  }\r\n  \r\n  &.show {\r\n    visibility: visible;\r\n    height: auto;\r\n    opacity: 1; \r\n    animation: fadeIn 1s;\r\n    padding: 16px 16px;\r\n    border: 1px dashed #203B60;\r\n  }\r\n`\r\nexport default function TradeWarnning({content,className}){\r\n  return (\r\n      <Wrapper className={classNames('trade-warnning',className)}>\r\n        <div className='icon'><Icon token='trade-warn'/></div>\r\n        <div className='content' dangerouslySetInnerHTML={{__html : content}} ></div>\r\n      </Wrapper>\r\n    )\r\n}","import React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport gaugeGraph from '../../../assets/img/gauge-graph.svg'\r\nimport DeriNumberFormat from '../../../utils/DeriNumberFormat'\r\nimport Button from '../../../components/Button/Button'\r\nimport { SECONDARY, DEPOSIT, WITHDRAW } from '../../../utils/Constants'\r\nimport UnderlineText from '../../../components/UnderlineText/UnderlineText'\r\nimport { show, hide } from 'react-functional-modal'\r\nimport MarginPanel from '../../../components/MarginPanel/MarginPanel'\r\nimport { observer, inject} from 'mobx-react';\r\nimport './accountInfo.less'\r\nimport {useAlert} from 'react-alert'\r\nimport Gauge from '../../../components/Gauge/Gauge';\r\nimport TradeWarnning from '../Sidebar/TradeWarnning'\r\nimport classNames from 'classnames'\r\nimport Icon from '../../../components/Icon/Icon'\r\nimport ApiProxy from '../../../model/ApiProxy'\r\nimport Type from '../../../model/Type'\r\n\r\nfunction DynEffectiveBalanceDisplay({wallet,trading,lang,dynEffMargin}){\r\n  const [isShowCollect, setIsShowCollect] = useState(false)\r\n  const alert = useAlert()\r\n  const showClass = classNames('xvs-earned',{\r\n    show : isShowCollect\r\n  })\r\n  const closeCollect = e => {\r\n    e.stopPropagation()\r\n    setIsShowCollect(!isShowCollect)\r\n  }\r\n  const claimVenusReward = async (e) => {\r\n    e.stopPropagation()\r\n    const params = [wallet.detail.chainId,trading.symbolInfo.address,wallet.detail.account]\r\n    const res = await ApiProxy.request('claimXVSTd',params,{includeResponse: true})\r\n    if(res.success){\r\n      alert.success(lang['collect-success'])\r\n    } else {\r\n      alert.error(lang['collect-failed'])\r\n    }\r\n    closeCollect(e)\r\n  }\r\n  useEffect(() => {\r\n    const close = () => setIsShowCollect(false)\r\n    document.addEventListener('click',close,false)\r\n    return () => {\r\n      document.removeEventListener('click',close)\r\n    }\r\n  }, [])\r\n  return trading.symbolInfo.isAllV3 \r\n  ? <div className='value v3'>\r\n      <div className='dyn-eff-bal'>\r\n        <DeriNumberFormat value={dynEffMargin} decimalScale='2' suffix={` ${trading.tradeBToken}`} closeShowLoadingEffectAfterLoaded={true}/> \r\n        <div><Icon token={isShowCollect ? 'arrow-up' : 'arrow-down'} alt='collect' width='24' height='24' onClick={closeCollect}/></div>\r\n      </div>\r\n      <div className={showClass}>\r\n        <span className='label'>{lang['xvs-earned']} </span>\r\n        <DeriNumberFormat decimalScale='2' value={trading.venusEarned} width='16px' className='claimed' closeShowLoadingEffectAfterLoaded={true}/> \r\n        <Button bgColor='rgba(55, 86, 205, 0.5)' disabled={(+trading.venusEarned) === 0} className='collect' onClick={claimVenusReward} fontSize='14' fontWeight='400' width='70' height='24' label={lang['collect']}/>\r\n      </div>\r\n    </div>\r\n  : <div className='value'><DeriNumberFormat value={dynEffMargin} decimalScale='2' suffix={` ${trading.tradeBToken}`} closeShowLoadingEffectAfterLoaded={true}/> </div>\r\n}\r\n\r\nfunction AccountInfo({trading,wallet,lang}){\r\n  const alert = useAlert()\r\n  const [isShowWarn, setIsShowWarn] = useState(false)\r\n  const [warnContent, setWarnContent] = useState('')\r\n  const showWarnClass = classNames({show : isShowWarn})\r\n  const showMarginPanel = (type) => {\r\n    show(<MarginPanel type={type} trading={trading} wallet={wallet} lang={lang} pool={trading.pool} alert={alert}/> ,{\r\n      key  : 'marginPanel',\r\n      fading: true,\r\n      style: {\r\n        background: \"rgba(0, 0, 0, 0.4)\" ,\r\n        zIndex : 2,\r\n      }\r\n    })\r\n  }\r\n  useEffect(() => {\r\n    if(trading.accountInfo){\r\n      if(trading.accountInfo.marginUsagePercent >=100 ){\r\n        setWarnContent(lang['over-margin-100%-warn-tip'])\r\n        setIsShowWarn(true)\r\n      }\r\n      if(trading.accountInfo.marginUsagePercent >= 180) {\r\n        const tip = Type.isFuture ? lang['over-margin-180%-warn-tip'] : lang['over-margin-180%-option-warn-tip']\r\n        setWarnContent(tip)\r\n        setIsShowWarn(true)\r\n      }\r\n      if(trading.accountInfo.marginUsagePercent < 100){\r\n        setIsShowWarn(false)\r\n      }\r\n    }\r\n  }, [trading.accountInfo,trading.symbolInfo.symbol])\r\n\r\n  return(\r\n    <div className='account' >\r\n      <div className='a-info'>\r\n          <div className='content'>\r\n            <div className='detail-graph'>\r\n              <div className='detail'>\r\n                <div className='title row'>{lang['account-info']}</div>\r\n                <div className='row'>\r\n                  <div><UnderlineText text={lang['dynamic-effective-balance']} multiline tip={lang['dynamic-effective-balance-tip']}/></div>\r\n                  <DynEffectiveBalanceDisplay wallet={wallet} trading={trading} lang={lang} dynEffMargin={trading.accountInfo.dynEffMargin}/>\r\n                </div>\r\n                <div className='row'>\r\n                  <div><UnderlineText text={lang['margin-usage']} tip={lang['margin-usage-tip']}/></div>\r\n                  <div className='value'><DeriNumberFormat value={trading.accountInfo.marginUsage} suffix={` ${trading.tradeBToken}`} closeShowLoadingEffectAfterLoaded={true} decimalScale='2' /></div>\r\n                </div>\r\n                <div className='row'>\r\n                  <div><UnderlineText text={lang['available-margin']} tip={lang['available-margin-tip']} multiline/></div>\r\n                  <div className='value'><DeriNumberFormat value={trading.accountInfo.availableMargin} decimalScale='2' closeShowLoadingEffectAfterLoaded={true} suffix={` ${trading.tradeBToken}`}/></div>\r\n                </div>\r\n              </div>\r\n              <div className='graph'>\r\n                <Gauge accountInfo={trading.accountInfo} lang={lang}/>\r\n              </div>\r\n          </div>\r\n          <TradeWarnning content={warnContent} className={showWarnClass}/>\r\n          <div className='info-footer'>\r\n            <Button lang={lang} trading={trading} type={SECONDARY} icon='deposit' isReady={trading.isAccountReady} outline label={lang['deposit'].toUpperCase()} onClick={() => showMarginPanel(DEPOSIT)}/> \r\n            <Button lang={lang} trading={trading} outline type={SECONDARY} icon='withdraw' isReady={trading.isAccountReady} label={lang['withdraw'].toUpperCase()} onClick={() => showMarginPanel(WITHDRAW)}/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default inject('wallet','trading')(observer(AccountInfo))","import React, { useState,useEffect } from 'react'\r\nimport RcSlider,{SliderTooltip} from 'rc-slider'\r\nimport 'rc-slider/assets/index.css';\r\nexport default function Slider({min,step,max,value,defaultValue,onSlide,className,trackStyle = {},railStyle = {},handleStyle = {}}){\r\n  return (\r\n    <RcSlider\r\n        min={+min}\r\n        max={+max}\r\n        value={+value}\r\n        className={className}\r\n        onChange={onSlide}\r\n        defaultValue={defaultValue}\r\n        trackStyle={{...trackStyle}}\r\n        handleStyle={{...handleStyle}}\r\n        railStyle={{...railStyle}}\r\n        step={(+value) < (+step) ? 0.01 : step}\r\n      />\r\n  )\r\n}","import styled from \"styled-components\"\r\nimport Button from \"../../../components/Button/Button\"\r\nimport closeModalIcon from '../../../assets/img/close-modal-icon.svg'\r\nimport { hide } from \"react-functional-modal\"\r\nimport './confirmation.less'\r\nimport DeriNumberFormat from \"../../../utils/DeriNumberFormat\"\r\nimport { storeSkipConfirmation } from \"../../../utils/utils\"\r\nimport Label from \"../../../components/Label/Label\"\r\nimport { BUY } from \"../../../utils/Constants\"\r\nimport Type from \"../../../model/Type\"\r\n\r\nexport default function Confirmation({ trading, lang, direction, type, alert, skipConfirmation }) {\r\n  const buttonText = (direction === BUY) ? lang['buy-long'] : lang['sell-short']\r\n\r\n  const onClick = async () => {\r\n    const res = await trading.doTransaction();\r\n    if (res.success) {\r\n      trading.refresh();\r\n      storeSkipConfirmation(skipConfirmation)\r\n      alert.success(lang['transaction-success'])\r\n      hide('confirmation')\r\n    } else {\r\n      alert.error(lang['transaction-failed'])\r\n      hide('confirmation')\r\n    }\r\n  }\r\n  return (\r\n    <div className='confirmation'>\r\n      <div className='confirm-title'>{lang['confirmation']} <img src={closeModalIcon} alt='' onClick={() => hide('confirmation')} /></div>\r\n      <div className='confirm-body'>\r\n        <div className='confirm-legend'>\r\n          <div className='before-direction-volume'>\r\n            <div className='before'><Label text={`${trading.directionChanged.before} ${trading.volumeChanged.before}`}  className={trading.directionChanged.before} /></div>\r\n            {/* <div className='before'><Label text={`${trading.volumeChanged.before}`} className={trading.directionChanged.before}/></div> */}\r\n          </div>\r\n          <div className='middle-arrow'>\r\n            <div className='arrow'>-></div>\r\n            {/* <div className='arrow'>-></div> */}\r\n          </div>\r\n          <div className='now-direction-volume'>\r\n            <div className='now'><Label text={`${trading.directionChanged.now} ${trading.volumeChanged.now}`} className={trading.directionChanged.now} /></div>\r\n            {/* <div className='now'><Label text={`${trading.volumeChanged.now}`}  className={trading.directionChanged.now}/></div> */}\r\n          </div>\r\n\r\n        </div>\r\n        <div className='confirm-row'>\r\n          <div className='confirm-col'>{lang['volume']}</div>\r\n          <div className='confirm-col value'><DeriNumberFormat value={trading.volumeChanged.totalVolume} suffix={` ${trading.symbolInfo.unit}`} decimalScale={trading.minTradeScaleDecimal} /></div>\r\n        </div>\r\n        <div className='confirm-row'>\r\n          <div className='confirm-col'>{lang['trade-price']}</div>\r\n          <div className='confirm-col value'><DeriNumberFormat value={trading.impactPreview.tradePrice} decimalScale={2} /></div>\r\n        </div>\r\n        <div className='confirm-row'>\r\n          <div className='confirm-col'>{lang['fee']}</div>\r\n          <div className='confirm-col value'><DeriNumberFormat value={trading.impactPreview.fee} decimalScale={2} suffix={` ${trading.symbolInfo.bTokenSymbol}`} /></div>\r\n        </div>\r\n        <div className='confirm-row'>\r\n          <div className='confirm-col'>{lang['margin-usage']}</div>\r\n          <div className='confirm-col value'><DeriNumberFormat value={trading.impactPreview.marginUsage} decimalScale={2} />&nbsp;->&nbsp;<DeriNumberFormat value={trading.impactPreview.marginUsageAfter} allowZero decimalScale={2} /></div>\r\n        </div>\r\n        <div className='confirm-row'>\r\n          <div className='confirm-col'>{lang['available-margin']}</div>\r\n          <div className='confirm-col value'><DeriNumberFormat value={trading.impactPreview.availableMargin} decimalScale={2} />&nbsp;->&nbsp;<DeriNumberFormat value={trading.impactPreview.availableMarginAfter} allowZero decimalScale={2} /></div>\r\n        </div>\r\n        {Type.isFuture && <div className='confirm-row'>\r\n          <div className='confirm-col'>{lang['liq-price']}</div>\r\n          <div className='confirm-col value'><DeriNumberFormat value={trading.impactPreview.liqPrice} decimalScale={2} />&nbsp;->&nbsp;<DeriNumberFormat value={trading.impactPreview.liqPriceAfter} decimalScale={2} /></div>\r\n        </div>}\r\n      </div>\r\n      <div className='confirm-btn'>\r\n        <Button width='323' height='54' fontColor='#FFFFFF' onClick={onClick} label={buttonText} fontSize='18' fontWeight='700' />\r\n      </div>\r\n    </div>\r\n  )\r\n}","import {useState,useEffect,useRef} from 'react'\r\nimport Input from '../../../components/Input/Input'\r\nimport styled from 'styled-components'\r\nimport Slider from '../../../components/Slider/Slider'\r\nimport ButtonGroup from '../../../components/ButtonGroup/ButtonGroup'\r\nimport Button from '../../../components/Button/Button'\r\nimport Checkbox from '../../../components/Checkbox/Checkbox'\r\nimport { BUY, SELL, TRADE_ENTRY_DOLLAR_STATUS, TRADE_ENTRY_VOLUME_STATUS, TRADING_CLOSE_POSITION_STATUS, SKIP_TRADE_CONFIRMATION } from '../../../utils/Constants'\r\nimport './leverageBar.less'\r\nimport classNames from 'classnames'\r\nimport { show } from 'react-functional-modal'\r\nimport Confirmation from './Confirmation'\r\nimport { inject, observer } from 'mobx-react'\r\nimport Toggle from '../../../components/Toggle/Toggle';\r\nimport {useAlert} from 'react-alert'\r\nimport {isMobile, storeSkipConfirmation, isElementInViewport, isScrollBottom } from '../../../utils/utils'\r\nimport DeriNumberFormat from '../../../utils/DeriNumberFormat'\r\nimport TradeWarnning from './TradeWarnning'\r\nconst modalOptions = {\r\n  key  : 'confirmation',\r\n  fading: true,\r\n  style: {\r\n    background: \"rgba(0, 0, 0, 0.4)\" ,\r\n    zIndex : 1\r\n  }\r\n};\r\n\r\nfunction LeverageBar({trading,wallet,lang,direction = BUY,type}){\r\n  const [skipConfirmation, setSkipConfirmation] = useState(false)\r\n  const [position, setPosition] = useState('')\r\n  const alert = useAlert();\r\n  const inputTipRef = useRef()\r\n  const btnRef = useRef();\r\n  const buttonText = (direction === BUY) ? lang['buy-long'] : lang['sell-short']  \r\n  const clazz = classNames('leverage-bar',direction)\r\n  const closeOnlyClazz = classNames('close-only',{\r\n    show : (direction === BUY && (+trading.position.volume) < 0) || (direction === SELL && (+trading.position.volume) > 0) \r\n  })\r\n  const transSummaryClazz = classNames('trans-summary',{\r\n    show : trading.volume > 0\r\n  })\r\n  const inputTipClass = classNames('input-tip',{\r\n    show : trading.volume > 0\r\n  })\r\n  const orderSliderBarClass = classNames('order-slider',{\r\n    'close-only' : trading.closeOnly,\r\n    'close-position' : trading.positionTradingStatus === TRADING_CLOSE_POSITION_STATUS\r\n  })\r\n  const tradeWarnClass = classNames({\r\n    show : trading.tradeWarn\r\n  })\r\n  const doTransaction = async () => {\r\n    if(skipConfirmation){\r\n      const res = await trading.doTransaction();\r\n      if(res.success){\r\n        trading.refresh();\r\n        storeSkipConfirmation(1)\r\n        alert.success(lang['transaction-success'])\r\n      } else {\r\n        alert.error(lang['transaction-failed'])\r\n      }\r\n    } else {\r\n      show(<Confirmation lang={lang} direction={direction}  type={type.current} trading={trading} alert={alert} skipConfirmation={skipConfirmation}/>,modalOptions)\r\n    }\r\n  }\r\n  const onSlide = value => {\r\n    trading.setInputPercentageValue('')\r\n    trading.setInputSliderValue(value)\r\n  }\r\n\r\n  const percentSelect = value => {\r\n    trading.setInputPercentageValue(value)\r\n  }\r\n  const inputVolume = (volume) => {\r\n    trading.setInputPercentageValue('')\r\n    trading.setVolume(volume)\r\n  }\r\n  const dollarOnChange = dollar => {\r\n    trading.setInputPercentageValue('')\r\n    trading.setInputDollarValue(dollar)\r\n  }\r\n\r\n  const closeOnly = checked => {\r\n    trading.setCloseOnly(checked)\r\n    trading.setInputPercentageValue('')\r\n  }\r\n\r\n  const clear = () => {\r\n    trading.setInputPercentageValue('')\r\n    trading.setInputDollarValue('')\r\n    trading.setInputSliderValue('')\r\n    trading.setVolume('')\r\n    trading.setCloseOnly(false)\r\n  }\r\n\r\n  const onCheckboxChanged = checked => {\r\n    setSkipConfirmation(checked)\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    clear();\r\n    setSkipConfirmation(trading.skipTradeConfirmation)\r\n    trading.setDirection(direction);\r\n  }, [direction,trading.symbolInfo.symbol])\r\n\r\n\r\n  useEffect(() => {\r\n    const inputTipVisible = isElementInViewport(inputTipRef.current)\r\n    const btnRefVisible = isElementInViewport(btnRef.current)\r\n    if(trading.volume !== '' && (+trading.volume) !== 0 && inputTipVisible && !isMobile() && !btnRefVisible){\r\n      setPosition('fixed')\r\n    } else {\r\n      setPosition('')\r\n    }\r\n  }, [trading.volume])\r\n\r\n  const handler = () => {\r\n    const inputTipVisible = isElementInViewport(inputTipRef.current);\r\n    const btnRefVisible = isElementInViewport(btnRef.current)\r\n    if(trading.volume !== '' && (+trading.volume) !== 0 && inputTipVisible && !isMobile()){\r\n      setPosition('fixed')\r\n    } else {\r\n      setPosition('')\r\n    }\r\n    if(isScrollBottom() || btnRefVisible){\r\n      setPosition('')\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('scroll', handler, false);\r\n    document.addEventListener('resize', handler, false);\r\n    return () => {\r\n      document.removeEventListener('scroll',handler)\r\n      document.removeEventListener('resize',handler)\r\n    }\r\n  }, [])\r\n\r\n  \r\n  return (\r\n    <div className={clazz}>\r\n      <div className='tip'>{lang['set-volume']}</div>\r\n      <div className='input-area'>\r\n        <Input value={trading.volumeValue} minTradeVolume={trading.minEntryVolume} step={trading.minEntryVolume} \r\n          max={trading.maxEntryVolume} onChange={inputVolume} decimal={trading.minTradeScaleDecimal} unit={trading.curTradeUnit} className='l-input'/>\r\n        <div className='cutting-line'></div>\r\n        <Input value={trading.dollarValue} unit='USD' step='0.01' min={0} max={trading.maxDollarValue}\r\n         onChange={dollarOnChange} className='l-input' inputWidth='70%'/>\r\n      </div>\r\n      <div className='slider-bar'>\r\n        <Slider max={trading.maxAvailableMargin} trackStyle={trading.sliderStyle.trackStyle} railStyle={trading.sliderStyle.railStyle} handleStyle={trading.sliderStyle.handleStyle} min={0}\r\n                step={trading.minEntryVolume} onSlide={onSlide} value={trading.sliderValue}\r\n                className={orderSliderBarClass}/>\r\n      </div>\r\n      <div className='quick-input'>\r\n        <ButtonGroup outline = {true} onChange={percentSelect} defaultValue={trading.inputPercentageValue} className='l-button-group' />\r\n        <div className='input-helper'>\r\n          <div className={closeOnlyClazz}><Toggle label={lang['close-only']} className='l-toggle' onClick={closeOnly} checked={trading.closeOnly}/></div>\r\n          <div className='clear' onClick={clear}>{lang['clear']}</div>\r\n        </div>\r\n        <div className={inputTipClass} ref={inputTipRef}><span className='number'> {trading.inputHelpText}</span></div>\r\n      </div>\r\n      <TradeWarnning content={lang['warn-text']} className={tradeWarnClass}/>\r\n      <div className={transSummaryClazz}>\r\n        <div className='trans-title'>{lang['transaction-summary']}</div>\r\n        <div className='trans-body'>\r\n          <div className='trans-row'>\r\n            <div className='trans-col'>{lang['margin-usage']}</div>\r\n            <div className='trans-col'><DeriNumberFormat value={trading.impactPreview.marginUsage} allowZero={true} decimalScale={2}/>&nbsp;->&nbsp; <DeriNumberFormat value={trading.impactPreview.marginUsageAfter} allowZero decimalScale={2}/></div>\r\n          </div>\r\n          <div className='trans-row'>\r\n            <div className='trans-col'>{lang['trade-price']}</div>\r\n            <div className='trans-col'><DeriNumberFormat value={trading.impactPreview.tradePrice} decimalScale={2}/></div>\r\n          </div>\r\n          <div className='trans-row'>\r\n            <div className='trans-col'>{lang['fee']}</div>\r\n            <div className='trans-col'><DeriNumberFormat value={trading.impactPreview.fee} decimalScale={2}/></div>\r\n          </div>\r\n          {type.isFuture && <div className='trans-row'>\r\n            <div className='trans-col'>{lang['liquidate-price']}</div>\r\n            <div className='trans-col'><DeriNumberFormat value={trading.impactPreview.liqPriceAfter} decimalScale={2}/></div>\r\n          </div>}\r\n        </div>\r\n      </div>\r\n      <div className='action' >\r\n        <div className='skip-confirm' >\r\n          <Checkbox  checked = {skipConfirmation} onChange={onCheckboxChanged} className='l-checkbox'/>\r\n          <span className='confirm-text' onClick={() => onCheckboxChanged(!skipConfirmation)}>{lang['skip-transaction-confirm']}</span>\r\n        </div>\r\n        <div className='action-button' ref={btnRef}>\r\n          <Button trading={trading} position={position} wallet={wallet} disabled={!trading.isTradingReady} lang={lang} label={buttonText} className='l-button' onClick={doTransaction}/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default inject('trading','type','wallet')(observer(LeverageBar))","import styled from 'styled-components';\r\nimport Tab from '../../../components/Tab/Tab';\r\nimport LeverageBar from './LeverageBar';\r\nimport { BUY, SELL } from '../../../utils/Constants';\r\n\r\nconst TabWrapper = styled(Tab)`\r\n  &.leveragebar-tab {\r\n    .tab-header {\r\n      .tab-left.active,.tab-right.active {\r\n        height : 10px;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport default function Orderbar({lang}){\r\n  const tabSet = {\r\n    [lang['buy']] : {\r\n      content: <LeverageBar direction={BUY} lang={lang}/>,\r\n      style: { \r\n        background: 'linear-gradient(180deg, rgba(172, 225, 255, 0.08) 0.16%, rgba(66, 143, 124, 0.08) 70.66%)'\r\n      },\r\n      borderColor :\"rgba(89, 174, 153, 0.3)\",\r\n      direction: \"tab-left\",\r\n      fontColor : \"#59AE99\"\r\n    },\r\n    [lang['sell']] : {\r\n      content : <LeverageBar direction={SELL}  lang={lang}/>,\r\n      style : {\r\n        background: 'linear-gradient(180deg, rgba(206, 94, 94, 0.08)-0.02%, rgba(206, 94, 94, 0.08) 80.65%)'\r\n      },\r\n      borderColor:\"rgba(206, 94, 94, 0.2)\",\r\n      direction:\"tab-right\",\r\n      fontColor : \"#CE5E5E\"\r\n    }\r\n  } \r\n  return(\r\n    <div>\r\n      <TabWrapper tabSet={tabSet} width='100%' className='leveragebar-tab' height={44} size={18} inactiveBgColor='#0A172B' borderTop={true}  borderBottom={true} divider={true}/>\r\n    </div>\r\n  )\r\n}","import Tab from \"../../../../components/Tab/Tab\"\r\nimport { FUTURE, FUTURE_INNO, FUTURE_OPEN } from \"../../../../lib/web3js/shared\"\r\nimport DeriNumberFormat from \"../../../../utils/DeriNumberFormat\"\r\nimport Arrow from \"../../../../components/Arrow/Arrow\"\r\nimport { ARROW_UP, VERSION_V2, VERSION_V2_LITE, VERSION_V2_OPEN, VERSION_V3 ,VERSION_V3_LITE} from \"../../../../utils/Constants\"\r\nimport './symbolPanel.less'\r\nimport { inject, observer } from \"mobx-react\"\r\nimport Type from \"../../../../model/Type\"\r\nimport {\r\n  Accordion,\r\n  AccordionItem,\r\n  AccordionItemHeading,\r\n  AccordionItemButton,\r\n  AccordionItemPanel,\r\n} from 'react-accessible-accordion';\r\nimport Icon from \"../../../../components/Icon/Icon\"\r\nimport ReactTooltip from \"react-tooltip\"\r\n\r\n\r\nfunction SymbolPanel({ trading, lang, symbols = [] ,onClose }) {\r\n  const onSelect = info => {\r\n    if (info.version === 'v2_lite_open') {\r\n      return;\r\n    }\r\n    trading.onSymbolChange(info)\r\n    onClose && onClose()\r\n  }\r\n  return (\r\n    <div className='symbol-panel'>\r\n      <div className='sp-main'>\r\n        {Type.isFuture ?\r\n          <FuturePanel lang={lang} symbols={symbols} trading={trading} onSelect={onSelect} />\r\n          :\r\n          <OptionPanel symbols={symbols} onSelect={onSelect} />\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction FuturePanel({ lang, symbols = [], onSelect }) {\r\n  const tabSet = {\r\n    [lang['main']]: {\r\n      content: <SymbolList lang={lang} symbols={symbols} version={VERSION_V3} zone='main' onSelect={onSelect} />\r\n    },\r\n    [lang['inno']]: {\r\n      content: <SymbolList lang={lang} symbols={symbols} version={[VERSION_V3_LITE,VERSION_V2_LITE]} zone='inno' onSelect={onSelect} />\r\n    },\r\n    [lang['open']]: {\r\n      content: <SymbolList lang={lang} symbols={symbols} version={VERSION_V2_OPEN} zone='open' onSelect={onSelect} />\r\n    }\r\n  }\r\n  return (\r\n    <Tab tabSet={tabSet} activeBgColor='rgba(255, 255, 255, 0.1)' className='future-zone-tab' />\r\n  )\r\n}\r\n\r\nconst OptionPanel = ({ symbols = {}, onSelect }) => {\r\n  const keys = Object.keys(symbols);\r\n  return (\r\n    <Accordion allowMultipleExpanded allowZeroExpanded preExpanded={[0, 1]} className='option-symbols'>\r\n      {keys.map((key, index) => (\r\n        <AccordionItem uuid={index} key={key}>\r\n          <AccordionItemHeading>\r\n            <AccordionItemButton><Icon token={key} height={30} width={30} style={{ marginRight: '8px' }} />{key}</AccordionItemButton>\r\n          </AccordionItemHeading>\r\n          <AccordionItemPanel>\r\n            {symbols[key].map((info,index) => {\r\n              return (\r\n                <div key={index} className='option-row' onClick={e => onSelect(info)}>\r\n                  <div className='option-name'>\r\n                    {info.symbolDisplay}\r\n                  </div>\r\n                  <div className='option-value'>\r\n                    <DeriNumberFormat prefix='$' value={info.markPrice} decimalScale={2} width='56' />\r\n                    {info.volumn24h && <Icon width={8} token={info.volumn24h > 0 ? 'rate-up' : 'rate-down'} />}\r\n                    <DeriNumberFormat value={info.volumn24h * 100} decimalScale={2} suffix='%' />\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </AccordionItemPanel>\r\n        </AccordionItem>\r\n      ))}\r\n    </Accordion>)\r\n\r\n}\r\n\r\nfunction SymbolList({ symbols, version, onSelect, lang ,zone}) {\r\n  let filterSymbols = symbols.sort((s1,s2) => s1.version > s2.version ? -1 : 0).filter(s => Array.isArray(version) ? version.includes(s.version) : s.version === version && zone === s.zone)\r\n  if (version === 'v2_lite_open') {\r\n    filterSymbols = [\r\n      {\r\n        \"symbol\": \"BTCUSD\",\r\n        \"version\":\"v2_lite_open\",\r\n        \"symbolDisplay\": \"BTCUSDT/SATS\",\r\n      },\r\n      {\r\n        \"symbol\": \"BTCUSD\",\r\n        \"version\":\"v2_lite_open\",\r\n        \"symbolDisplay\": \"BTCUSDT/ONT\",\r\n      },\r\n      {\r\n        \"symbol\": \"ETHUSD\",\r\n        \"version\":\"v2_lite_open\",\r\n        \"symbolDisplay\": \"ETHUSDT/ONT\",\r\n      },\r\n      {\r\n        \"symbol\": \"ONTUSD\",\r\n        \"version\":\"v2_lite_open\",\r\n        \"symbolDisplay\": \"ONTUSD/ONT\",\r\n      },\r\n      {\r\n        \"symbol\": \"BTCUSD\",\r\n        \"version\":\"v2_lite_open\",\r\n        \"symbolDisplay\": \"BTCUSDT/NULS\",\r\n      },\r\n      {\r\n        \"symbol\": \"ETHUSD\",\r\n        \"symbolDisplay\": \"ETHUSDT/NULS\",\r\n      },\r\n      {\r\n        \"symbol\": \"NULSUSDT\",\r\n        \"version\":\"v2_lite_open\",\r\n        \"symbolDisplay\": \"NULSUSDT/ONT\",\r\n      },\r\n      {\r\n        \"symbol\": \"BTCUSD\",\r\n        \"version\":\"v2_lite_open\",\r\n        \"symbolDisplay\": \"BTCUSDT/zUSD\",\r\n      },\r\n      {\r\n        \"symbol\": \"ETHUSD\",\r\n        \"version\":\"v2_lite_open\",\r\n        \"symbolDisplay\": \"ETHUSDT/zUSD\",\r\n      },\r\n    ]\r\n  }\r\n  return (\r\n    <div className='symbols'>\r\n      {filterSymbols.map((info, index) => {\r\n        return (\r\n          <div className='symbol-row' key={index} onClick={() => onSelect(info)}>\r\n            <div className='ss-name'><Icon token={info.symbol} height={30} width={30} />{info.symbolDisplay}</div>\r\n            <div className='ss-value'>\r\n              <div className='ss-value-detail'>\r\n                {version === \"v2_lite_open\" && <>\r\n                  <Open lang={lang} />\r\n                </>}\r\n                {version !== VERSION_V2_OPEN && <>\r\n                  <DeriNumberFormat prefix='$' value={info.markPrice} decimalScale={2} width='56' />\r\n                  {info.volumn24h && <Icon width={8} token={info.volumn24h > 0 ? 'rate-up' : 'rate-down'} />}\r\n                  <DeriNumberFormat value={info.volumn24h * 100} decimalScale={2} suffix='%' />\r\n                </>}\r\n              </div>\r\n            </div>\r\n          </div>)\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction Open({ lang }) {\r\n  return (\r\n    <div className='open-list'>\r\n      {lang['operating']}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default inject('trading')(observer(SymbolPanel))","import {useEffect,useState,useRef} from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './symbolInfo.less'\r\nimport DeriNumberFormat from '../../../../utils/DeriNumberFormat'\r\nimport { firstLetterUppercase } from '../../../../utils/utils'\r\nimport Icon from '../../../../components/Icon/Icon'\r\nimport classNames from 'classnames'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport SymbolPanel from './SymbolPanel'\r\nimport { inject, observer } from 'mobx-react'\r\nimport Tooltip from '../../../../components/Tooltip/Tooltip'\r\n\r\nfunction SymbolInfo({trading,onGirdLayoutChange,lang}){\r\n  const [isShow, setIsShow] = useState(false)\r\n  const toolTipRef = useRef()\r\n  const [isShowKline, setIsShowKline] = useState(false)\r\n  const rateClass = classNames('rate',{\r\n    'up' : trading.symbolInfo.volumn24h > 0,\r\n    'down' : trading.symbolInfo.volumn24h < 0\r\n  })\r\n\r\n  const closeTooltip = () => setIsShow(false)\r\n\r\n  const calculatePosition = (position,currentEvent,currentTarget,refNode,place,desiredPlace,effect,offset) => {\r\n    const rect = currentTarget.parentElement.getBoundingClientRect();\r\n    // const top = position.top;\r\n    const top = currentTarget.parentElement.offsetTop + rect.height\r\n    return {top:top ,left : rect.left}\r\n  }\r\n\r\n  const onClose = () => {\r\n    if(toolTipRef.current){\r\n      toolTipRef.current.tooltipRef = null;\r\n      ReactTooltip.hide();\r\n      setIsShow(false)\r\n    }\r\n  }\r\n\r\n  const onLayoutChange = (isMobile) => {\r\n    setIsShowKline(isMobile)\r\n    onGirdLayoutChange(isMobile)\r\n  }\r\n  const closeKline = () => {\r\n    onLayoutChange(false)\r\n  }\r\n  useEffect(() => {\r\n    closeTooltip()\r\n    document.addEventListener('click',closeTooltip)\r\n    window.addEventListener('resize',closeKline)\r\n    return () => {\r\n      document.removeEventListener('click',closeTooltip)\r\n      window.removeEventListener('resize',closeKline)\r\n    }\r\n  }, [trading.symbolInfo,trading.markPrice])\r\n  return (\r\n    <div className='symbol-info' >\r\n      <div className='main'>\r\n        <div className='s-left'  data-for='symbol-panel' data-event='click' data-tip='tooltip'>\r\n          <div>\r\n            <div className='zone'>{firstLetterUppercase(trading.symbolInfo.zone)}</div>\r\n            <div className='symbol-name'><Icon token={trading.symbolInfo.symbol}/>{trading.symbolInfo.symbol}</div>\r\n          </div>\r\n          <div className='select-icon'>\r\n            <Icon token={isShow ? 'arrow-up' : 'arrow-down'} alt='select'/>\r\n          </div>\r\n          <div className='divider-line'></div>\r\n        </div>\r\n        <div className='index-area'>\r\n          <div className='index-area-wraper'>\r\n            <div className={rateClass}>\r\n              {trading.symbolInfo.volumn24h && <Icon token={trading.symbolInfo.volumn24h > 0 ? 'rate-up' : 'rate-down'} alt='' />}\r\n              <DeriNumberFormat value={trading.symbolInfo.volumn24h * 100} decimalScale={2} suffix='%'/></div>\r\n            <div className='index-value'><DeriNumberFormat value={trading.markPrice || trading.symbolInfo.markPrice} decimalScale={2}/></div>\r\n          </div>\r\n        </div>\r\n        <div className='kline-icon' onClick={() => onLayoutChange(!isShowKline)}>\r\n          <Icon token={isShowKline ? 'close-kline' : 'kline'} width={isShowKline ? '16' :'24'} height={isShowKline ? '16' :'24'}/>\r\n        </div>\r\n      </div>\r\n      <Tooltip ref={toolTipRef} afterHide={() => setIsShow(false)} afterShow={() => setIsShow(true)} id='symbol-panel' width={331} place='bottom' overridePosition={calculatePosition}\r\n         resizeHide={false} eventOff={null} scrollHide={false} className='s-react-tooltip' type=\"info\" globalEventOff='click' backgroundColor='#203B60' clickable >\r\n        <SymbolPanel lang={lang} pool={trading.pool} symbols={trading.symbolInfos} onClose={onClose}/>\r\n      </Tooltip>\r\n    </div>\r\n  )\r\n}\r\nexport default inject('trading')(observer(SymbolInfo))","import React, { useEffect,useState } from 'react';\r\nimport './trade.less'\r\nimport TradeInfo from './TradeInfo/TradeInfo'\r\nimport Tradingview from './Tradingview/Tradingview'\r\nimport { inject, observer } from 'mobx-react';\r\nimport MyInfo from './MyInfo/MyInfo';\r\nimport ContractInfo from './ContractInfo/ContractInfo';\r\nimport AccountInfo from './Account/AccountInfo';\r\nimport OrderBar from './Sidebar/OrderBar';\r\nimport classNames from 'classnames';\r\nimport SymbolInfo from './Sidebar/SymbolArea/SymbolInfo';\r\n\r\nfunction Trade({trading,loading,wallet,version,type,lang}){\r\n  const [loaded, setloaded] = useState(false)\r\n  const [isMobileLayout, setIsMobileLayout] = useState(false)\r\n\r\n  const layoutClass = classNames('trade-layout',{\r\n    'mobile-trade-layout' : isMobileLayout\r\n  })\r\n\r\n  useEffect(() => {\r\n    loading.loading()\r\n    trading.init(wallet,() => {\r\n      setloaded(true)\r\n    })\r\n    return () => { trading.clean()} ;\r\n  }, [wallet.detail.account,version.current,type.current])\r\n\r\n  return (\r\n    <div className={layoutClass}>\r\n      <div className='symbol-area'><SymbolInfo lang={lang}  onGirdLayoutChange={(isMobileLayout) => setIsMobileLayout(isMobileLayout)}/></div>\r\n      <div className='account-info'><AccountInfo lang={lang}/></div>\r\n      <div className='orderbar'><OrderBar lang={lang}/></div>\r\n      <div className='trade-info'><TradeInfo lang={lang}/></div>\r\n      <div className='kline'><Tradingview lang={lang} /></div>\r\n      <div className='my-info'><MyInfo lang={lang}/></div>\r\n      <div className='contract'><ContractInfo lang={lang}/></div>\r\n      {/* <div className='trades'><Trades lang={lang}/></div> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport  default inject('wallet','type','version','loading','trading')(observer(Trade))\r\n","import React,{useState,useEffect,useRef} from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport NumberFormat from 'react-number-format'\r\nimport { inject, observer } from 'mobx-react';\r\nimport styled from 'styled-components';\r\nimport { toPlainString,countDecimal } from './utils';\r\nimport { bg } from '../lib/web3js';\r\nconst Wrapper = styled(NumberFormat)`\r\n  width : ${props => props.width}px;\r\n`\r\nconst LoadLine = styled.div`\r\n  width : ${props => /px$/.test(props.width) ? props.width : `${props.width}px`};\r\n  height : ${props => /px$/.test(props.height) ? props.height : `${props.height}px`};\r\n`\r\nfunction DeriNumberFormat(props){\r\n  const [renderablity, setRenderablity] = useState(<span className='loading-line'></span>);\r\n  const [firstTime, setFirstTime] = useState(true)\r\n  const isValidate = () => {\r\n    const {allowZero} = props \r\n    return (typeof props.value !== 'object' && props.value !== undefined && props.value !== '' && !isNaN(props.value) && props.value !== 'NaN') \r\n          || ((Math.abs(props.value)) === 0 && allowZero === true )\r\n  }\r\n\r\n  useEffect(() => {\r\n    const {allowZero,wallet,defaultValue = '--',...others} = props \r\n    if(isValidate()) {\r\n      //00\r\n      if(!allowZero && others.value && /\\d+\\.0*[1-9]+/.test(others.value)  && (+bg(others.value).toFixed((+others.decimalScale || 2))) === 0){\r\n        others.decimalScale = countDecimal(Math.abs(others.value)) + 1\r\n      }\r\n      others.value = toPlainString(others.value)\r\n      if(others.value && /\\d+.9{6}/.test(others.value)){\r\n        others.value = (+others.value).toFixed(5)\r\n      }\r\n      setRenderablity(<Wrapper {...others}  displayType = 'text'  fixedDecimalScale={true} thousandSeparator={true}/>)\r\n    } else if(firstTime){\r\n      setRenderablity(<LoadLine className='loading-line' {...props}></LoadLine>)\r\n      if(props.closeShowLoadingEffectAfterLoaded){\r\n        setFirstTime(false)\r\n      }\r\n    } \r\n    const timeout = window.setTimeout(() => {\r\n      // && wallet && (!wallet.isConnected() || !wallet.supportChain)\r\n      if(!isValidate()){\r\n        setRenderablity(defaultValue)\r\n      }\r\n    },30000)\r\n    return () => {\r\n      clearTimeout(timeout)\r\n    };\r\n  }, [props.value,props.decimalScale,props.suffix]);\r\n\r\n  return renderablity;\r\n}\r\nexport default DeriNumberFormat\r\n// export default inject('wallet')(observer(DeriNumberFormat))","/* eslint-disable react/no-danger-with-children */\r\nimport styled from 'styled-components';\r\nimport Tooltip from '../Tooltip/Tooltip';\r\nimport { MD5, isMobile } from '../../utils/utils';\r\n\r\n\r\nconst Wrapper = styled.div`\r\n  display:${props => props.block};\r\n  .text {\r\n    border-bottom : 1px dashed #93A1B8;\r\n    width : max-content;\r\n    cursor : pointer;\r\n    display:${props => props.block}\r\n  }\r\n`\r\n\r\n\r\nexport default function UnderlineText({ text, id = MD5(text), tip, multiline, html, className, block = 'block', width = 'auto', children, tiggerEvent }) {\r\n  const calculatePosition = (position, currentEvent, currentTarget, refNode, place, desiredPlace, effect, offset) => {\r\n    const rect = currentTarget.getBoundingClientRect();\r\n    const tooltipNodeRect = refNode.getBoundingClientRect();\r\n    //\r\n    let { x: left, y: top, height } = rect\r\n    const { left: originLeft, top: originTop } = position\r\n    // top = top + height\r\n    if (originLeft + tooltipNodeRect.width > document.documentElement.clientWidth) {\r\n      left = originLeft - tooltipNodeRect.width + rect.width;\r\n    } else {\r\n      left = originLeft\r\n    }\r\n    if (originTop + tooltipNodeRect.height >= document.documentElement.clientHeight) {\r\n      top = originTop - tooltipNodeRect.height + height / 2\r\n    } else {\r\n      top = originTop\r\n    }\r\n    if (left < 0) {\r\n      left = 0\r\n    }\r\n    if (top < 0) {\r\n      top = 0\r\n    }\r\n    return { top: top, left: left }\r\n  }\r\n  return (\r\n    <Wrapper className={className} block={block}>\r\n      <div className='text' data-for={id} data-tip={tip} data-event={isMobile() ? 'click' : tiggerEvent} data-html={html} >\r\n        {text || children}\r\n      </div>\r\n      {tip && <Tooltip id={id} width={width} padding='12' place='bottom' overridePosition={calculatePosition} html={html} borderRadius={8} multiline={multiline}>\r\n      </Tooltip>}\r\n    </Wrapper>\r\n  )\r\n}","import React, { useState ,useEffect} from 'react';\r\nimport Button from \"../Button/Button\";\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n    display : flex;\r\n    width: 100%;\r\n    justify-content: space-between;\r\n  `\r\nexport default function ButtonGroup({groups = ['25%','50%','75%','100%'],selectedBorderColor,defaultBorderColor ,onChange,defaultValue ,outline,outlineColor,width,height,bgColor,className}){\r\n  const [value, setValue] = useState(defaultValue)\r\n  const select = current => {\r\n    if(current !== value) {\r\n      setValue(current)\r\n      onChange && onChange(current);\r\n    } else if(current === value){\r\n      setValue('')\r\n      onChange && onChange('');\r\n    } else {\r\n      setValue(current)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    setValue(defaultValue)\r\n  }, [defaultValue])\r\n  return (\r\n  <Wrapper className={className}>\r\n    {groups.map((text,index) => (\r\n      <Button label={text} key={index} selectedBorderColor ={selectedBorderColor} isSelected={text === value} disabled={false} outline = {outline} bgColor={bgColor} className='g-button' defaultBorderColor={defaultBorderColor} outlineColor={outlineColor} width={width} height={height} onClick={() => select(text)}/>\r\n    ))}\r\n  </Wrapper>)\r\n}","import styled from 'styled-components'\r\nimport React, { useState } from 'react';\r\nconst Wrapper = styled.div`\r\n    cursor: pointer;\r\n    width:${props => props.width}px;\r\n    height:${props => props.height}px;\r\n    display:flex;\r\n    .tab-left.inactive{\r\n      border-radius:0px 0px 4px 0px;\r\n    }\r\n    .tab-right.inactive{\r\n      border-radius:0px 0px 0px 4px;\r\n    }\r\n    .tab-left.active{\r\n      border-radius:0px 4px 0px 0px;\r\n      ${props => props.borderR};\r\n      height:14px;\r\n    }\r\n    .tab-right.active{\r\n      border-radius:4px 0px 0px 0px;\r\n      ${props => props.borderL};\r\n      height:14px;\r\n    }\r\n    .inactive,.active{\r\n      width:50%;\r\n      box-sizing: content-box;\r\n      padding: 15px 24px;\r\n      font-size:${props => props.size}px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n    }\r\n    .inactive{\r\n      background:${props => props.inactiveBgColor};\r\n      ${props => props.borderB}\r\n    }\r\n    .active {\r\n      color: ${props => props.activeFontColor};\r\n      background : ${props => props.activeBgColor};\r\n      ${props => props.borderT};\r\n    }\r\n    .icon-tab{\r\n      margin-right:20px;\r\n      width:25px;\r\n      height:25px;\r\n    }\r\n  `\r\nexport default function Tab({ tabSet, inactiveBgColor,activeBgColor,icon, className, width = 238, height = 47, size = 16,borderTop = false,borderBottom = false, divider = false }) {\r\n  const arr = Object.keys(tabSet)\r\n  const [selected, setSelected] = useState(arr[0])\r\n  const styles = tabSet[selected].style\r\n  const borderT = borderTop ? `border-top:1px solid ${tabSet[selected].borderColor}`:\"border-top:0\"\r\n  const borderB = borderBottom ? `border-bottom:1px solid ${tabSet[selected].borderColor}`:\"border-bottom:0\"\r\n  const borderL = divider ? `border-left:1px solid ${tabSet[selected].borderColor}`:\"border-left:0\"\r\n  const borderR = divider ? `border-right:1px solid ${tabSet[selected].borderColor}`:\"border-right:0\"\r\n  const activeFontColor = tabSet[selected].fontColor ? tabSet[selected].fontColor : '#FFFFFF'\r\n\r\n  function select(item) {\r\n    setSelected(item)\r\n  }\r\n\r\n  return (\r\n    <div style={styles} className={className}>\r\n      <Wrapper className='tab-header' width={width} height={height} \r\n        activeFontColor={activeFontColor} activeBgColor ={activeBgColor} inactiveBgColor={inactiveBgColor} size={size} borderT={borderT} borderB={borderB} borderL={borderL} borderR={borderR}>\r\n        {arr.map(item => (\r\n          <div\r\n            key={item}\r\n            className={item === selected ? `${tabSet[item].direction} active` : `${tabSet[item].direction} inactive`}\r\n            onClick={() => select(item)}>\r\n            {tabSet[item].icon ? <img alt='' className='icon-tab' src={item === selected ? tabSet[item].icon :tabSet[item].inicon } /> :\"\"}  {item}\r\n          </div>\r\n        ))}\r\n      </Wrapper>\r\n      {tabSet[selected].content}\r\n    </div>\r\n  )\r\n}","import { useEffect, useRef, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { bg } from '../../lib/web3js';\r\n\r\nconst Wrapper = styled.div`\r\ndisplay : flex;\r\nfont-size : 14px;\r\nalign-items : center;\r\nbackground: rgba(85, 119, 253, 0.1);\r\nborder-radius: 4px;\r\njustify-content: space-between;\r\ninput {\r\n  background: transparent;\r\n  border-radius: 4px;\r\n  // min-width: 240px;\r\n  border: 0;\r\n  width : ${props => props.inputWidth};\r\n  height: 56px;\r\n  color : #E0ECFF;\r\n  font-size : 18px;\r\n  padding-left: 16px;\r\n}\r\ninput:focus {\r\n  outline: none;\r\n}\r\n.unit {\r\n  margin-right: ${props => props.unitPadding};\r\n}\r\n`\r\nexport default function Input({value,unit,max,step,onChange,styles = {},focus,unitPadding = '24px',minTradeVolume,decimal = 2,readOnly,inputWidth = '50%',className,disabled = false}){\r\n  const inputRef = useRef(null);\r\n  const change = e => {\r\n    const regStr = `\\\\d+\\\\.\\\\d{0,${decimal}}$`\r\n    const reg = new RegExp(regStr)\r\n    const {value} = e.target\r\n    if(max && bg(value).gt(max)){    \r\n      onChange && onChange(max)\r\n    } else if(value < 0 || isNaN(value)) {\r\n      onChange && onChange('')\r\n    } else if(value){\r\n      if(minTradeVolume >= 1) {\r\n        if(value / minTradeVolume >=1) {\r\n          onChange && onChange(bg(value).div(minTradeVolume).integerValue() * minTradeVolume) \r\n        } else {\r\n          const validValue = value * minTradeVolume\r\n          onChange && onChange(validValue) \r\n        }\r\n      } else if(/\\d+\\./.test(value) && !reg.test(value)){\r\n        const filter = value.substring(0,value.indexOf('.') + 1 + decimal)\r\n        onChange && onChange(filter)\r\n      } else {\r\n        onChange && onChange(value)\r\n      }\r\n    } else {\r\n      onChange && onChange(value)\r\n    }\r\n  }\r\n\r\n  useEffect(()=>{\r\n    inputRef.current.setCustomValidity('')\r\n    if(inputRef.current && focus){\r\n      inputRef.current.focus();\r\n    }\r\n  },[focus])\r\n\r\n\r\n  return (\r\n    <Wrapper  unitPadding={unitPadding} inputWidth={inputWidth} className={className} style={{...styles}}>\r\n      <input type='number' disabled = {disabled} value={value} step = {step} ref={inputRef} onChange={change} readOnly={readOnly}/>\r\n      <div className='unit'>{unit}</div>\r\n    </Wrapper>    \r\n  )\r\n}","import ReactToggle from 'react-toggle'\r\nimport \"react-toggle/style.css\"\r\nimport './toggle.less'\r\n\r\nexport default function Toggle({label,className,checked,onClick}){\r\n  \r\n  const click = (e) => {\r\n    onClick && onClick(!checked)\r\n  }\r\n  return (\r\n    <div className='l-toggle'>\r\n      <span className='label-text'>{label}</span>\r\n      <ReactToggle onClick={click}\r\n        checked={checked}\r\n        className={className}\r\n        onChange={click}\r\n        icons={false} />      \r\n    </div>\r\n  )\r\n}","import React ,{useState,useEffect} from 'react'\r\nimport styled from 'styled-components'\r\nimport classNames from 'classnames'\r\n\r\nconst CheckboxContainer = styled.div`\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n`\r\n\r\nconst Icon = styled.svg`\r\n  fill: none;\r\n  stroke: white;\r\n  stroke-width: 2px;\r\n`\r\n// Hide checkbox visually but remain accessible to screen readers.\r\n// Source: https://polished.js.org/docs/#hidevisually\r\nconst HiddenCheckbox = styled.input.attrs({ type: 'checkbox' })`\r\n  border: 0;\r\n  clip: rect(0 0 0 0);\r\n  clippath: inset(50%);\r\n  height: 1px;\r\n  margin: -1px;\r\n  overflow: hidden;\r\n  padding: 0;\r\n  position: absolute;\r\n  white-space: nowrap;\r\n  width: 1px;\r\n`\r\n\r\nconst StyledCheckbox = styled.div`\r\n  background: ${props => (props.checked ? '#5577FD' : 'none')};\r\n  border: 2px solid #5577FD;\r\n  display: inline-block;\r\n  width: 18px;\r\n  height: 18px;\r\n  border-radius: 4px;\r\n  box-sizing: border-box;\r\n  border-radius: 4px;\r\n  cursor : pointer;\r\n\r\n  ${HiddenCheckbox}:focus + & {\r\n    box-shadow: 0 0 0 3px pink;\r\n  }\r\n\r\n  ${Icon} {\r\n    visibility: ${props => (props.checked ? 'visible' : 'hidden')};\r\n    display: flex;\r\n  }\r\n`\r\n\r\n\r\nconst Checkbox = ({ className,onChange,checked , ...props }) => {\r\n  const [selected, setSelected] = useState(checked)\r\n  const onClick = () => {\r\n    const value = !selected\r\n    setSelected(value)\r\n    onChange && onChange(value);\r\n  }\r\n  useEffect(() => {\r\n    setSelected(checked)\r\n  }, [checked])\r\n  const clazz = classNames('c-checkbox',{checked : selected})\r\n  return (\r\n    <CheckboxContainer className={className}>\r\n    <HiddenCheckbox checked={selected} {...props} onChange={onChange} />\r\n    <StyledCheckbox checked={selected} className={clazz} onClick={onClick}>\r\n      <Icon className='icon' viewBox=\"0 0 24 24\">\r\n        <polyline points=\"20 6 9 17 4 12\" />\r\n      </Icon>\r\n    </StyledCheckbox>\r\n  </CheckboxContainer>\r\n  )}\r\n\r\nexport default Checkbox\r\n","import React, {useEffect,useState } from 'react'\r\nimport Button from \"../Button/Button\";\r\nimport { useAlert } from 'react-alert'\r\nimport { inject, observer } from 'mobx-react';\r\n\r\nfunction TransactionButton({lang,wallet,pool = {},bTokenId,bToken,icon,label,onClick,isReady,disabled = true,alert,...restProps}){\r\n  const [enabled, setEnabled] = useState(true)\r\n  const [btnText,setBtnText] = useState(label)\r\n  const [image, setImage] = useState(icon)\r\n\r\n  const click = async () => {\r\n    if(pool && wallet && wallet.detail){\r\n      if(!wallet.isConnected()) {\r\n        setImage(null)\r\n        return wallet.connect()\r\n      } else if(!wallet.isApproved) {\r\n        setImage(null)\r\n        let res = await wallet.approve()\r\n        if(res){\r\n          alert && alert.success('Approve success')\r\n        }else{\r\n          alert && alert.error('Approve failed')\r\n        }\r\n        return res;\r\n      } else {\r\n        setImage(icon)\r\n        return onClick();\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(async () => {\r\n    if(pool && wallet && wallet.detail && pool.bTokens && lang){      \r\n      if(!wallet.isConnected()) {\r\n        setBtnText(lang['connect-wallet'])\r\n        setImage(null)\r\n      } else if(!wallet.isApproved && bToken !== 'WBNB') {\r\n        setBtnText(lang['approve'])\r\n        setImage(null)\r\n      } else {\r\n        setBtnText(label)\r\n        setImage(icon)\r\n      }\r\n    }\r\n  },[pool,wallet.detail,wallet.isApproved,lang,bToken])\r\n\r\n  useEffect(()=>{\r\n    setEnabled(disabled)\r\n  },[disabled])\r\n\r\n  useEffect(() => {\r\n    if(wallet && pool && pool.address){\r\n      wallet.setAddress(pool.address);\r\n      if(pool.isV3 || pool.isV3Lite){\r\n        wallet.setBToken(bToken)\r\n      } else {\r\n        wallet.setBTokenId(bTokenId)\r\n      }\r\n    }\r\n  },[wallet,pool,bTokenId,bToken])\r\n  return(\r\n    <Button {...restProps} disabled={!enabled} label={btnText} onClick={click} icon={image}/>\r\n  )\r\n}\r\nexport default inject('wallet')(observer(TransactionButton))","import { useEffect, useState } from 'react'\r\nimport apiProxy from '../../model/ApiProxy'\r\nimport styled from 'styled-components'\r\nimport Icon from '../Icon/Icon';\r\nimport UnderlineText from '../UnderlineText/UnderlineText'\r\n\r\nconst Wrapper = styled.div`\r\n  .remove-hint{\r\n    cursor: pointer;\r\n    .text{\r\n      display: flex;\r\n      border:0;\r\n    }\r\n    span{\r\n      margin-left:8px;\r\n    }\r\n  }\r\n`\r\n\r\nexport default function RemoveHint({lang, baseToken, penalty, isB0Staked, availableBalance }) {\r\n  const [text,setText] = useState('')\r\n  useEffect(()=>{\r\n    let label;\r\n    if(isB0Staked){\r\n      if(baseToken === 'BUSD'){\r\n        label = `${lang['your-account-has-an-unsettled-balance-of']} ${penalty} BUSD ${lang['this-action-will-update-your']}`\r\n      } else {\r\n        label = `${lang['your-account-has-an-unsettled-balance-of']} ${penalty} BUSD ${lang['this-action-will-trigger-swapping']} ${baseToken} ${lang['to-update-your']}`\r\n      }\r\n    } else{\r\n      label = `${lang['your-account-has-an-unsettled-balance-of']} ${penalty} BUSD ${lang['this-action-will-trigger-swapping']} ${baseToken} ${lang['to-update-your-busd-balance-to-reflect-the-unsettled-amount']}`\r\n    }\r\n    setText(label)\r\n  },[isB0Staked,penalty,baseToken])\r\n  return (\r\n    <Wrapper>\r\n      {(+penalty) < 0 &&  (+availableBalance) > 0 &&  <div className='remove-hint'>\r\n          <UnderlineText tip={text} width='332'>\r\n            <Icon token='warn' /> <span>{lang['negative-unsettled-balance']}</span>\r\n          </UnderlineText>\r\n        </div>}\r\n    </Wrapper>\r\n\r\n  )\r\n}","import React, { useEffect, useState, useRef } from 'react';\r\nimport styled from \"styled-components\"\r\nimport searchLogo from '../../assets/img/search.svg'\r\nconst Wrapper = styled.div`\r\n  .search-token{\r\n  width: ${props => props.width }px;\r\n  height: ${props => props.height}px;\r\n  background: ${props => props.bgColor};\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding:0 24px;\r\n  border-radius:4px;\r\n  img{\r\n    width:18px;\r\n    height:18px;\r\n  }\r\n  .search-input{\r\n    border: 0;\r\n    width:100%;\r\n    height: 100%;\r\n    background:transparent;\r\n    outline-style: none;\r\n    color: #FFFFFF;\r\n    font-size: 18px;\r\n    border-radius: 4px;\r\n  }\r\n}\r\n`\r\n\r\nexport default function Search({ list, onChange,width='320',height='48', bgColor='rgba(85, 119, 253, 0.1)', searchName = 'bTokenSymbol' }) {\r\n  const [search, setSearch] = useState('')\r\n  const [length,setLength] = useState(0)\r\n  const origin = useRef([])\r\n  const searchChange = (e) => {\r\n    let value = e.target.value\r\n    setSearch(value)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (search) {\r\n      let value = search.toLocaleUpperCase()\r\n      if (origin.current.length === 0) {\r\n        origin.current = list\r\n        setLength(list.length)\r\n      }\r\n      const arr = origin.current.filter(el => el[searchName] && el[searchName].indexOf(value) >= 0)\r\n      onChange(arr)\r\n    } else {\r\n      onChange(origin.current)\r\n    }\r\n  }, [search])\r\n  useEffect(()=>{\r\n    if (origin.current.length === 0) {\r\n      setLength(list.length)\r\n    }\r\n  },[list])\r\n  return (\r\n    <Wrapper width={width} height={height} bgColor={bgColor}>\r\n      <div className='search-token'>\r\n        <input\r\n          type='text'\r\n          className='search-input'\r\n          placeholder='Search'\r\n          value={search}\r\n          onChange={(e) => { searchChange(e) }}\r\n        />\r\n        <img src={searchLogo} alt='' />\r\n      </div>\r\n    </Wrapper>\r\n\r\n  )\r\n}"],"sourceRoot":""}